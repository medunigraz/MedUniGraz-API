{"version":3,"sources":["webpack:///main.75056624623eb2330bc0.bundle.js","webpack:///./src/app/base/floor.ts","webpack:///./src/app/base/beaconeditmode.ts","webpack:///./src/app/base/globalconstants.ts","webpack:///./src/app/base/poitype.ts","webpack:///./src/app/beacondialog/beacondialog.component.ts","webpack:///./src/app/testmap/testmap.component.ts","webpack:///./src/app/mapservice/map.service.ts","webpack:///./src/app/editablemap/mapLayerBase.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/editablemap/openlayershelper.ts","webpack:///./src/app/mapservicehttp/mapservicehttp.service.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/base/point.ts","webpack:///./src/app/base/signal.ts","webpack:///./src/app/beaconconnector/beaconconnector.component.ts","webpack:///./src/app/beaconconnector/signalbuffer.ts","webpack:///./src/app/beaconconnector/signalbuffercollection.ts","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.ts","webpack:///./src/app/editablemap/editablemap.component.ts","webpack:///./src/app/editablemap/mapBeaconStyles.ts","webpack:///./src/app/editablemap/mapBeacons.ts","webpack:///./src/app/editablemap/mapDoors.ts","webpack:///./src/app/editablemap/mapEdges.ts","webpack:///./src/app/editablemap/mapEditEdges.ts","webpack:///./src/app/editablemap/mapFloor.ts","webpack:///./src/app/editablemap/mapNodes.ts","webpack:///./src/app/editablemap/mapNodesStyles.ts","webpack:///./src/app/editablemap/mapPois.ts","webpack:///./src/app/editablemap/mapRoom.ts","webpack:///./src/app/editablemap/mapRoute.ts","webpack:///./src/app/editablemap/mapRouteStyles.ts","webpack:///./src/app/floorselector/floorselector.component.ts","webpack:///./src/app/mapcontrollerservice/mapcontrollerservice.service.ts","webpack:///./src/app/mapservice/mock-basemap01.ts","webpack:///./src/app/mapservice/mock-basemap02.ts","webpack:///./src/app/mapservice/mock-floors.ts","webpack:///./src/app/mapservice/mock-navigationedges.ts","webpack:///./src/app/mapservice/mock-rooms.ts","webpack:///./src/app/mapservice/mock-route.ts","webpack:///./src/app/modeselector/modeselector.component.ts","webpack:///./src/app/poiselector/poiselector.component.ts","webpack:///./src/app/roomsearch/roomsearch.component.ts","webpack:///./src/app/roomsearchmd/roomsearchmd.component.ts","webpack:///./src/app/routetest/routetest.component.ts","webpack:///./src/app/testmap/navigationedges.ts","webpack:///./src/app/testmap/roommap.ts","webpack:///./src/app/testmap/routemap.ts","webpack:///./src/environments/environment.prod.ts","webpack:///./src/app/base/applicationmode.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/beaconconnector/beaconconnector.component.css","webpack:///./src/app/beacondialog/beacondialog.component.css","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.css","webpack:///./src/app/editablemap/editablemap.component.css","webpack:///./src/app/floorselector/floorselector.component.css","webpack:///./src/app/modeselector/modeselector.component.css","webpack:///./src/app/poiselector/poiselector.component.css","webpack:///./src/app/roomsearch/roomsearch.component.css","webpack:///./src/app/roomsearchmd/roomsearchmd.component.css","webpack:///./src/app/routetest/routetest.component.css","webpack:///./src/app/testmap/testmap.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/beaconconnector/beaconconnector.component.html","webpack:///./src/app/beacondialog/beacondialog.component.html","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.html","webpack:///./src/app/editablemap/editablemap.component.html","webpack:///./src/app/floorselector/floorselector.component.html","webpack:///./src/app/modeselector/modeselector.component.html","webpack:///./src/app/poiselector/poiselector.component.html","webpack:///./src/app/roomsearch/roomsearch.component.html","webpack:///./src/app/roomsearchmd/roomsearchmd.component.html","webpack:///./src/app/routetest/routetest.component.html","webpack:///./src/app/testmap/testmap.component.html"],"names":["webpackJsonp","1167","module","exports","__webpack_require__","185","d","Floor","obj","this","id","name","building","getDefaultFloor","277","BeaconEditModeT","BeaconEditMode","BeaconEditModes","mode","CreateDefault","DEFAULT","ADD","MOVE","28","USEHTTPSERVICE","MODIFY_EDGE_MINSTARTPOINT_DISTANCE","API_BASE_URL","449","__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__","PoiType","selected","iconurl","450","__WEBPACK_IMPORTED_MODULE_0__angular_core__","__WEBPACK_IMPORTED_MODULE_1__angular_forms__","__WEBPACK_IMPORTED_MODULE_2__angular_material__","BeacondialogComponent","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","dialogRef","macInputVal","nameInputVal","batteryOutputVal","mac","okButtonDisabled","nearestSignal","undefined","prototype","ngOnInit","_this","valueChanges","debounceTime","subscribe","term","updateOkButtonEnabled","scan","console","log","value","setValue","battery","closeDialog","close","save","setMacAndName","setNearestSignal","val","JSON","stringify","selector","template","styles","_a","451","__WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__","__WEBPACK_IMPORTED_MODULE_4__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_5__routemap__","__WEBPACK_IMPORTED_MODULE_6__roommap__","__WEBPACK_IMPORTED_MODULE_7__navigationedges__","TestmapComponent","mapServiceHttp","mapService","_applicationMode","testString","ngAfterViewInit","loadPOIs","loadBaseMap","createOverlay","select","ol","interaction","Select","wrapX","layers","layer","allowOLSelection","routemap","Initialize","navigationmap","roommap","modify","Modify","features","getFeatures","condition","evt","allowOLModify","extent","proj","Projection","code","units","imageExtent","map","Map","controls","control","defaults","attributionOptions","collapsible","zoom","interactions","extend","Tile","source","OSM","poiLayer","baseMapLayer","getRouteLayer","getHiddenRouteLayer","getRoomLayer","getEdgeLayer","getEdgePathLayer","overlays","roomOverlay","view","View","projection","center","fromLonLat","maxZoom","minZoom","on","mapClicked","mapMouseMoved","selectionChanged","set","applicationMode","selected_collection","EDIT_NODES","getArray","updateEdges","clear","Clear","enumerable","configurable","keyboardInput","event","keyCode","deleteSelectedEdge","get","deselectedFeatures","deselected","selectedFeatures","_i","selectedFeatures_1","feature","geometry","getGeometry","startPoint","getFirstCoordinate","endPoint","getLastCoordinate","getDistance","coordinate","p1","p2","xdiff","ydiff","Math","sqrt","iconFeature","Feature","geom","Point","description","iconStyle","style","Style","image","Icon","anchor","anchorXUnits","anchorYUnits","src","setStyle","vectorSource","Vector","geojsonObject","type","crs","properties","coordinates","baseMapVectorSource","format","GeoJSON","readFeatures","styleFunction","stroke","Stroke","color","width","fill","Fill","getBaseMap","then","basemap","updateBaseMap","baseMap","addFeatures","roomPopup","document","getElementById","Overlay","element","autoPan","autoPanAnimation","duration","showRoute","route","hideRoute","showRooms","rooms","showNavigationEdges","edges","showEdges","dragging","pixel","getEventPixel","originalEvent","mouseMoved","transform","ctrlKey","mouseClickedCtrl","mouseClicked","_b","Function","_c","_d","50","__WEBPACK_IMPORTED_MODULE_1__mock_basemap02__","__WEBPACK_IMPORTED_MODULE_2__mock_basemap01__","__WEBPACK_IMPORTED_MODULE_3__mock_floors__","__WEBPACK_IMPORTED_MODULE_4__mock_rooms__","__WEBPACK_IMPORTED_MODULE_5__mock_route__","__WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__","__WEBPACK_IMPORTED_MODULE_7_rxjs__","n","MapService","getBaseMapIntern","Promise","resolve","setTimeout","getFloorNames","of","getRooms","getDoors","getFloors","getNavigationEdges","getNavigationEdgesIntern","getRoute","sourceNodeId","destinationNodeId","getPoiTypes","getPoiInstances","getBeacons","searchRoom","startsWith","push","getNavigationNodes","geojson","addNode","floor","addEdge","destination","path","addPoiInstance","poitypeid","addBeacon","deleteNode","deleteEdge","deletePoi","deleteBeacon","updateNode","node","updateEdge","edge","updatePoi","updateBeacon","beacon","53","MapLayerBase","subscription","isActive","getLayer","setActive","active","setVisible","clearSelection","layerSource","subscribeNewRequest","sub","unsubscribe","535","webpackEmptyContext","req","Error","keys","536","__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__","__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__","__WEBPACK_IMPORTED_MODULE_2__angular_core__","__WEBPACK_IMPORTED_MODULE_3__environments_environment__","__WEBPACK_IMPORTED_MODULE_4__app_app_module__","production","bootstrapModule","54","__WEBPACK_IMPORTED_MODULE_0__base_applicationmode__","OpenlayersHelper","CreateBasicLayer","CurrentApplicationMode","55","__WEBPACK_IMPORTED_MODULE_1__angular_http__","__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_6__base_floor__","__WEBPACK_IMPORTED_MODULE_7__base_poitype__","__WEBPACK_IMPORTED_MODULE_8__base_globalconstants__","__WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc__","MapHttpService","__extends","b","__","constructor","p","hasOwnProperty","create","_super","http","oauthService","call","baseUrl","roomUrl","edgeUrl","floorUrl","nodeUrl","doorUrl","levelUrl","routeUrl","poiTypeUrl","poiInstanceUrl","beaconUrl","extractData","catch","handleError","headers","Authorization","getAccessToken","options","extractDataFloors","extractDataPoiTypes","Content-Type","data","category","post","extractDataAdd","level","position","delete","response","extractDataDel","put","res","body","json","results","floors","body_1","poitypes","body_2","error","errMsg","err","status","statusText","message","toString","throw","683","__WEBPACK_IMPORTED_MODULE_1__angular_material__","__WEBPACK_IMPORTED_MODULE_2__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_3__base_floor__","__WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc__","AppComponent","DialogContent","__param","paramIndex","decorator","_dialog","currentAppMode","currentFloor","currentPoiType","poiTypes","beaconEditMode","beaconSignals","showPoiSelector","showBeaconEditModeSelector","loginUrl","redirectUri","window","location","origin","clientId","scope","oidc","setStorage","sessionStorage","tryLogin","hasValidAccessToken","initImplicitFlow","openDialog","open","afterClosed","result","lastDialogResult","sayHi","info","appModeChanged","EDIT_POIS","EDIT_BEACONS","floorChanged","currentPoiTypeChanged","poiType","PoiTypesReceived","beaconEditModeChanged","beaconSignalsChanged","signal","684","__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","__WEBPACK_IMPORTED_MODULE_2__angular_forms__","__WEBPACK_IMPORTED_MODULE_3__angular_http__","__WEBPACK_IMPORTED_MODULE_4__angular_material__","__WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__","__WEBPACK_IMPORTED_MODULE_8__app_component__","__WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__","__WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__","__WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__","__WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__","__WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__","__WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__","__WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__","__WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__","__WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__","__WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__","__WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__","__WEBPACK_IMPORTED_MODULE_20_angular_oauth2_oidc__","AppModule","declarations","imports","forRoot","providers","entryComponents","bootstrap","685","x","y","createFromAr","ar","getAr","686","Signal","origSignal","687","__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__","__WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__","BeaconconnectorComponent","PositionStatus","demoMode","zone","updateSignalsEvent","positionStatus","InActive","positioningStarted","signalBufferCollection","componentFn","signalDataChanged","component","hasAppInterface","appInterfaceObject","testapp","startCheckTimer","scanButtonClickedPosition","updatePositionStatus","startScan","stopScan","Active","addValues","start","startPosUpdateTimer","demo","stopPosUpdateTimer","stop","emit","posUpdateTimerSubscription","timer","t","posUpdateEvent","signals","getAllSignals","checkTimerSubscription","stopCheckTimer","checkTimerEvent","check","Paused","688","SignalBuffer","filterValue","minValue","lastOrigValue","milliseconds","Date","getTime","lastValueTimeStamp","filteredValue","lastValue","checkClearValue","689","__WEBPACK_IMPORTED_MODULE_0__signalbuffer__","__WEBPACK_IMPORTED_MODULE_2__base_signal__","SignalBufferCollection","stopClearTimer","startClearTimer","valuestring","parse","data_1","addValue","getNearestBeacon","bestValue","bestID","getJSONString","getURLString","urlString","index","clearTimerSubscription","clearTimerEvent","keysToDelete","690","__WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__","__WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_4__base_globalconstants__","BeaconmodeselectorComponent","modes","showControl","selectedMode","currentSelectedModeEvt","onSelect","selectMode","691","__WEBPACK_IMPORTED_MODULE_5__base_floor__","__WEBPACK_IMPORTED_MODULE_6__base_poitype__","__WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__","__WEBPACK_IMPORTED_MODULE_8__mapNodes__","__WEBPACK_IMPORTED_MODULE_9__mapDoors__","__WEBPACK_IMPORTED_MODULE_10__mapRoom__","__WEBPACK_IMPORTED_MODULE_11__mapFloor__","__WEBPACK_IMPORTED_MODULE_12__mapEdges__","__WEBPACK_IMPORTED_MODULE_13__mapEditEdges__","__WEBPACK_IMPORTED_MODULE_14__mapRoute__","__WEBPACK_IMPORTED_MODULE_15__mapPois__","__WEBPACK_IMPORTED_MODULE_16__mapBeacons__","__WEBPACK_IMPORTED_MODULE_17__openlayershelper__","__WEBPACK_IMPORTED_MODULE_18__angular_material__","EditablemapComponent","maxNumberOfBeaconOverlays","dialog","beaconOverlays","mapNodes","mapDoors","mapRooms","mapFloor","mapEdges","mapEditEdges","mapRoute","mapPois","mapBeacons","ctlPressed","Array","beaconPopUps","extendMap","updateLayers","updateData","setCurrentFloor","poitype","setCurrentSelectedPoiType","setPoiTypes","setBeaconEditMode","setBeaconSignals","shiftPressed","keyboardKeyUp","ctlReleased","deleteSelectedNodes","deleteSelectedEdges","deleteSelectedPoi","shiftReleased","addOverlay","overlay","shiftKey","setLayerActive","_e","_f","_g","_h","_j","_k","_l","_m","692","MapBeaconStyles","InitStyles","getMaxIndex","getRValue","g","getGValue","circle","Circle","radius","GetStyle","signalValue","minSignalValue","maxSignalValue","getIndex","getHalfIndex","693","__WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__","__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__","__WEBPACK_IMPORTED_MODULE_3__openlayershelper__","__WEBPACK_IMPORTED_MODULE_4__mapBeaconStyles__","MapBeacons","beaconPopUpBaseElem","mapComponent","currentFloorId","lastMouseClickPosition","editMode","currentSelectedBeacon","highlightFeaturePoint","highlightFeature","highlightFeatureAdded","beaconFeatures","lastOverlaysUsed","beaconTextFields","floorId","beacons","showBeacons","initBeaconOverlays","resetBeaconOverlays","hSignal","componentInstance","setProperties","j","setBeaconOverlay","getCoordinates","orgvalue","setPosition","innerHTML","toFixed","base","nativeElement","childs","children","elemCount","overlayDivs","OverlayDiv","innerDiv","span","pixelPos","CreateNewBeacon","isSelected","selectBeacon","initHighlightFeatureOverlay","setCoordinates","addFeature","showSelectedBeaconInfo","moveCurrentBeacon","removeFeature","testOnly","layerFilter","testLayer","forEachFeatureAtPixel","writeFeature","getId","poi","beaconUpdated","higlightStyle","beaconDialogClosed","dialogComp","addOrUpdateBeacon","updateAddBeacon","higlightObject","694","__WEBPACK_IMPORTED_MODULE_0__openlayershelper__","__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__","MapDoors","doors","showDoors","getDummyDoors","695","__WEBPACK_IMPORTED_MODULE_2__openlayershelper__","MapEdges","highlightedFeature","highlightFeatureOverlay","selectFeature","selectFeatureOverlay","lineDash","getHighlightedEdgeId","getEdgeForId","getFeatureById","updateMouseMoved","allowHighlight","getSource","updateMouseClicked","initSelectFeatureOverlay","edgeDeleted","deleteEdgeById","addNewEdge","end","sourceId","destinationId","line","LineString","distance","getLength","edgeAdded","getEdgesForNode","nodeId","filter","removeEdgesForNode","edges_1","696","__WEBPACK_IMPORTED_MODULE_0__base_point__","MapEditEdges","startPositions","lineAr","multiLineString","MultiLineString","multiLineFeature","setNewStartPos","point","setNewStartPositionsForEdgeFeatures","startnodeId","pos","setNewEndPos","setNewLine","updatedNode","coord","edges_2","geo","edgeUpdated","697","MapFloor","floorid","buildings","showFloors","getDummyFloor","698","__WEBPACK_IMPORTED_MODULE_1__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__","MapNodes","displayEditLines","isModifying","lastMousePostion","ctrlPressed","lastSelectedNode","VirtualNodeStyle","PoiNodeStyle","DefaultNodeStyle","testSelect","toggleCondition","events","never","addInteraction","testModify","featureSelected","featureModifyStart","featureModified","nodes","showNodes","worldposition","selectedFeature","selectNewNode","addNewNodeOnPos","updateAddNode","selectedStartNodeFeature","edgeToSplitId","endNode","edgeToSplit","node1","node2","nodeDeleted","highlightedEdgeId","doShowRoute","generateRoute","features_1","nodeUpdated","selFeatures","699","MapNodesStyles","higlightImage","DefaultNodeImage","VirtualNodeImage","PoiNodeImage","700","MapPois","iconStyleMap","currentSelectedPoi","featureAdded","showPois","strgPressed","createNewPoi","moveCurrentPoi","selectPoi","poiDeleted","poiUpdated","updateAddPoi","showPoisWithStyles","olFeatures","poiTypeId","701","MapRoom","getDummyRoom","702","__WEBPACK_IMPORTED_MODULE_0__mapLayerBase__","__WEBPACK_IMPORTED_MODULE_1__openlayershelper__","__WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__","MapRoute","currentStartNodeId","createRoute","routeCurrentFloor","e","routeHiddenFloor","destinationNode","updateRoute","refresh","703","MapRouteStyles","704","FloorselectorComponent","floorList","selectedFloor","currentFloorEvt","updateFloors","selectFloor","705","MapcontrollerserviceService","706","BASEMAP_1","707","BASEMAP","708","__WEBPACK_IMPORTED_MODULE_0__base_floor__","FLOORS","709","NAVIGATIONEDGES_DEMO","710","ROOMS","711","DEMOROUTE","712","ModeselectorComponent","currentAppModeEvt","modechanged","713","PoiselectorComponent","pois","selectedPoiType","currentSelectedPoiEvt","poiTypeReceivedEvt","updatePois","poilist","714","__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__","__WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__","RoomsearchComponent","searchTerms","currentSearchTerm","distinctUntilChanged","switchMap","search","next","selectRoom","room","715","RoomsearchmdComponent","showsuggestions","flatMap","items","searchResults","logstring","716","__WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__","RoutetestComponent","routeVisible","toogleroute","mapComponentRef","717","NavigationMap","edgeLayerSource","edgePathLayerSource","styleFunctionPath","edgeLayer","edgePathLayer","zIndex","updateAddEdge","featureArray","featureArray_1","718","RoomMap","featureOverlay","selectedRoomOverlay","selectedRoom","navigationMap","roomLayerSource","roomLayer","initFeatureOverlay","highlight","initSelectedRoomOverlay","getInteriorPoint","B","719","RouteMap","routeLayerSource","routeLayerSourceHidden","styleFunctionHidden","routeLayer","routeLayerHidden","720","environment","721","__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__","__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__","__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__","__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__","__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__","__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__","__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__","__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__","__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__","__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__","__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__","__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__","__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__","__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__","__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__","75","ApplicationModeT","ApplicationMode","ApplicationModes","880","881","882","883","884","885","886","887","888","889","890","891","893","894","895","896","897","898","899","900","901","902","903","904"],"mappings":"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","file":"main.75056624623eb2330bc0.bundle.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 1167:\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(536);\n\n\n/***/ },\n\n/***/ 185:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Floor; });\nvar Floor = (function () {\r\n    function Floor(obj) {\r\n        //console.log(\"Create new floor: \" + JSON.stringify(obj));\r\n        this.id = obj[\"id\"];\r\n        this.name = obj[\"name\"];\r\n        this.building = obj[\"building\"];\r\n    }\r\n    Floor.getDefaultFloor = function () {\r\n        return new Floor({\r\n            \"id\": -1,\r\n            \"name\": \"EG\",\r\n            \"building\": 1\r\n        });\r\n    };\r\n    return Floor;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/floor.js.map\n\n/***/ },\n\n/***/ 277:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return BeaconEditModeT; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconEditMode; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"c\", function() { return BeaconEditModes; });\nvar BeaconEditModeT;\r\n(function (BeaconEditModeT) {\r\n    BeaconEditModeT[BeaconEditModeT[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    BeaconEditModeT[BeaconEditModeT[\"ADD\"] = 1] = \"ADD\";\r\n    BeaconEditModeT[BeaconEditModeT[\"MOVE\"] = 2] = \"MOVE\";\r\n})(BeaconEditModeT || (BeaconEditModeT = {}));\r\nvar BeaconEditMode = (function () {\r\n    function BeaconEditMode(mode, name) {\r\n        this.mode = mode;\r\n        this.name = name;\r\n    }\r\n    BeaconEditMode.CreateDefault = function () {\r\n        //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n        return new BeaconEditMode(BeaconEditModeT.DEFAULT, \"Select\");\r\n    };\r\n    return BeaconEditMode;\r\n}());\r\nvar BeaconEditModes = [\r\n    BeaconEditMode.CreateDefault(),\r\n    new BeaconEditMode(BeaconEditModeT.ADD, \"Add\"),\r\n    new BeaconEditMode(BeaconEditModeT.MOVE, \"Move\") //,\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/beaconeditmode.js.map\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return USEHTTPSERVICE; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"c\", function() { return MODIFY_EDGE_MINSTARTPOINT_DISTANCE; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return API_BASE_URL; });\nvar USEHTTPSERVICE = true;\r\nvar MODIFY_EDGE_MINSTARTPOINT_DISTANCE = 1.0;\r\nvar API_BASE_URL = 'https://api.medunigraz.at';\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/globalconstants.js.map\n\n/***/ },\n\n/***/ 449:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return PoiType; });\n\r\nvar PoiType = (function () {\r\n    function PoiType(obj) {\r\n        this.id = obj[\"id\"];\r\n        this.name = obj[\"name\"];\r\n        this.selected = obj[\"selected\"];\r\n        this.iconurl = __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* API_BASE_URL */] + obj[\"icon\"];\r\n    }\r\n    return PoiType;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/poitype.js.map\n\n/***/ },\n\n/***/ 450:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__(181);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeacondialogComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nvar BeacondialogComponent = (function () {\r\n    function BeacondialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.macInputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.nameInputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.batteryOutputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.mac = \"\";\r\n        this.name = \"\";\r\n        this.okButtonDisabled = true;\r\n        this.nearestSignal = undefined;\r\n    }\r\n    BeacondialogComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.macInputVal.valueChanges\r\n            .debounceTime(400).subscribe(function (term) { return _this.updateOkButtonEnabled(); });\r\n        this.nameInputVal.valueChanges\r\n            .debounceTime(400).subscribe(function (term) { return _this.updateOkButtonEnabled(); });\r\n    };\r\n    BeacondialogComponent.prototype.scan = function () {\r\n        console.log(\"BeacondialogComponent::scan()\");\r\n        if (this.nearestSignal && this.nearestSignal.value > -80) {\r\n            this.macInputVal.setValue(this.nearestSignal.mac);\r\n            this.nameInputVal.setValue(this.nearestSignal.name);\r\n            this.batteryOutputVal.setValue(this.nearestSignal.battery + \"%\");\r\n        }\r\n        else {\r\n            this.macInputVal.setValue(\"\");\r\n            this.nameInputVal.setValue(\"\");\r\n        }\r\n    };\r\n    BeacondialogComponent.prototype.closeDialog = function () {\r\n        console.log(\"BeacondialogComponent::closeDialog()\");\r\n        this.dialogRef.close('Closed...');\r\n    };\r\n    BeacondialogComponent.prototype.save = function () {\r\n        console.log(\"BeacondialogComponent::save()\");\r\n        this.mac = this.macInputVal.value;\r\n        this.name = this.nameInputVal.value;\r\n        this.dialogRef.close('Save');\r\n    };\r\n    BeacondialogComponent.prototype.setMacAndName = function (mac, name) {\r\n        this.mac = mac;\r\n        this.name = name;\r\n        this.macInputVal.setValue(this.mac);\r\n        this.nameInputVal.setValue(this.name);\r\n    };\r\n    BeacondialogComponent.prototype.setNearestSignal = function (val) {\r\n        console.log(\"BeacondialogComponent::setNearestSignal() \" + +JSON.stringify(val));\r\n        this.nearestSignal = val;\r\n    };\r\n    BeacondialogComponent.prototype.updateOkButtonEnabled = function () {\r\n        this.okButtonDisabled = this.nameInputVal.value.length <= 0;\r\n    };\r\n    BeacondialogComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-beacondialog',\r\n            template: __webpack_require__(895),\r\n            styles: [__webpack_require__(882)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_material__[\"b\" /* MdDialogRef */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__angular_material__[\"b\" /* MdDialogRef */]) === 'function' && _a) || Object])\r\n    ], BeacondialogComponent);\r\n    return BeacondialogComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/beacondialog.component.js.map\n\n/***/ },\n\n/***/ 451:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__routemap__ = __webpack_require__(719);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__roommap__ = __webpack_require__(718);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__navigationedges__ = __webpack_require__(717);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return TestmapComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//https://openlayers.org/en/latest/examples/icon.html\r\n//https://openlayers.org/en/latest/examples/vector-layer.html\r\n//http://openlayers.org/en/v3.4.0/examples/popup.html\r\n//https://scotch.io/tutorials/routing-angular-2-single-page-apps-with-the-component-router\r\n//https://github.com/angular/angular-cli\r\n//https://github.com/angular/material2/blob/master/docs/theming.md\r\nvar TestmapComponent = (function () {\r\n    function TestmapComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this._applicationMode = __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.testString = 'Hi';\r\n    }\r\n    //content = document.getElementById('popup-content');\r\n    //closer = document.getElementById('popup-closer');\r\n    TestmapComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        console.log(\"INIT!!!\");\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.testString += '.................';\r\n        this.loadPOIs();\r\n        this.loadBaseMap();\r\n        this.createOverlay();\r\n        this.select = new ol.interaction.Select({\r\n            wrapX: false,\r\n            /*\r\n            layers: function(layer) {\r\n                return false;\r\n                //return this.allowOLSelection(layer);\r\n              }*/\r\n            layers: (function (layer) { return _this.allowOLSelection(layer); })\r\n        });\r\n        this.routemap = new __WEBPACK_IMPORTED_MODULE_5__routemap__[\"a\" /* RouteMap */]();\r\n        this.routemap.Initialize();\r\n        this.navigationmap = new __WEBPACK_IMPORTED_MODULE_7__navigationedges__[\"a\" /* NavigationMap */](this.mapService);\r\n        this.navigationmap.Initialize(this.select);\r\n        this.roommap = new __WEBPACK_IMPORTED_MODULE_6__roommap__[\"a\" /* RoomMap */]();\r\n        this.roommap.Initialize(this.navigationmap);\r\n        this.modify = new ol.interaction.Modify({\r\n            features: this.select.getFeatures(),\r\n            condition: (function (evt) { return _this.allowOLModify(evt); })\r\n        });\r\n        var extent = [0, 0, 51200, 25600];\r\n        var projection = new ol.proj.Projection({\r\n            code: 'static-image',\r\n            units: 'pixels',\r\n            imageExtent: extent\r\n        });\r\n        this.map = new ol.Map({\r\n            controls: ol.control.defaults({\r\n                attributionOptions: ({\r\n                    collapsible: true,\r\n                }),\r\n                zoom: false\r\n            }),\r\n            interactions: ol.interaction.defaults().extend([this.select, this.modify]),\r\n            //controls: [],\r\n            layers: [\r\n                new ol.layer.Tile({\r\n                    source: new ol.source.OSM()\r\n                }),\r\n                this.poiLayer,\r\n                this.baseMapLayer,\r\n                this.routemap.getRouteLayer(),\r\n                this.routemap.getHiddenRouteLayer(),\r\n                this.roommap.getRoomLayer(),\r\n                this.navigationmap.getEdgeLayer(),\r\n                this.navigationmap.getEdgePathLayer()\r\n            ],\r\n            overlays: [this.roomOverlay],\r\n            target: 'map',\r\n            view: new ol.View({\r\n                projection: 'EPSG:900913',\r\n                center: ol.proj.fromLonLat([15.47, 47.0805]),\r\n                //center: ol.extent.getCenter(extent),\r\n                zoom: 18,\r\n                maxZoom: 22,\r\n                minZoom: 1 //16\r\n            })\r\n        });\r\n        this.map.on('click', function (evt) { return _this.mapClicked(evt); });\r\n        this.map.on('pointermove', function (evt) { return _this.mapMouseMoved(evt); });\r\n        //this.mapService.getRoomMap(0).then(rooms => this.showRooms(rooms));\r\n        //this.mapService.getRoomMap(0).subscribe(rooms => this.showRooms(rooms));\r\n        //this.mapService.getNavigationEdges(0).subscribe(edges => this.showNavigationEdges(edges));\r\n        this.select.on('select', function (evt) { return _this.selectionChanged(evt); });\r\n    };\r\n    TestmapComponent.prototype.ngOnInit = function () {\r\n    };\r\n    Object.defineProperty(TestmapComponent.prototype, \"applicationMode\", {\r\n        set: function (applicationMode) {\r\n            if (this.select) {\r\n                //console.log(\"Clear selection...\" + this.select.getFeatures().getArray().length);\r\n                var selected_collection = this.select.getFeatures();\r\n                if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES &&\r\n                    selected_collection.getArray().length > 0) {\r\n                    this.navigationmap.updateEdges(selected_collection.getArray());\r\n                }\r\n                selected_collection.clear();\r\n            }\r\n            if (this.roommap) {\r\n                this.roommap.Clear();\r\n            }\r\n            this._applicationMode = applicationMode;\r\n            console.log(\"TestmapComponent::Set applicationMode - New App Mode: \" + this._applicationMode.name);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TestmapComponent.prototype.keyboardInput = function (event) {\r\n        console.log(\"KEYDOWN: \" + event.keyCode);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 46) {\r\n            console.log(\"KEYDOWN - Delete Edge \" + event.keyCode + \"#\" + this.select.getFeatures().getArray().length);\r\n            this.navigationmap.deleteSelectedEdge();\r\n            var selected_collection = this.select.getFeatures();\r\n            selected_collection.clear();\r\n        }\r\n    };\r\n    TestmapComponent.prototype.allowOLSelection = function (layer) {\r\n        //layer.set('dummy', 'xxxsaef');\r\n        //console.log(\"allowOLSelection...\" + JSON.stringify(layer.get('dummy')));\r\n        //console.log(\"allowOLSelection... isSelectable ...\" + JSON.stringify(layer.get('isSelectable')));\r\n        if (layer.get('isSelectable') && this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    TestmapComponent.prototype.selectionChanged = function (evt) {\r\n        var selectedFeatures = evt.selected;\r\n        var deselectedFeatures = evt.deselected;\r\n        //console.log(\"Selection changed:  newFeatures: \" + selectedFeatures.length +\r\n        //  \"  unselectedFeatures: \" + deselectedFeatures.length +\r\n        //  \"  mode: \" + this._applicationMode.name);\r\n        if (deselectedFeatures.length > 0) {\r\n            this.navigationmap.updateEdges(deselectedFeatures);\r\n        }\r\n    };\r\n    TestmapComponent.prototype.allowOLModify = function (evt) {\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            //console.log(\"allowOLModify: Length: \" + selectedFeatures.length);\r\n            if (selectedFeatures.length > 0) {\r\n                for (var _i = 0, selectedFeatures_1 = selectedFeatures; _i < selectedFeatures_1.length; _i++) {\r\n                    var feature = selectedFeatures_1[_i];\r\n                    var geometry = feature.getGeometry();\r\n                    var startPoint = geometry.getFirstCoordinate();\r\n                    var endPoint = geometry.getLastCoordinate();\r\n                    //console.log(\"allowOLModify: \" + JSON.stringify(evt.coordinate) +\r\n                    //  \"::\" + JSON.stringify(startPoint) +\r\n                    //  \"::\" + JSON.stringify(endPoint) +\r\n                    //  \"d1:\" + this.getDistance(startPoint, evt.coordinate) +\r\n                    //  \"d2:\" + this.getDistance(endPoint, evt.coordinate)\r\n                    //);\r\n                    if (this.getDistance(startPoint, evt.coordinate) < __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"c\" /* MODIFY_EDGE_MINSTARTPOINT_DISTANCE */] ||\r\n                        this.getDistance(endPoint, evt.coordinate) < __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"c\" /* MODIFY_EDGE_MINSTARTPOINT_DISTANCE */]) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TestmapComponent.prototype.getDistance = function (p1, p2) {\r\n        var xdiff = p2[0] - p1[0];\r\n        var ydiff = p2[1] - p1[1];\r\n        return Math.sqrt(xdiff * xdiff + ydiff * ydiff);\r\n    };\r\n    TestmapComponent.prototype.loadPOIs = function () {\r\n        var iconFeature = new ol.Feature({\r\n            geometry: new ol.geom.Point(ol.proj.fromLonLat([15.470230579376215, 47.0812626175388])),\r\n            name: 'Test Point',\r\n            description: 'dummy description'\r\n        });\r\n        var iconStyle = new ol.style.Style({\r\n            image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({\r\n                anchor: [0.5, 1],\r\n                anchorXUnits: 'fraction',\r\n                anchorYUnits: 'fraction',\r\n                src: 'assets/testicon.png'\r\n            }))\r\n        });\r\n        iconFeature.setStyle(iconStyle);\r\n        var vectorSource = new ol.source.Vector({\r\n            features: [iconFeature]\r\n        });\r\n        this.poiLayer = new ol.layer.Vector({\r\n            source: vectorSource\r\n        });\r\n    };\r\n    TestmapComponent.prototype.loadBaseMap = function () {\r\n        var _this = this;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'Polygon',\r\n                        'coordinates': [[\r\n                                [1722183.8736183767, 5955368.127460353],\r\n                                [1722202.0871290227, 5955358.871413959],\r\n                                [1722195.2197397628, 5955345.435217581]\r\n                            ]]\r\n                    }\r\n                }]\r\n        };\r\n        this.baseMapVectorSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'red',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(255,0,0,0.1)'\r\n                })\r\n            });\r\n        };\r\n        this.baseMapLayer = new ol.layer.Vector({\r\n            source: this.baseMapVectorSource,\r\n            style: styleFunction\r\n        });\r\n        //this.heroService.getHeroesSlowly().then(heroes => this.heroesList = heroes);\r\n        this.mapService.getBaseMap(0).then(function (basemap) { return _this.updateBaseMap(basemap); });\r\n    };\r\n    TestmapComponent.prototype.updateBaseMap = function (baseMap) {\r\n        this.baseMapVectorSource.clear();\r\n        this.baseMapVectorSource.addFeatures((new ol.format.GeoJSON()).readFeatures(baseMap));\r\n    };\r\n    TestmapComponent.prototype.createOverlay = function () {\r\n        this.roomPopup = document.getElementById('roomPopup');\r\n        console.log(this.roomPopup);\r\n        this.roomOverlay = new ol.Overlay(/** @type {olx.OverlayOptions} */ ({\r\n            element: this.roomPopup,\r\n            autoPan: true,\r\n            autoPanAnimation: {\r\n                duration: 250\r\n            }\r\n        }));\r\n        //this.roomOverlay.setPosition([0, 0]);\r\n    };\r\n    TestmapComponent.prototype.showRoute = function (route) {\r\n        //console.log(\"showRoute called\" + this.testString);\r\n        this.routemap.showRoute(route);\r\n    };\r\n    TestmapComponent.prototype.hideRoute = function () {\r\n        //console.log(\"hideRoute called\");\r\n        this.routemap.hideRoute();\r\n    };\r\n    TestmapComponent.prototype.showRooms = function (rooms) {\r\n        this.roommap.showRooms(rooms);\r\n    };\r\n    TestmapComponent.prototype.showNavigationEdges = function (edges) {\r\n        this.navigationmap.showEdges(edges);\r\n    };\r\n    TestmapComponent.prototype.mapMouseMoved = function (evt) {\r\n        if (evt.dragging) {\r\n            return;\r\n        }\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.roommap.mouseMoved(pixel, this.map);\r\n        }\r\n    };\r\n    TestmapComponent.prototype.mapClicked = function (evt) {\r\n        //console.log(\"mapClicked called\");\r\n        var lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\r\n        //console.log(\"Coord: \" + lonlat);\r\n        console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey);\r\n        console.log(\"Number of selected features: \" + this.select.getFeatures().getArray().length);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            if (evt.originalEvent.ctrlKey) {\r\n                this.roommap.mouseClickedCtrl(evt.coordinate, this.map);\r\n            }\r\n            else {\r\n                this.roommap.mouseClicked(evt.coordinate, this.map);\r\n            }\r\n        }\r\n        var coordinate = evt.coordinate;\r\n        //var hdms = ol.coordinate.toStringHDMS(ol.proj.transform(coordinate, 'EPSG:3857', 'EPSG:4326'));\r\n        //this.roomOverlay.setPosition(coordinate);\r\n        /*\r\n          var feature = this.map.forEachFeatureAtPixel(evt.pixel,\r\n            function(feature) {\r\n              return feature;\r\n            });\r\n    \r\n    \r\n          if (feature) {\r\n            var coordinates = feature.getGeometry().getCoordinates();\r\n            console.log(\"Feature Coord: \" + coordinates);\r\n          }\r\n          else {\r\n            var coordinates = feature.getGeometry().getCoordinates();\r\n            console.log(\"Map Coord: \" + coordinates);\r\n          }*/\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _a) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _b) || Object])\r\n    ], TestmapComponent.prototype, \"applicationMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"HostListener\"])('window:keydown', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], TestmapComponent.prototype, \"keyboardInput\", null);\r\n    TestmapComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-testmap',\r\n            template: __webpack_require__(904),\r\n            styles: [__webpack_require__(891)]\r\n        }),\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \r\n        __metadata('design:paramtypes', [(typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _c) || Object, (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _d) || Object])\r\n    ], TestmapComponent);\r\n    return TestmapComponent;\r\n    var _a, _b, _c, _d;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/testmap.component.js.map\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mock_basemap02__ = __webpack_require__(707);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mock_basemap01__ = __webpack_require__(706);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mock_floors__ = __webpack_require__(708);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mock_rooms__ = __webpack_require__(710);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mock_route__ = __webpack_require__(711);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__ = __webpack_require__(709);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs__ = __webpack_require__(494);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MapService = (function () {\r\n    function MapService() {\r\n    }\r\n    MapService.prototype.getBaseMapIntern = function (layer) {\r\n        if (layer == 1) {\r\n            return Promise.resolve(__WEBPACK_IMPORTED_MODULE_1__mock_basemap02__[\"a\" /* BASEMAP */]);\r\n        }\r\n        return Promise.resolve(__WEBPACK_IMPORTED_MODULE_2__mock_basemap01__[\"a\" /* BASEMAP_1 */]);\r\n    };\r\n    MapService.prototype.getBaseMap = function (layer) {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            return setTimeout(resolve, 200);\r\n        }) // delay 2 seconds\r\n            .then(function () { return _this.getBaseMapIntern(layer); });\r\n    };\r\n    MapService.prototype.getFloorNames = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_3__mock_floors__[\"a\" /* FLOORS */]);\r\n    };\r\n    MapService.prototype.getRooms = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getDoors = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getFloors = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getNavigationEdges = function (layer) {\r\n        return this.getNavigationEdgesIntern(layer);\r\n    };\r\n    MapService.prototype.getNavigationEdgesIntern = function (layer) {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__[\"a\" /* NAVIGATIONEDGES_DEMO */]);\r\n    };\r\n    MapService.prototype.getRoute = function (sourceNodeId, destinationNodeId) {\r\n        console.log(\"Get Route Local!\");\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_5__mock_route__[\"a\" /* DEMOROUTE */]);\r\n    };\r\n    MapService.prototype.getPoiTypes = function () {\r\n        return null;\r\n    };\r\n    MapService.prototype.getPoiInstances = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getBeacons = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.searchRoom = function (term) {\r\n        //https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\r\n        var rooms = [];\r\n        //console.log('searchRoom...');\r\n        if (term.length == 0) {\r\n            return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(rooms);\r\n        }\r\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */].length; i++) {\r\n            if (__WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */][i].name.startsWith(term)) {\r\n                rooms.push(__WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */][i]);\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(rooms);\r\n    };\r\n    MapService.prototype.getNavigationNodes = function (layer) {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of({\r\n            'geojson': {\r\n                'type': 'FeatureCollection',\r\n                'crs': {\r\n                    'type': 'name',\r\n                    'properties': {\r\n                        'name': 'EPSG:3857'\r\n                    }\r\n                },\r\n                'features': [{\r\n                        'type': 'Feature',\r\n                        'geometry': {\r\n                            'type': 'LineString',\r\n                            'coordinates': []\r\n                        }\r\n                    }]\r\n            }\r\n        });\r\n    };\r\n    MapService.prototype.addNode = function (floor, center) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addEdge = function (source, destination, length, path) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addPoiInstance = function (floor, center, poitypeid) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addBeacon = function (floor, center, name) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteNode = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteEdge = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deletePoi = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteBeacon = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateNode = function (node, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateEdge = function (edge, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updatePoi = function (node, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateBeacon = function (beacon, id) {\r\n        return null;\r\n    };\r\n    MapService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \r\n        __metadata('design:paramtypes', [])\r\n    ], MapService);\r\n    return MapService;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/map.service.js.map\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapLayerBase; });\nvar MapLayerBase = (function () {\r\n    function MapLayerBase() {\r\n        this.subscription = null;\r\n        this.isActive = false;\r\n    }\r\n    MapLayerBase.prototype.getLayer = function () {\r\n        return this.layer;\r\n    };\r\n    MapLayerBase.prototype.setActive = function (active) {\r\n        this.layer.setVisible(active);\r\n        if (!active) {\r\n            this.clearSelection();\r\n        }\r\n        this.isActive = active;\r\n    };\r\n    MapLayerBase.prototype.clear = function () {\r\n        this.clearSelection();\r\n        this.layerSource.clear();\r\n    };\r\n    MapLayerBase.prototype.clearSelection = function () {\r\n        //overwrite in subclass...\r\n    };\r\n    MapLayerBase.prototype.subscribeNewRequest = function (sub) {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n            this.subscription = null;\r\n        }\r\n        this.subscription = sub;\r\n    };\r\n    return MapLayerBase;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapLayerBase.js.map\n\n/***/ },\n\n/***/ 535:\n/***/ function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 535;\n\n\n/***/ },\n\n/***/ 536:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts__ = __webpack_require__(721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__(663);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__(720);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_app_module__ = __webpack_require__(684);\n\r\n\r\n\r\n\r\n\r\nif (__WEBPACK_IMPORTED_MODULE_3__environments_environment__[\"a\" /* environment */].production) {\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"enableProdMode\"])();\r\n}\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__[\"a\" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_4__app_app_module__[\"a\" /* AppModule */]);\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/main.js.map\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_applicationmode__ = __webpack_require__(75);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return OpenlayersHelper; });\n\r\nvar OpenlayersHelper = (function () {\r\n    function OpenlayersHelper() {\r\n    }\r\n    OpenlayersHelper.CreateBasicLayer = function (style) {\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': []\r\n        };\r\n        //console.log('Create layer source!');\r\n        var layerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var layer = new ol.layer.Vector({\r\n            source: layerSource,\r\n            style: style\r\n        });\r\n        return {\r\n            layer: layer,\r\n            layerSource: layerSource\r\n        };\r\n    };\r\n    OpenlayersHelper.CurrentApplicationMode = __WEBPACK_IMPORTED_MODULE_0__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n    return OpenlayersHelper;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/openlayershelper.js.map\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__ = __webpack_require__(299);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_floor__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_poitype__ = __webpack_require__(449);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc__ = __webpack_require__(278);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapHttpService; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MapHttpService = (function (_super) {\r\n    __extends(MapHttpService, _super);\r\n    function MapHttpService(http, oauthService) {\r\n        _super.call(this);\r\n        this.http = http;\r\n        this.oauthService = oauthService;\r\n        this.baseUrl = __WEBPACK_IMPORTED_MODULE_8__base_globalconstants__[\"a\" /* API_BASE_URL */] + '/v1/';\r\n        this.roomUrl = this.baseUrl + 'geo/rooms/'; // URL to web API\r\n        this.edgeUrl = this.baseUrl + 'geo/edges/';\r\n        this.floorUrl = this.baseUrl + 'geo/floors/';\r\n        this.nodeUrl = this.baseUrl + 'geo/nodes/';\r\n        this.doorUrl = this.baseUrl + 'geo/doors/';\r\n        this.levelUrl = this.baseUrl + 'geo/level/';\r\n        this.routeUrl = this.baseUrl + 'geo/routing/edges/';\r\n        this.poiTypeUrl = this.baseUrl + 'geo/pointofinterest/';\r\n        this.poiInstanceUrl = this.baseUrl + 'geo/pointofinterestinstance/';\r\n        this.beaconUrl = this.baseUrl + 'positioning/beacons/';\r\n    }\r\n    MapHttpService.prototype.getRooms = function (layer) {\r\n        return this.http.get(this.roomUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getNavigationEdges = function (layer) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        return this.http.get(this.edgeUrl + '?level=' + layer, options)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getNavigationNodes = function (layer) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        return this.http.get(this.nodeUrl + '?level=' + layer, options)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getFloorNames = function () {\r\n        return this.http.get(this.levelUrl)\r\n            .map(this.extractDataFloors)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getDoors = function (layer) {\r\n        //return this.http.get(this.roomUrl + '?floor=' + layer)\r\n        return this.http.get(this.doorUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getFloors = function (layer) {\r\n        //return this.http.get(this.roomUrl + '?floor=' + layer)\r\n        return this.http.get(this.floorUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getRoute = function (sourceNodeId, destinationNodeId) {\r\n        console.log(\"Get Route HTTP!\");\r\n        return this.http.get(this.routeUrl + '?from=' + sourceNodeId + '&to=' + destinationNodeId)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getPoiTypes = function () {\r\n        return this.http.get(this.poiTypeUrl)\r\n            .map(this.extractDataPoiTypes)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getPoiInstances = function (layer) {\r\n        return this.http.get(this.poiInstanceUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getBeacons = function (layer) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        return this.http.get(this.beaconUrl + '?level=' + layer, options)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addEdge = function (source, destination, length, path) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        var data = {\r\n            \"category\": 1,\r\n            \"source\": source,\r\n            \"destination\": destination,\r\n            \"path\": JSON.stringify(path),\r\n            \"length\": length\r\n        };\r\n        //console.log(\"Send Edge: \" + JSON.stringify(data));\r\n        return this.http.post(this.edgeUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addNode = function (floor, center) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"center\": JSON.stringify(center)\r\n        };\r\n        console.log(\"Send Node: \" + JSON.stringify(data));\r\n        return this.http.post(this.nodeUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addPoiInstance = function (floor, center, poitypeid) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"name\": poitypeid,\r\n            \"center\": JSON.stringify(center)\r\n        };\r\n        console.log(\"Send PoiInstance: \" + JSON.stringify(data));\r\n        return this.http.post(this.poiInstanceUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addBeacon = function (floor, center, name) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"name\": name,\r\n            \"position\": JSON.stringify(center),\r\n            \"active\": true\r\n        };\r\n        console.log(\"Send Beacon: \" + JSON.stringify(data));\r\n        return this.http.post(this.beaconUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteNode = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.nodeUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteEdge = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.edgeUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deletePoi = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.poiInstanceUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteBeacon = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.beaconUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateEdge = function (edge, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        //console.log(\"Update Edge: \" + id + \"::\" + JSON.stringify(edge));\r\n        return this.http.put(this.edgeUrl + id + \"/\", edge, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateNode = function (node, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        //console.log(\"Update Node: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.nodeUrl + id + \"/\", node, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updatePoi = function (node, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.poiInstanceUrl + id + \"/\", node, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateBeacon = function (beacon, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Headers\"]({\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\r\n        });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"RequestOptions\"]({ headers: headers });\r\n        //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.beaconUrl + id + \"/\", beacon, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.extractData = function (res) {\r\n        //console.log(\"RESPONSE DATA...\");\r\n        var body = res.json();\r\n        //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\r\n        if (body.results) {\r\n            return body.results || {};\r\n        }\r\n        return body || {};\r\n    };\r\n    MapHttpService.prototype.extractDataAdd = function (res) {\r\n        var body = res.json();\r\n        //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\r\n        return body || {};\r\n    };\r\n    MapHttpService.prototype.extractDataDel = function (res, id) {\r\n        //console.log(\"RESPONSE DATA org: \" + JSON.stringify(res));\r\n        return { id: id };\r\n    };\r\n    MapHttpService.prototype.extractDataFloors = function (res) {\r\n        var body = res.json();\r\n        if (body.results) {\r\n            body = body.results;\r\n        }\r\n        console.log(\"RESPONSE DATA FLOORS: \" + JSON.stringify(body));\r\n        var floors = [];\r\n        for (var _i = 0, body_1 = body; _i < body_1.length; _i++) {\r\n            var obj = body_1[_i];\r\n            floors.push(new __WEBPACK_IMPORTED_MODULE_6__base_floor__[\"a\" /* Floor */](obj));\r\n        }\r\n        return floors;\r\n    };\r\n    MapHttpService.prototype.extractDataPoiTypes = function (res) {\r\n        var body = res.json();\r\n        if (body.results) {\r\n            body = body.results;\r\n        }\r\n        console.log(\"RESPONSE DATA POITYPES: \" + JSON.stringify(body));\r\n        var poitypes = [];\r\n        for (var _i = 0, body_2 = body; _i < body_2.length; _i++) {\r\n            var obj = body_2[_i];\r\n            poitypes.push(new __WEBPACK_IMPORTED_MODULE_7__base_poitype__[\"a\" /* PoiType */](obj));\r\n        }\r\n        return poitypes;\r\n    };\r\n    MapHttpService.prototype.handleError = function (error) {\r\n        // In a real world app, we might use a remote logging infrastructure\r\n        var errMsg;\r\n        if (error instanceof __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Response\"]) {\r\n            var body = error.json() || '';\r\n            var err = body.error || JSON.stringify(body);\r\n            errMsg = error.status + \" - \" + (error.statusText || '') + \" \" + err;\r\n        }\r\n        else {\r\n            errMsg = error.message ? error.message : error.toString();\r\n        }\r\n        console.error(\"handleError: \" + errMsg);\r\n        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"].throw(errMsg);\r\n    };\r\n    MapHttpService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Http\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"Http\"]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc__[\"OAuthService\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9_angular_oauth2_oidc__[\"OAuthService\"]) === 'function' && _b) || Object])\r\n    ], MapHttpService);\r\n    return MapHttpService;\r\n    var _a, _b;\r\n}(__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__[\"a\" /* MapService */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapservicehttp.service.js.map\n\n/***/ },\n\n/***/ 683:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_floor__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc__ = __webpack_require__(278);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppComponent; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return DialogContent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar AppComponent = (function () {\r\n    function AppComponent(_dialog, oauthService) {\r\n        this._dialog = _dialog;\r\n        this.oauthService = oauthService;\r\n        this.currentAppMode = __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.currentFloor = __WEBPACK_IMPORTED_MODULE_3__base_floor__[\"a\" /* Floor */].getDefaultFloor();\r\n        this.currentPoiType = null;\r\n        this.poiTypes = null;\r\n        this.beaconEditMode = null;\r\n        this.beaconSignals = null;\r\n        this.showPoiSelector = false;\r\n        this.showBeaconEditModeSelector = false;\r\n        // Login-Url\r\n        //this.oauthService.loginUrl = \"https://api.medunigraz.at/oauth2/authorize/\"; //Id-Provider?\r\n        this.oauthService.loginUrl = \"https://api.medunigraz.at/oauth2/authorize/\";\r\n        // URL of the SPA to redirect the user to after login\r\n        //this.oauthService.redirectUri = window.location.origin + \"/mapeditor/\";\r\n        this.oauthService.redirectUri = window.location.origin + \"/mapeditor/\";\r\n        // The SPA's id. Register SPA with this id at the auth-server\r\n        this.oauthService.clientId = \"o5AMvJLFuKNhKzBltNK1d0DDyP53h5Ng2gxVBT7p\";\r\n        // set the scope for the permissions the client should request\r\n        this.oauthService.scope = \"editor\";\r\n        // set to true, to receive also an id_token via OpenId Connect (OIDC) in addition to the\r\n        // OAuth2-based access_token\r\n        this.oauthService.oidc = false;\r\n        // Use setStorage to use sessionStorage or another implementation of the TS-type Storage\r\n        // instead of localStorage\r\n        this.oauthService.setStorage(sessionStorage);\r\n        // To also enable single-sign-out set the url for your auth-server's logout-endpoint here\r\n        //this.oauthService.logoutUrl = \"https://steyer-identity-server.azurewebsites.net/identity/connect/endsession?id_token={{id_token}}\";\r\n        // This method just tries to parse the token(s) within the url when\r\n        // the auth-server redirects the user back to the web-app\r\n        // It dosn't send the user the the login page\r\n        this.oauthService.tryLogin({});\r\n        if (!this.oauthService.hasValidAccessToken()) {\r\n            this.oauthService.initImplicitFlow();\r\n        }\r\n    }\r\n    AppComponent.prototype.ngOnInit = function () {\r\n        /*\r\n        angular.module('myApp', ['ngMaterial'])\r\n          .config(function($mdThemingProvider) {\r\n            $mdThemingProvider.theme('altTheme')\r\n              .primaryPalette('purple') // specify primary color, all\r\n            // other color intentions will be inherited\r\n            // from default\r\n          });*/\r\n    };\r\n    AppComponent.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogRef = this._dialog.open(DialogContent);\r\n        dialogRef.afterClosed().subscribe(function (result) {\r\n            _this.lastDialogResult = result;\r\n        });\r\n    };\r\n    AppComponent.prototype.sayHi = function () {\r\n        console.info(\"Hi\");\r\n    };\r\n    AppComponent.prototype.appModeChanged = function (mode) {\r\n        console.log(\"AppComponent --- appModeChanged: \" + mode.name);\r\n        this.currentAppMode = mode;\r\n        this.showPoiSelector = (this.currentAppMode.mode == __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS);\r\n        this.showBeaconEditModeSelector = (this.currentAppMode.mode == __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS);\r\n    };\r\n    AppComponent.prototype.floorChanged = function (floor) {\r\n        if (floor) {\r\n            console.log(\"AppComponent --- floorChanged: \" + floor.name);\r\n            this.currentFloor = floor;\r\n        }\r\n    };\r\n    AppComponent.prototype.currentPoiTypeChanged = function (poiType) {\r\n        if (poiType) {\r\n            console.log(\"AppComponent --- currentPoiType: \" + poiType.name);\r\n            this.currentPoiType = poiType;\r\n        }\r\n    };\r\n    AppComponent.prototype.PoiTypesReceived = function (poiTypes) {\r\n        if (poiTypes) {\r\n            console.log(\"AppComponent --- PoiTypesReceived: \" + poiTypes.length);\r\n            this.poiTypes = poiTypes;\r\n        }\r\n    };\r\n    AppComponent.prototype.beaconEditModeChanged = function (mode) {\r\n        if (mode) {\r\n            console.log(\"AppComponent --- BeaconEditMode: \" + mode.name);\r\n            this.beaconEditMode = mode;\r\n        }\r\n    };\r\n    AppComponent.prototype.beaconSignalsChanged = function (signal) {\r\n        if (signal) {\r\n            //console.log(\"AppComponent --- beaconSignalsChanged: \" + JSON.stringify(signal));\r\n            this.beaconSignals = signal;\r\n        }\r\n    };\r\n    AppComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-root',\r\n            template: __webpack_require__(893),\r\n            styles: [__webpack_require__(880)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"a\" /* MdDialog */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"a\" /* MdDialog */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc__[\"OAuthService\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4_angular_oauth2_oidc__[\"OAuthService\"]) === 'function' && _b) || Object])\r\n    ], AppComponent);\r\n    return AppComponent;\r\n    var _a, _b;\r\n}());\r\nvar DialogContent = (function () {\r\n    function DialogContent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    DialogContent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            template: \"\\n    <p>This is a dialog</p>\\n    <p>\\n      <label>\\n        This is a text box inside of a dialog.\\n        <input #dialogInput>\\n      </label>\\n    </p>\\n    <p> <button md-button (click)=\\\"dialogRef.close(dialogInput.value)\\\">CLOSE</button> </p>\\n  \",\r\n        }),\r\n        __param(0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Optional\"])()), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"b\" /* MdDialogRef */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"b\" /* MdDialogRef */]) === 'function' && _a) || Object])\r\n    ], DialogContent);\r\n    return DialogContent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/app.component.js.map\n\n/***/ },\n\n/***/ 684:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__ = __webpack_require__(705);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_component__ = __webpack_require__(683);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__ = __webpack_require__(451);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__ = __webpack_require__(714);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__ = __webpack_require__(704);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__ = __webpack_require__(715);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__ = __webpack_require__(716);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__ = __webpack_require__(712);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__ = __webpack_require__(691);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__ = __webpack_require__(713);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__ = __webpack_require__(690);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__ = __webpack_require__(450);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__ = __webpack_require__(687);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_angular_oauth2_oidc__ = __webpack_require__(278);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_angular_oauth2_oidc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_angular_oauth2_oidc__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"])({\r\n            declarations: [\r\n                __WEBPACK_IMPORTED_MODULE_8__app_component__[\"a\" /* AppComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_8__app_component__[\"b\" /* DialogContent */],\r\n                __WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__[\"a\" /* TestmapComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__[\"a\" /* RoomsearchComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__[\"a\" /* FloorselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__[\"a\" /* RoomsearchmdComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__[\"a\" /* RoutetestComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__[\"a\" /* ModeselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__[\"a\" /* EditablemapComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__[\"a\" /* PoiselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__[\"a\" /* BeaconmodeselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__[\"a\" /* BeaconconnectorComponent */]\r\n            ],\r\n            imports: [\r\n                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__[\"e\" /* BrowserModule */],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"b\" /* FormsModule */],\r\n                __WEBPACK_IMPORTED_MODULE_3__angular_http__[\"HttpModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"e\" /* ReactiveFormsModule */],\r\n                __WEBPACK_IMPORTED_MODULE_4__angular_material__[\"c\" /* MaterialModule */].forRoot(),\r\n                __WEBPACK_IMPORTED_MODULE_20_angular_oauth2_oidc__[\"OAuthModule\"].forRoot()\r\n            ],\r\n            providers: [__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__[\"a\" /* MapService */], __WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__[\"a\" /* MapcontrollerserviceService */], __WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]\r\n            ],\r\n            entryComponents: [__WEBPACK_IMPORTED_MODULE_8__app_component__[\"b\" /* DialogContent */], __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */]],\r\n            bootstrap: [__WEBPACK_IMPORTED_MODULE_8__app_component__[\"a\" /* AppComponent */]]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/app.module.js.map\n\n/***/ },\n\n/***/ 685:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Point; });\nvar Point = (function () {\r\n    function Point() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    Point.prototype.createFromAr = function (ar) {\r\n        this.x = ar[0];\r\n        this.y = ar[1];\r\n    };\r\n    Point.prototype.getAr = function () {\r\n        return [this.x, this.y];\r\n    };\r\n    return Point;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/point.js.map\n\n/***/ },\n\n/***/ 686:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Signal; });\nvar Signal = (function () {\r\n    function Signal(mac, value, name, battery, origSignal) {\r\n        this.mac = mac;\r\n        this.value = value;\r\n        this.name = name;\r\n        this.battery = battery;\r\n        this.origSignal = origSignal;\r\n    }\r\n    return Signal;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/signal.js.map\n\n/***/ },\n\n/***/ 687:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__ = __webpack_require__(302);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__ = __webpack_require__(689);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconconnectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nvar PositionStatus;\r\n(function (PositionStatus) {\r\n    PositionStatus[PositionStatus[\"InActive\"] = 0] = \"InActive\";\r\n    PositionStatus[PositionStatus[\"Paused\"] = 1] = \"Paused\";\r\n    PositionStatus[PositionStatus[\"Active\"] = 2] = \"Active\";\r\n})(PositionStatus || (PositionStatus = {}));\r\nvar demoMode = false;\r\nvar BeaconconnectorComponent = (function () {\r\n    function BeaconconnectorComponent(zone) {\r\n        var _this = this;\r\n        this.zone = zone;\r\n        this.updateSignalsEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n        this.isActive = demoMode;\r\n        this.positionStatus = PositionStatus.InActive;\r\n        this.positioningStarted = false;\r\n        this.signalBufferCollection = new __WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__[\"a\" /* SignalBufferCollection */]();\r\n        window[\"angularComponentRef\"] = {\r\n            zone: this.zone,\r\n            componentFn: function (value) { return _this.signalDataChanged(value); },\r\n            component: this\r\n        };\r\n    }\r\n    BeaconconnectorComponent.prototype.ngOnInit = function () {\r\n        var hasAppInterface = appInterfaceObject.testapp();\r\n        //hasAppInterface = true;\r\n        if (hasAppInterface) {\r\n            this.isActive = true;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.ngAfterViewInit = function () {\r\n        this.startCheckTimer();\r\n    };\r\n    BeaconconnectorComponent.prototype.scanButtonClickedPosition = function () {\r\n        console.log(\"BeaconconnectorComponent::scanButtonClickedPosition()\");\r\n        this.positioningStarted = !this.positioningStarted;\r\n        this.updatePositionStatus();\r\n        if (this.positioningStarted) {\r\n            this.startScan();\r\n        }\r\n        else {\r\n            this.stopScan();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.signalDataChanged = function (value) {\r\n        if (this.positionStatus == PositionStatus.Active) {\r\n            //console.log(\"BeaconconnectorComponent::signalDataChanged() - \" + JSON.stringify(value));\r\n            this.signalBufferCollection.addValues(value);\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.startScan = function () {\r\n        this.signalBufferCollection.clear();\r\n        this.signalBufferCollection.start();\r\n        this.startPosUpdateTimer();\r\n        appInterfaceObject.start();\r\n        if (demoMode) {\r\n            appInterfaceObject.demo();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.stopScan = function () {\r\n        this.stopPosUpdateTimer();\r\n        appInterfaceObject.stop();\r\n        this.signalBufferCollection.clear();\r\n        this.updateSignalsEvent.emit([]);\r\n    };\r\n    /**********************************************************\r\n    POSTION UPDATE\r\n    **********************************************************/\r\n    BeaconconnectorComponent.prototype.startPosUpdateTimer = function () {\r\n        //console.log(\"BeaconconnectorComponent::startPosUpdateTimer()\");\r\n        var _this = this;\r\n        if (this.posUpdateTimerSubscription != null) {\r\n            this.stopPosUpdateTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(1000);\r\n        this.posUpdateTimerSubscription = timer.subscribe(function (t) {\r\n            _this.posUpdateEvent();\r\n        });\r\n    };\r\n    BeaconconnectorComponent.prototype.stopPosUpdateTimer = function () {\r\n        //console.log(\"BeaconconnectorComponent::stopPosUpdateTimer()\");\r\n        if (this.posUpdateTimerSubscription != null) {\r\n            this.posUpdateTimerSubscription.unsubscribe();\r\n            this.posUpdateTimerSubscription = null;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.posUpdateEvent = function () {\r\n        //console.log(\"BeaconconnectorComponent::posUpdateEvent()\");\r\n        var signals = this.signalBufferCollection.getAllSignals();\r\n        this.updateSignalsEvent.emit(signals);\r\n        //LOG POSITION DATA\r\n        //appInterfaceObject.log(\"\" + new Date().getTime() + \";\" + nearestBeacon + \";\" + this.signalBufferCollection.getJSONString());\r\n        this.stopPosUpdateTimer();\r\n        if (this.isActive) {\r\n            this.startPosUpdateTimer();\r\n        }\r\n    };\r\n    /**********************************************************\r\n    CHECK STATUS\r\n    **********************************************************/\r\n    BeaconconnectorComponent.prototype.startCheckTimer = function () {\r\n        //console.log(\"PositionComponent::startCheckTimer()\");\r\n        var _this = this;\r\n        if (this.checkTimerSubscription != null) {\r\n            this.stopCheckTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(2500);\r\n        this.checkTimerSubscription = timer.subscribe(function (t) {\r\n            _this.checkTimerEvent();\r\n        });\r\n    };\r\n    BeaconconnectorComponent.prototype.stopCheckTimer = function () {\r\n        //console.log(\"PositionComponent::stopCheckTimer()\");\r\n        if (this.checkTimerSubscription != null) {\r\n            this.checkTimerSubscription.unsubscribe();\r\n            this.checkTimerSubscription = null;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.checkTimerEvent = function () {\r\n        //console.log(\"PositionComponent::checkTimerEvent()\");\r\n        this.updatePositionStatus();\r\n        this.stopCheckTimer();\r\n        if (this.isActive) {\r\n            this.startCheckTimer();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.updatePositionStatus = function () {\r\n        //console.log(\"PositionComponent::updatePositionStatus()\" + appInterfaceObject.check());\r\n        if (appInterfaceObject.check() != 0 && !demoMode) {\r\n            this.positionStatus = PositionStatus.InActive;\r\n        }\r\n        else {\r\n            if (this.positioningStarted) {\r\n                this.positionStatus = PositionStatus.Active;\r\n            }\r\n            else {\r\n                this.positionStatus = PositionStatus.Paused;\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], BeaconconnectorComponent.prototype, \"updateSignalsEvent\", void 0);\r\n    BeaconconnectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-beaconconnector',\r\n            template: __webpack_require__(894),\r\n            styles: [__webpack_require__(881)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgZone\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgZone\"]) === 'function' && _a) || Object])\r\n    ], BeaconconnectorComponent);\r\n    return BeaconconnectorComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/beaconconnector.component.js.map\n\n/***/ },\n\n/***/ 688:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SignalBuffer; });\nvar SignalBuffer = (function () {\r\n    function SignalBuffer(id) {\r\n        this.filterValue = 0.5;\r\n        this.minValue = -90;\r\n        this.id = id;\r\n        this.clear();\r\n    }\r\n    SignalBuffer.prototype.setValue = function (mac, value, name, battery) {\r\n        if (!value) {\r\n            this.clear();\r\n        }\r\n        this.lastOrigValue = value;\r\n        if (value > 0) {\r\n            var milliseconds = new Date().getTime();\r\n            this.lastValueTimeStamp = milliseconds;\r\n        }\r\n        else {\r\n            var filteredValue = (1 - this.filterValue) * this.lastValue + this.filterValue * value;\r\n            this.lastValue = filteredValue;\r\n            if (this.lastValue < this.minValue) {\r\n                this.lastValue = this.minValue;\r\n            }\r\n            var milliseconds = new Date().getTime();\r\n            this.lastValueTimeStamp = milliseconds;\r\n            this.name = name;\r\n            this.mac = mac;\r\n            this.battery = battery;\r\n        }\r\n        //console.log(\"SignalBuffer::setValue Set value: \" + this.lastValue + \"/\" + this.lastValueTimeStamp);\r\n    };\r\n    SignalBuffer.prototype.checkClearValue = function () {\r\n        var milliseconds = new Date().getTime();\r\n        if (!this.lastValue || !this.lastValueTimeStamp) {\r\n            return true;\r\n        }\r\n        if (milliseconds - this.lastValueTimeStamp > 1000) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    SignalBuffer.prototype.clear = function () {\r\n        this.lastValue = this.minValue;\r\n        this.lastValueTimeStamp = undefined;\r\n    };\r\n    return SignalBuffer;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/signalbuffer.js.map\n\n/***/ },\n\n/***/ 689:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signalbuffer__ = __webpack_require__(688);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__ = __webpack_require__(302);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_signal__ = __webpack_require__(686);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SignalBufferCollection; });\n\r\n\r\n\r\nvar SignalBufferCollection = (function () {\r\n    function SignalBufferCollection() {\r\n        this.map = {};\r\n    }\r\n    SignalBufferCollection.prototype.clear = function () {\r\n        this.map = {};\r\n        this.stopClearTimer();\r\n    };\r\n    SignalBufferCollection.prototype.start = function () {\r\n        this.startClearTimer();\r\n    };\r\n    SignalBufferCollection.prototype.addValues = function (valuestring) {\r\n        if (valuestring) {\r\n            var data = JSON.parse(valuestring);\r\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n                var signal = data_1[_i];\r\n                //console.log('set signal: ' + JSON.stringify(signal));\r\n                this.addValue(signal[\"ID\"], signal[\"Value\"], signal[\"Name\"], signal[\"Batterie\"]);\r\n            }\r\n        }\r\n    };\r\n    SignalBufferCollection.prototype.getNearestBeacon = function () {\r\n        //console.log(\"SignalBufferCollection::getNearestBeacon() - \" + JSON.stringify(this.map));\r\n        var bestValue = -9999;\r\n        var bestID = undefined;\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (value) {\r\n                if (value > bestValue) {\r\n                    bestValue = value;\r\n                    bestID = key;\r\n                }\r\n            }\r\n        }\r\n        return bestID;\r\n    };\r\n    SignalBufferCollection.prototype.getAllSignals = function () {\r\n        var signals = [];\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (value) {\r\n                signals.push(new __WEBPACK_IMPORTED_MODULE_2__base_signal__[\"a\" /* Signal */](this.map[key].mac, value, this.map[key].name, this.map[key].battery, this.map[key].lastOrigValue));\r\n            }\r\n        }\r\n        return signals;\r\n    };\r\n    SignalBufferCollection.prototype.getJSONString = function () {\r\n        return JSON.stringify(this.map);\r\n    };\r\n    SignalBufferCollection.prototype.getURLString = function () {\r\n        var urlString = \"\";\r\n        var index = 0;\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (index > 0) {\r\n                urlString += \"&\";\r\n            }\r\n            urlString += 'name[' + key + ']=' + value;\r\n            index++;\r\n        }\r\n        return urlString;\r\n    };\r\n    SignalBufferCollection.prototype.addValue = function (mac, value, name, battery) {\r\n        if (!this.map[name]) {\r\n            this.map[name] = new __WEBPACK_IMPORTED_MODULE_0__signalbuffer__[\"a\" /* SignalBuffer */](name);\r\n        }\r\n        this.map[name].setValue(mac, value, name, battery);\r\n    };\r\n    SignalBufferCollection.prototype.startClearTimer = function () {\r\n        //console.log(\"SignalBufferCollection::startClearTimer()\");\r\n        var _this = this;\r\n        if (this.clearTimerSubscription != null) {\r\n            this.stopClearTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(666);\r\n        this.clearTimerSubscription = timer.subscribe(function (t) {\r\n            _this.clearTimerEvent();\r\n        });\r\n    };\r\n    SignalBufferCollection.prototype.stopClearTimer = function () {\r\n        //console.log(\"SignalBufferCollection::stopClearTimer()\");\r\n        if (this.clearTimerSubscription != null) {\r\n            this.clearTimerSubscription.unsubscribe();\r\n            this.clearTimerSubscription = null;\r\n        }\r\n    };\r\n    SignalBufferCollection.prototype.clearTimerEvent = function () {\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - \" + JSON.stringify(this.map));\r\n        var keysToDelete = [];\r\n        for (var key in this.map) {\r\n            if (this.map[key].checkClearValue()) {\r\n                //console.log(\"SignalBufferCollection::clearTimerEvent() - Clear Signal: \" + key);\r\n                keysToDelete.push(key);\r\n            }\r\n        }\r\n        for (var i = 0; i < keysToDelete.length; i++) {\r\n            delete this.map[keysToDelete[i]];\r\n        }\r\n        this.startClearTimer();\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - END: \" + JSON.stringify(this.map));\r\n    };\r\n    return SignalBufferCollection;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/signalbuffercollection.js.map\n\n/***/ },\n\n/***/ 690:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__ = __webpack_require__(277);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconmodeselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar BeaconmodeselectorComponent = (function () {\r\n    function BeaconmodeselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.modes = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"c\" /* BeaconEditModes */];\r\n        this.showControl = true;\r\n        this.selectedMode = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"a\" /* BeaconEditMode */].CreateDefault();\r\n        this.currentSelectedModeEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n    }\r\n    BeaconmodeselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_4__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n    };\r\n    BeaconmodeselectorComponent.prototype.onSelect = function (mode) {\r\n        this.selectMode(mode);\r\n    };\r\n    BeaconmodeselectorComponent.prototype.selectMode = function (mode) {\r\n        this.selectedMode = mode;\r\n        this.currentSelectedModeEvt.emit(this.selectedMode);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], BeaconmodeselectorComponent.prototype, \"currentSelectedModeEvt\", void 0);\r\n    BeaconmodeselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-beaconmodeselector',\r\n            template: __webpack_require__(896),\r\n            styles: [__webpack_require__(883)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], BeaconmodeselectorComponent);\r\n    return BeaconmodeselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/beaconmodeselector.component.js.map\n\n/***/ },\n\n/***/ 691:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_floor__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_poitype__ = __webpack_require__(449);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__ = __webpack_require__(277);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mapNodes__ = __webpack_require__(698);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__mapDoors__ = __webpack_require__(694);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__mapRoom__ = __webpack_require__(701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__mapFloor__ = __webpack_require__(697);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mapEdges__ = __webpack_require__(695);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__mapEditEdges__ = __webpack_require__(696);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mapRoute__ = __webpack_require__(702);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__mapPois__ = __webpack_require__(700);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__mapBeacons__ = __webpack_require__(693);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__angular_material__ = __webpack_require__(181);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return EditablemapComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar maxNumberOfBeaconOverlays = 100;\r\nvar EditablemapComponent = (function () {\r\n    function EditablemapComponent(dialog, mapServiceHttp, mapService) {\r\n        this.dialog = dialog;\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.beaconOverlays = null;\r\n        this.mapNodes = null;\r\n        this.mapDoors = null;\r\n        this.mapRooms = null;\r\n        this.mapFloor = null;\r\n        this.mapEdges = null;\r\n        this.mapEditEdges = null;\r\n        this.mapRoute = null;\r\n        this.mapPois = null;\r\n        this.mapBeacons = null;\r\n        this.ctlPressed = false;\r\n        this.beaconOverlays = new Array(maxNumberOfBeaconOverlays);\r\n        for (var i = 0; i < maxNumberOfBeaconOverlays; i++) {\r\n            this.beaconOverlays[i] = i;\r\n        }\r\n    }\r\n    EditablemapComponent.prototype.ngOnInit = function () {\r\n    };\r\n    EditablemapComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.mapFloor = new __WEBPACK_IMPORTED_MODULE_11__mapFloor__[\"a\" /* MapFloor */](this.mapService);\r\n        this.mapDoors = new __WEBPACK_IMPORTED_MODULE_9__mapDoors__[\"a\" /* MapDoors */](this.mapService);\r\n        this.mapRooms = new __WEBPACK_IMPORTED_MODULE_10__mapRoom__[\"a\" /* MapRoom */](this.mapService);\r\n        this.mapEdges = new __WEBPACK_IMPORTED_MODULE_12__mapEdges__[\"a\" /* MapEdges */](this.mapService);\r\n        this.mapEditEdges = new __WEBPACK_IMPORTED_MODULE_13__mapEditEdges__[\"a\" /* MapEditEdges */](this.mapService);\r\n        this.mapRoute = new __WEBPACK_IMPORTED_MODULE_14__mapRoute__[\"a\" /* MapRoute */](this.mapService);\r\n        this.mapNodes = new __WEBPACK_IMPORTED_MODULE_8__mapNodes__[\"a\" /* MapNodes */](this.mapService, this.mapEditEdges, this.mapEdges, this.mapRoute);\r\n        this.mapPois = new __WEBPACK_IMPORTED_MODULE_15__mapPois__[\"a\" /* MapPois */](this.mapService);\r\n        this.mapBeacons = new __WEBPACK_IMPORTED_MODULE_16__mapBeacons__[\"a\" /* MapBeacons */](this.dialog, this.mapService, this.beaconPopUps, this);\r\n        this.map = new ol.Map({\r\n            controls: ol.control.defaults({\r\n                attributionOptions: ({\r\n                    collapsible: true,\r\n                }),\r\n                zoom: false\r\n            }),\r\n            //interactions: ol.interaction.defaults().extend([this.select, this.modify]),\r\n            //controls: [],\r\n            layers: [\r\n                new ol.layer.Tile({\r\n                    source: new ol.source.OSM()\r\n                }),\r\n                this.mapFloor.getLayer(),\r\n                this.mapRooms.getLayer(),\r\n                this.mapDoors.getLayer(),\r\n                this.mapNodes.getLayer(),\r\n                this.mapBeacons.getLayer(),\r\n                this.mapEditEdges.getLayer(),\r\n                this.mapEdges.getLayer(),\r\n                this.mapRoute.getLayer(),\r\n                this.mapPois.getLayer()\r\n            ],\r\n            overlays: [],\r\n            target: 'map',\r\n            view: new ol.View({\r\n                projection: 'EPSG:900913',\r\n                center: ol.proj.fromLonLat([15.47, 47.0805]),\r\n                //center: ol.extent.getCenter(extent),\r\n                zoom: 18,\r\n                maxZoom: 24,\r\n                minZoom: 1 //16\r\n            })\r\n        });\r\n        this.mapNodes.extendMap(this.map);\r\n        this.map.on('click', function (evt) { return _this.mapClicked(evt); });\r\n        this.map.on('pointermove', function (evt) { return _this.mapMouseMoved(evt); });\r\n        this.updateLayers();\r\n    };\r\n    Object.defineProperty(EditablemapComponent.prototype, \"applicationMode\", {\r\n        set: function (applicationMode) {\r\n            __WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode = applicationMode;\r\n            console.log(\"EditAbleMapComponent::Set applicationMode - New App Mode: \" + __WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.name);\r\n            this.updateLayers();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"currentFloor\", {\r\n        set: function (currentFloor) {\r\n            console.log(\"EditAbleMapComponent::Set currentFloor - New Floor: \" + JSON.stringify(currentFloor));\r\n            if (currentFloor && currentFloor.id >= 0) {\r\n                this.mapFloor.updateData(currentFloor.id);\r\n                this.mapRooms.updateData(currentFloor.id);\r\n                this.mapDoors.updateData(currentFloor.id);\r\n                this.mapEdges.updateData(currentFloor.id);\r\n                this.mapNodes.updateData(currentFloor.id);\r\n                this.mapRoute.setCurrentFloor(currentFloor.id);\r\n                this.mapBeacons.updateData(currentFloor.id);\r\n                this.mapPois.setCurrentFloor(currentFloor.id);\r\n                this.mapPois.updateData(currentFloor.id);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"currentPoiType\", {\r\n        set: function (poitype) {\r\n            if (poitype) {\r\n                console.log(\"EditAbleMapComponent::Set currentPoiType: \" + JSON.stringify(poitype));\r\n                this.mapPois.setCurrentSelectedPoiType(poitype);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"poiTypes\", {\r\n        set: function (poitypes) {\r\n            if (poitypes) {\r\n                console.log(\"EditAbleMapComponent::Set poiTypes: \" + JSON.stringify(poitypes));\r\n                this.mapPois.setPoiTypes(poitypes);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"beaconEditMode\", {\r\n        set: function (mode) {\r\n            if (mode) {\r\n                this.mapBeacons.setBeaconEditMode(mode);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"setBeaconSignals\", {\r\n        set: function (signals) {\r\n            if (signals) {\r\n                this.mapBeacons.setBeaconSignals(signals);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditablemapComponent.prototype.keyboardInput = function (event) {\r\n        //console.log(\"KEYDOWN: \" + event.keyCode);\r\n        if (event.keyCode == 17 && !this.ctlPressed) {\r\n            this.ctlPressed = true;\r\n            this.mapNodes.ctlPressed();\r\n        }\r\n        if (event.keyCode == 16) {\r\n            this.mapRoute.shiftPressed();\r\n        }\r\n    };\r\n    /*\r\n      @HostListener('window:keypress', ['$event'])\r\n      keyboardKeyPress(event: KeyboardEvent) {\r\n        console.log(\"KEYPRESS: \" + event.keyCode);\r\n      }*/\r\n    EditablemapComponent.prototype.keyboardKeyUp = function (event) {\r\n        //console.log(\"KEYUP: \" + event.keyCode);\r\n        if (event.keyCode == 17) {\r\n            this.ctlPressed = false;\r\n            this.mapNodes.ctlReleased();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 46) {\r\n            this.mapNodes.deleteSelectedNodes();\r\n            this.mapEdges.deleteSelectedEdges();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS && event.keyCode == 46) {\r\n            this.mapPois.deleteSelectedPoi();\r\n        }\r\n        if (event.keyCode == 16) {\r\n            this.mapRoute.shiftReleased();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 88) {\r\n            this.mapRoute.clear();\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.addOverlay = function (overlay) {\r\n        this.map.addOverlay(overlay);\r\n    };\r\n    EditablemapComponent.prototype.mapMouseMoved = function (evt) {\r\n        //if (evt.dragging) {\r\n        //  return;\r\n        //}\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.mapNodes.mouseMoved(pixel, evt.coordinate, this.map);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.mapClicked = function (evt) {\r\n        //console.log(\"mapClicked called\");\r\n        //let lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\r\n        //console.log(\"Coord: \" + lonlat);\r\n        console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey + \" shift: \" + evt.originalEvent.shiftKey);\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.mapNodes.mouseClicked(evt.coordinate, this.map);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS) {\r\n            this.mapPois.mouseClicked(evt.coordinate, pixel, evt.originalEvent.ctrlKey, evt.originalEvent.shiftKey, this.map);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS) {\r\n            this.mapBeacons.mouseClicked(evt.coordinate, pixel, this.map);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.updateLayers = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.setLayerActive(this.mapEdges, true);\r\n            this.setLayerActive(this.mapEditEdges, true);\r\n            this.setLayerActive(this.mapNodes, true);\r\n            this.setLayerActive(this.mapRoute, true);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS) {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, true);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS) {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, true);\r\n        }\r\n        else {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.setLayerActive = function (layer, active) {\r\n        if (layer) {\r\n            layer.setActive(active);\r\n        }\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"ViewChild\"])('beaconPopups'), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"ElementRef\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"ElementRef\"]) === 'function' && _a) || Object)\r\n    ], EditablemapComponent.prototype, \"beaconPopUps\", void 0);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _b) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _c) || Object])\r\n    ], EditablemapComponent.prototype, \"applicationMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */]) === 'function' && _d) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */]) === 'function' && _e) || Object])\r\n    ], EditablemapComponent.prototype, \"currentFloor\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */]) === 'function' && _f) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */]) === 'function' && _g) || Object])\r\n    ], EditablemapComponent.prototype, \"currentPoiType\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', Array), \r\n        __metadata('design:paramtypes', [Array])\r\n    ], EditablemapComponent.prototype, \"poiTypes\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */]) === 'function' && _h) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */]) === 'function' && _j) || Object])\r\n    ], EditablemapComponent.prototype, \"beaconEditMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', Array), \r\n        __metadata('design:paramtypes', [Array])\r\n    ], EditablemapComponent.prototype, \"setBeaconSignals\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"HostListener\"])('window:keydown', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], EditablemapComponent.prototype, \"keyboardInput\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"HostListener\"])('window:keyup', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], EditablemapComponent.prototype, \"keyboardKeyUp\", null);\r\n    EditablemapComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-editablemap',\r\n            template: __webpack_require__(897),\r\n            styles: [__webpack_require__(884)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_18__angular_material__[\"a\" /* MdDialog */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_18__angular_material__[\"a\" /* MdDialog */]) === 'function' && _k) || Object, (typeof (_l = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _l) || Object, (typeof (_m = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _m) || Object])\r\n    ], EditablemapComponent);\r\n    return EditablemapComponent;\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/editablemap.component.js.map\n\n/***/ },\n\n/***/ 692:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapBeaconStyles; });\nvar MapBeaconStyles = (function () {\r\n    function MapBeaconStyles() {\r\n    }\r\n    MapBeaconStyles.InitStyles = function () {\r\n        for (var i = 0; i <= MapBeaconStyles.getMaxIndex(); i++) {\r\n            var r = MapBeaconStyles.getRValue(i);\r\n            var g = MapBeaconStyles.getGValue(i);\r\n            var color = 'rgba(' + r + ',' + g + ',0,1)';\r\n            //console.log(\"MapBeaconStyles::InitStyles   \" + color);\r\n            var circle = new ol.style.Circle({\r\n                radius: 7,\r\n                fill: new ol.style.Fill({\r\n                    color: color\r\n                }),\r\n                stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n            });\r\n            var style = new ol.style.Style({\r\n                image: circle\r\n            });\r\n            MapBeaconStyles.styles.push(style);\r\n        }\r\n    };\r\n    MapBeaconStyles.GetStyle = function (signalValue) {\r\n        if (!signalValue) {\r\n            return MapBeaconStyles.style;\r\n        }\r\n        if (signalValue < MapBeaconStyles.minSignalValue) {\r\n            return MapBeaconStyles.style;\r\n        }\r\n        if (signalValue > MapBeaconStyles.maxSignalValue) {\r\n            signalValue = MapBeaconStyles.maxSignalValue;\r\n        }\r\n        var index = MapBeaconStyles.getIndex(signalValue);\r\n        //console.log(\"MapBeaconStyles::GetStyle   \" + index);\r\n        return MapBeaconStyles.styles[index];\r\n    };\r\n    MapBeaconStyles.getIndex = function (value) {\r\n        return Math.floor(value - MapBeaconStyles.minSignalValue);\r\n    };\r\n    MapBeaconStyles.getMaxIndex = function () {\r\n        return (MapBeaconStyles.maxSignalValue - MapBeaconStyles.minSignalValue);\r\n    };\r\n    MapBeaconStyles.getHalfIndex = function () {\r\n        return MapBeaconStyles.getMaxIndex() / 2.0;\r\n    };\r\n    MapBeaconStyles.getRValue = function (index) {\r\n        if (index <= MapBeaconStyles.getHalfIndex()) {\r\n            return 255;\r\n        }\r\n        var val = MapBeaconStyles.getMaxIndex() - index;\r\n        return Math.floor((val / MapBeaconStyles.getHalfIndex()) * 255);\r\n    };\r\n    MapBeaconStyles.getGValue = function (index) {\r\n        if (index >= MapBeaconStyles.getHalfIndex()) {\r\n            return 255;\r\n        }\r\n        return Math.floor((index / MapBeaconStyles.getHalfIndex()) * 255);\r\n    };\r\n    MapBeaconStyles.circle = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: new ol.style.Fill({\r\n            color: 'black'\r\n        }),\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n    });\r\n    MapBeaconStyles.style = new ol.style.Style({\r\n        image: MapBeaconStyles.circle\r\n    });\r\n    MapBeaconStyles.maxSignalValue = -70;\r\n    MapBeaconStyles.minSignalValue = -90;\r\n    MapBeaconStyles.styles = [];\r\n    return MapBeaconStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapBeaconStyles.js.map\n\n/***/ },\n\n/***/ 693:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__ = __webpack_require__(450);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__ = __webpack_require__(277);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapBeaconStyles__ = __webpack_require__(692);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapBeacons; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar MapBeacons = (function (_super) {\r\n    __extends(MapBeacons, _super);\r\n    function MapBeacons(dialog, mapService, beaconPopUpBaseElem, mapComponent) {\r\n        _super.call(this);\r\n        this.dialog = dialog;\r\n        this.mapService = mapService;\r\n        this.beaconPopUpBaseElem = beaconPopUpBaseElem;\r\n        this.mapComponent = mapComponent;\r\n        this.currentFloorId = -1;\r\n        this.lastMouseClickPosition = null;\r\n        this.editMode = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"a\" /* BeaconEditMode */].CreateDefault();\r\n        this.dialogRef = null;\r\n        this.currentSelectedBeacon = null;\r\n        this.highlightFeaturePoint = null;\r\n        this.highlightFeature = null;\r\n        this.highlightFeatureAdded = false;\r\n        this.beaconFeatures = [];\r\n        this.lastOverlaysUsed = 0;\r\n        this.beaconOverlays = null;\r\n        this.beaconTextFields = null;\r\n        this.Initialize();\r\n    }\r\n    MapBeacons.prototype.Initialize = function () {\r\n        var styleFunction = function (feature) {\r\n            //let source = feature.get(\"source_node\").properties.level;\r\n            var style = __WEBPACK_IMPORTED_MODULE_4__mapBeaconStyles__[\"a\" /* MapBeaconStyles */].GetStyle(feature.get(\"signal\"));\r\n            //console.log(\"MapBeacons::styleFunction   \" + feature.get(\"signal\") + \"###\" + JSON.stringify(style));\r\n            return style;\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(function (feature) { return styleFunction(feature); });\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n        __WEBPACK_IMPORTED_MODULE_4__mapBeaconStyles__[\"a\" /* MapBeaconStyles */].InitStyles();\r\n    };\r\n    MapBeacons.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.currentFloorId = floorId;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getBeacons(floorId).subscribe(function (beacons) { return _this.showBeacons(beacons); }));\r\n    };\r\n    MapBeacons.prototype.setBeaconEditMode = function (mode) {\r\n        console.log(\"MapBeacons::setBeaconEditMode: \" + JSON.stringify(mode));\r\n        this.clearSelection();\r\n        this.editMode = mode;\r\n    };\r\n    MapBeacons.prototype.setBeaconSignals = function (signals) {\r\n        if (!this.beaconOverlays) {\r\n            this.initBeaconOverlays();\r\n        }\r\n        this.resetBeaconOverlays();\r\n        if (!signals) {\r\n            return;\r\n        }\r\n        var hSignal = undefined;\r\n        if (signals.length > 0) {\r\n            hSignal = signals[0];\r\n        }\r\n        for (var i = 1; i < signals.length; i++) {\r\n            if (signals[i].value > hSignal.value) {\r\n                hSignal = signals[i];\r\n            }\r\n        }\r\n        if (this.dialogRef && this.dialogRef.componentInstance) {\r\n            this.dialogRef.componentInstance.setNearestSignal(hSignal);\r\n        }\r\n        if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].DEFAULT) {\r\n            for (var i = 0; i < this.beaconFeatures.length; i++) {\r\n                this.beaconFeatures[i].setProperties({ signal: undefined });\r\n                for (var j = 0; j < signals.length; j++) {\r\n                    if (this.beaconFeatures[i].get(\"name\") == signals[j].name) {\r\n                        this.beaconFeatures[i].setProperties({ signal: signals[j].value });\r\n                        this.setBeaconOverlay(i, this.beaconFeatures[i].getGeometry().getCoordinates(), signals[j].name, signals[j].value, signals[j].origSignal);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.setBeaconOverlay = function (index, position, name, value, orgvalue) {\r\n        console.log(\"MapBeacons::setBeaconOverlay: \" + index + \"#\" + JSON.stringify(position));\r\n        if (index < this.beaconOverlays.length && this.isActive) {\r\n            this.beaconOverlays[index].setPosition(position);\r\n            this.beaconTextFields[index].innerHTML = name + \":\" + value.toFixed(2) + \"/\" + orgvalue.toFixed(0);\r\n            if (index > this.lastOverlaysUsed) {\r\n                this.lastOverlaysUsed = index;\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.resetBeaconOverlays = function () {\r\n        if (!this.beaconOverlays) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.beaconOverlays.length && i <= this.lastOverlaysUsed; i++) {\r\n            this.beaconOverlays[i].setPosition(undefined);\r\n            this.beaconTextFields[i].innerHTML = \"\";\r\n        }\r\n        this.lastOverlaysUsed = 0;\r\n    };\r\n    MapBeacons.prototype.initBeaconOverlays = function () {\r\n        var base = this.beaconPopUpBaseElem.nativeElement;\r\n        //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(this.beaconPopUpBaseElem.nativeElement));\r\n        var childs = base.children;\r\n        var elemCount = childs.length;\r\n        console.log(\"MapBeacons::initBeaconOverlays: \" + elemCount);\r\n        this.beaconOverlays = new Array(elemCount);\r\n        this.beaconTextFields = new Array(elemCount);\r\n        var overlayDivs = [];\r\n        for (var i = 0; i < elemCount; i++) {\r\n            var OverlayDiv = childs[i].children[0];\r\n            overlayDivs.push(OverlayDiv);\r\n            //console.log(\"MapBeacons::initBeaconOverlays: NEW OVERLAY \" + i + \"#\" + OverlayDiv.className + \"#\");\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(OverlayDiv));\r\n            var innerDiv = OverlayDiv.children[0];\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(innerDiv));\r\n            var span = innerDiv.children[0];\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + innerDiv.children.length);\r\n            this.beaconTextFields[i] = span;\r\n        }\r\n        for (var i = 0; i < overlayDivs.length; i++) {\r\n            //new ol.Overlay(/** @type {olx.OverlayOptions} */({\r\n            this.beaconOverlays[i] = new ol.Overlay(({\r\n                element: overlayDivs[i],\r\n                autoPan: false\r\n            }));\r\n            this.mapComponent.addOverlay(this.beaconOverlays[i]);\r\n        }\r\n    };\r\n    MapBeacons.prototype.mouseClicked = function (position, pixelPos, map) {\r\n        this.lastMouseClickPosition = null;\r\n        if (this.currentFloorId >= 0) {\r\n            //   this.clearSelection();\r\n            if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].ADD) {\r\n                this.CreateNewBeacon(position);\r\n            }\r\n            else {\r\n                var isSelected = this.selectBeacon(pixelPos, map, true);\r\n                if (isSelected) {\r\n                    isSelected = this.selectBeacon(pixelPos, map, false);\r\n                    if (isSelected) {\r\n                        if (!this.highlightFeature) {\r\n                            this.initHighlightFeatureOverlay(map);\r\n                        }\r\n                        this.highlightFeaturePoint.setCoordinates(this.currentSelectedBeacon.getGeometry().getCoordinates());\r\n                        this.layerSource.addFeature(this.highlightFeature);\r\n                        this.highlightFeatureAdded = true;\r\n                        this.showSelectedBeaconInfo();\r\n                    }\r\n                }\r\n                else if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].MOVE && this.currentSelectedBeacon) {\r\n                    this.moveCurrentBeacon(position);\r\n                }\r\n                else {\r\n                    this.clearSelection();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.clearSelection = function () {\r\n        if (this.highlightFeature && this.highlightFeatureAdded) {\r\n            this.layerSource.removeFeature(this.highlightFeature);\r\n            this.highlightFeatureAdded = false;\r\n        }\r\n        this.currentSelectedBeacon = null;\r\n    };\r\n    MapBeacons.prototype.selectBeacon = function (pixelPos, map, testOnly) {\r\n        //console.log(\"MapBeacons::selectBeacon!\" + JSON.stringify(pixelPos));\r\n        var _this = this;\r\n        if (!testOnly) {\r\n            this.clearSelection();\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        feature = map.forEachFeatureAtPixel(pixelPos, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature) {\r\n            console.log(\"MapBeacons::selectBeacon Beacon selected! - \" + feature.get(\"name\"));\r\n            if (!testOnly) {\r\n                this.currentSelectedBeacon = feature;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapBeacons.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapBeacons.prototype.showSelectedBeaconInfo = function () {\r\n        console.log(\"MapBeacons::showSelectedBeaconInfo!\");\r\n    };\r\n    MapBeacons.prototype.moveCurrentBeacon = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapBeacons::moveCurrentBeacon... \" + JSON.stringify(position));\r\n        if (this.currentSelectedBeacon) {\r\n            this.currentSelectedBeacon.getGeometry().setCoordinates(position);\r\n            this.highlightFeature.getGeometry().setCoordinates(position);\r\n            this.mapService.updateBeacon((new ol.format.GeoJSON()).writeFeature(this.currentSelectedBeacon), this.currentSelectedBeacon.getId()).\r\n                subscribe(function (poi) { return _this.beaconUpdated(poi); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapBeacons.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n        this.highlightFeature = new ol.Feature({\r\n            geometry: this.highlightFeaturePoint,\r\n            name: 'SelectedPoi'\r\n        });\r\n        this.highlightFeature.setStyle(MapBeacons.higlightStyle);\r\n    };\r\n    MapBeacons.prototype.beaconUpdated = function (beacon) {\r\n        console.log(\"MapBeacons::beaconUpdated Beacon Updated! - \" + JSON.stringify(beacon));\r\n    };\r\n    MapBeacons.prototype.showBeacons = function (features) {\r\n        this.clearSelection();\r\n        this.clear();\r\n        this.resetBeaconOverlays();\r\n        //console.log(\"showBeacons! - \" + JSON.stringify(features));\r\n        /*\r\n            let dummy: Object =\r\n              {\r\n                \"type\": \"FeatureCollection\", \"features\":\r\n                [{ \"id\": 1, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722109.0870171075, 5955257.0827844525] }, \"properties\": { \"mac\": \"00-00-00-00-00-01\", \"name\": \"N1\", \"deployed\": \"2017-06-29T10:18:46.040277Z\", \"seen\": \"2017-06-29T10:18:46.040319Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } },\r\n                  { \"id\": 2, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722094.6153389667, 5955238.592188362] }, \"properties\": { \"mac\": \"00-00-00-00-00-02\", \"name\": \"namexyz\", \"deployed\": \"2017-06-29T10:22:07.677524Z\", \"seen\": \"2017-06-29T10:22:07.677560Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } }]\r\n              };\r\n        */\r\n        this.beaconFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n        this.layerSource.addFeatures(this.beaconFeatures);\r\n    };\r\n    MapBeacons.prototype.beaconDialogClosed = function (res) {\r\n        console.log(\"MapBeacons::beaconDialogClosed: \" + res);\r\n        if (res && res == \"Save\") {\r\n            console.log(\"MapBeacons::beaconDialogClosed: Save Beacon...\");\r\n            if (this.dialogRef && this.dialogRef.componentInstance) {\r\n                var dialogComp = this.dialogRef.componentInstance;\r\n                if (dialogComp.name && dialogComp.name.length > 0) {\r\n                    console.log(\"MapBeacons::beaconDialogClosed: Save Beacon: \" + dialogComp.mac + \"/\" + dialogComp.name);\r\n                    this.addOrUpdateBeacon(dialogComp.name);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.CreateNewBeacon = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapBeacons::CreateNewBeacon: Add new beacon\" + JSON.stringify(position));\r\n        this.lastMouseClickPosition = position;\r\n        this.dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */]);\r\n        this.dialogRef.componentInstance.setMacAndName(\"\", \"\");\r\n        this.dialogRef.afterClosed().subscribe(function (res) { return _this.beaconDialogClosed(res); });\r\n    };\r\n    MapBeacons.prototype.addOrUpdateBeacon = function (name) {\r\n        var _this = this;\r\n        if (this.currentFloorId < 0) {\r\n            return;\r\n        }\r\n        if (this.lastMouseClickPosition) {\r\n            //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n            var center = {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": [this.lastMouseClickPosition[0], this.lastMouseClickPosition[1]]\r\n            };\r\n            console.log(\"MapBeacons ADD: #\" + name + \"#\" + this.currentFloorId + \"#\" + JSON.stringify(center));\r\n            this.mapService.addBeacon(this.currentFloorId, center, name).\r\n                subscribe(function (beacon) { return _this.updateAddBeacon(beacon); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapBeacons.prototype.updateAddBeacon = function (beacon) {\r\n        console.log(\"updateAddBeacon! - \" + JSON.stringify(beacon));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(beacon));\r\n    };\r\n    MapBeacons.higlightObject = new ol.style.Circle({\r\n        radius: 8,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n    });\r\n    MapBeacons.higlightStyle = new ol.style.Style({\r\n        image: MapBeacons.higlightObject\r\n    });\r\n    return MapBeacons;\r\n}(__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapBeacons.js.map\n\n/***/ },\n\n/***/ 694:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapDoors; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapDoors = (function (_super) {\r\n    __extends(MapDoors, _super);\r\n    function MapDoors(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapDoors.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(212, 209, 203,1.0)'\r\n            })\r\n        }));\r\n        res.layer.set('maxResolution', 0.2);\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapDoors.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        console.log(\"MapDoors::showFloor - \" + floorId);\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyDoors()));\r\n        //TODO: fr AlLE!\r\n        //Observable\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getDoors(floorId).subscribe(function (doors) { return _this.showDoors(doors); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapDoors.prototype.showDoors = function (features) {\r\n        console.log(\"MapDoors::showDoors\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapDoors.prototype.getDummyDoors = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [\r\n                                [1722150.9832473625, 5955259.831606609],\r\n                                [1722152.513480839, 5955262.780105258],\r\n                                [1722153.8944232445, 5955262.406877581],\r\n                                [1722152.924031284, 5955260.727353034],\r\n                                [1722150.9832473625, 5955259.831606609]\r\n                            ]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapDoors;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapDoors.js.map\n\n/***/ },\n\n/***/ 695:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__openlayershelper__ = __webpack_require__(54);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapEdges; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapEdges = (function (_super) {\r\n    __extends(MapEdges, _super);\r\n    function MapEdges(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.highlightedFeature = null;\r\n        this.highlightFeatureOverlay = null;\r\n        this.selectFeature = null;\r\n        this.selectFeatureOverlay = null;\r\n        this.Initialize();\r\n    }\r\n    MapEdges.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_2__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: 'black',\r\n                width: 4,\r\n                lineDash: [4, 8]\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapEdges.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.subscribeNewRequest(this.mapService.getNavigationEdges(floorId).subscribe(function (edges) { return _this.showEdges(edges); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapEdges.prototype.getHighlightedEdgeId = function () {\r\n        if (this.highlightedFeature) {\r\n            return this.highlightedFeature.getId();\r\n        }\r\n        return -1;\r\n    };\r\n    MapEdges.prototype.getEdgeForId = function (id) {\r\n        return this.layerSource.getFeatureById(id);\r\n    };\r\n    MapEdges.prototype.updateMouseMoved = function (position, map, allowHighlight) {\r\n        var _this = this;\r\n        if (this.highlightFeatureOverlay === null) {\r\n            this.initHighlightFeatureOverlay(map);\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        if (allowHighlight) {\r\n            feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n                return feature;\r\n            }, options);\r\n        }\r\n        if (feature !== this.highlightedFeature) {\r\n            if (this.highlightedFeature) {\r\n                this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlightedFeature = feature;\r\n        }\r\n    };\r\n    MapEdges.prototype.updateMouseClicked = function (map) {\r\n        //console.log(\"mapEdges::updateMouseClicked...\")\r\n        if (this.highlightedFeature) {\r\n            if (!this.selectFeatureOverlay) {\r\n                this.initSelectFeatureOverlay(map);\r\n            }\r\n            this.selectFeatureOverlay.getSource().clear();\r\n            this.selectFeature = this.highlightedFeature;\r\n            this.selectFeatureOverlay.getSource().addFeature(this.selectFeature);\r\n            console.log(\"mapEdges::updateMouseClicked Select Edge: \" + this.selectFeature.getId());\r\n        }\r\n        else {\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapEdges.prototype.clearSelection = function () {\r\n        if (this.selectFeatureOverlay) {\r\n            console.log(\"mapEdges::clearSelection...\");\r\n            this.selectFeatureOverlay.getSource().clear();\r\n        }\r\n    };\r\n    MapEdges.prototype.deleteSelectedEdges = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        if (this.selectFeature)\r\n            this.mapService.deleteEdge(this.selectFeature.getId()).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    MapEdges.prototype.deleteEdgeById = function (id) {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        this.mapService.deleteEdge(id).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    MapEdges.prototype.addNewEdge = function (start, end) {\r\n        var _this = this;\r\n        console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n        if (!start || !end) {\r\n            return;\r\n        }\r\n        var sourceId = start.getId();\r\n        var destinationId = end.getId();\r\n        if (sourceId == destinationId) {\r\n            return;\r\n        }\r\n        var p1 = start.getGeometry().getCoordinates();\r\n        var p2 = end.getGeometry().getCoordinates();\r\n        var line = new ol.geom.LineString([p1, p2]);\r\n        var distance = line.getLength();\r\n        var path = {\r\n            'type': 'LineString',\r\n            'coordinates': [\r\n                p1,\r\n                p2\r\n            ]\r\n        };\r\n        this.mapService.addEdge(sourceId, destinationId, distance, path).\r\n            subscribe(function (edge) { return _this.edgeAdded(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapEdges.prototype.getEdgesForNode = function (nodeId) {\r\n        return this.layerSource.getFeatures().filter(function (feature) { return feature.get(\"source\") == nodeId || feature.get(\"destination\") == nodeId; });\r\n    };\r\n    MapEdges.prototype.removeEdgesForNode = function (nodeId) {\r\n        console.log(\"MapEdges::removeEdgesForNode - \" + nodeId);\r\n        var edges = this.getEdgesForNode(nodeId);\r\n        for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n            var edge = edges_1[_i];\r\n            this.layerSource.removeFeature(edge);\r\n        }\r\n    };\r\n    MapEdges.prototype.edgeDeleted = function (edge) {\r\n        var feature = this.layerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapEdges.prototype.edgeAdded = function (edge) {\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n    };\r\n    MapEdges.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'red',\r\n                    width: 4\r\n                })\r\n            })\r\n        });\r\n    };\r\n    MapEdges.prototype.initSelectFeatureOverlay = function (map) {\r\n        console.log(\"mapEdges::initSelectFeatureOverlay...\");\r\n        this.selectFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'rgba(0,190,255,0.8)',\r\n                    width: 6\r\n                })\r\n            })\r\n        });\r\n    };\r\n    MapEdges.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapEdges.prototype.showEdges = function (features) {\r\n        console.log(\"MapEdges::showEdges\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    return MapEdges;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapEdges.js.map\n\n/***/ },\n\n/***/ 696:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_point__ = __webpack_require__(685);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__openlayershelper__ = __webpack_require__(54);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapEditEdges; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapEditEdges = (function (_super) {\r\n    __extends(MapEditEdges, _super);\r\n    function MapEditEdges(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.startPositions = null;\r\n        this.Initialize();\r\n    }\r\n    MapEditEdges.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_2__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: 'gray',\r\n                width: 3\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n        this.lineAr = [];\r\n        this.multiLineString = new ol.geom.MultiLineString(this.lineAr);\r\n        this.multiLineFeature = new ol.Feature({\r\n            geometry: this.multiLineString,\r\n            name: 'Lines'\r\n        });\r\n        this.layerSource.addFeature(this.multiLineFeature);\r\n        //this.setNewLine([1722194.7183594021, 5955141.12279422], [1722055.5790813519, 5955315.494764996]);\r\n    };\r\n    MapEditEdges.prototype.setNewStartPos = function (p) {\r\n        var point = new __WEBPACK_IMPORTED_MODULE_0__base_point__[\"a\" /* Point */]();\r\n        point.createFromAr(p);\r\n        this.startPositions = [point];\r\n    };\r\n    MapEditEdges.prototype.setNewStartPositionsForEdgeFeatures = function (startnodeId, edges) {\r\n        this.startPositions = [];\r\n        for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n            var edge = edges_1[_i];\r\n            var pos = edge.getGeometry().getFirstCoordinate();\r\n            if (edge.get(\"source\") == startnodeId) {\r\n                pos = edge.getGeometry().getLastCoordinate();\r\n            }\r\n            var p = new __WEBPACK_IMPORTED_MODULE_0__base_point__[\"a\" /* Point */]();\r\n            p.createFromAr(pos);\r\n            this.startPositions.push(p);\r\n        }\r\n    };\r\n    MapEditEdges.prototype.setNewEndPos = function (p) {\r\n        //console.log(\"MapEditEdges::setNewEndPos - \" + p[0] + \", \" + p[1]);\r\n        if (this.startPositions != null) {\r\n            this.lineAr = [];\r\n            for (var _i = 0, _a = this.startPositions; _i < _a.length; _i++) {\r\n                var pos = _a[_i];\r\n                this.lineAr.push([pos.getAr(), p]);\r\n            }\r\n            this.multiLineString.setCoordinates(this.lineAr);\r\n        }\r\n    };\r\n    MapEditEdges.prototype.clear = function () {\r\n        this.startPositions = null;\r\n        this.lineAr = [];\r\n        this.multiLineString.setCoordinates(this.lineAr);\r\n    };\r\n    MapEditEdges.prototype.setNewLine = function (p1, p2) {\r\n        console.log(\"MapEditEdges::setNewLine - \");\r\n        this.lineAr = [];\r\n        this.lineAr.push([p1, p2]);\r\n        this.multiLineString.setCoordinates(this.lineAr);\r\n    };\r\n    MapEditEdges.prototype.updateEdges = function (edges, updatedNode) {\r\n        var _this = this;\r\n        var coord = updatedNode.getGeometry().getCoordinates();\r\n        for (var _i = 0, edges_2 = edges; _i < edges_2.length; _i++) {\r\n            var edge = edges_2[_i];\r\n            //console.log(\"Update Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n            var geo = edge.getGeometry().getCoordinates();\r\n            if (edge.get(\"source\") == updatedNode.getId()) {\r\n                geo[0] = coord;\r\n            }\r\n            else {\r\n                geo[geo.length - 1] = coord;\r\n            }\r\n            edge.getGeometry().setCoordinates(geo);\r\n            this.mapService.updateEdge(new ol.format.GeoJSON().writeFeature(edge), edge.getId()).\r\n                subscribe(function (node) { return _this.edgeUpdated(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapEditEdges.prototype.edgeUpdated = function (edge) {\r\n        //Nothing todo\r\n    };\r\n    return MapEditEdges;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapEditEdges.js.map\n\n/***/ },\n\n/***/ 697:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapFloor; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapFloor = (function (_super) {\r\n    __extends(MapFloor, _super);\r\n    function MapFloor(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapFloor.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(64,64,64,1.0)'\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapFloor.prototype.updateData = function (floorid) {\r\n        var _this = this;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getFloors(floorid).subscribe(function (buildings) { return _this.showFloors(buildings); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyFloor()));\r\n    };\r\n    MapFloor.prototype.showFloors = function (features) {\r\n        console.log(\"MapFloors::showFloors\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapFloor.prototype.getDummyFloor = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [\r\n                                [1722127.851590177, 5955257.966158812],\r\n                                [1722184.2836149659, 5955368.142969113],\r\n                                [1722202.4971256119, 5955359.185504861],\r\n                                [1722195.33115421, 5955345.450726341],\r\n                                [1722198.914139911, 5955343.360651349],\r\n                                [1722177.4162257058, 5955302.156315789],\r\n                                [1722173.2360757214, 5955303.649226498],\r\n                                [1722145.169354398, 5955249.307276702],\r\n                                [1722127.851590177, 5955257.966158812]\r\n                            ]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapFloor;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapFloor.js.map\n\n/***/ },\n\n/***/ 698:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__ = __webpack_require__(699);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapNodes; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar MapNodes = (function (_super) {\r\n    __extends(MapNodes, _super);\r\n    function MapNodes(mapService, mapEditEdges, mapEdges, mapRoute) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.mapEditEdges = mapEditEdges;\r\n        this.mapEdges = mapEdges;\r\n        this.mapRoute = mapRoute;\r\n        this.highlightFeatureOverlay = null;\r\n        this.displayEditLines = false;\r\n        this.isModifying = false;\r\n        this.lastMousePostion = [0, 0];\r\n        this.currentFloorId = -1;\r\n        this.ctrlPressed = false;\r\n        this.lastSelectedNode = null;\r\n        this.Initialize();\r\n    }\r\n    MapNodes.prototype.Initialize = function () {\r\n        var styleFunction = function (feature) {\r\n            if (feature.get('ctype') == 'node') {\r\n                return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].VirtualNodeStyle;\r\n            }\r\n            if (feature.get('ctype') == 'point of interest instance') {\r\n                return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].PoiNodeStyle;\r\n            }\r\n            return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].DefaultNodeStyle;\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(styleFunction);\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapNodes.prototype.extendMap = function (map) {\r\n        var _this = this;\r\n        this.select = new ol.interaction.Select({\r\n            wrapX: false,\r\n            layers: (function (layer) { return _this.testSelect(layer); }),\r\n            toggleCondition: ol.events.condition.never\r\n        });\r\n        map.addInteraction(this.select);\r\n        this.modify = new ol.interaction.Modify({\r\n            features: this.select.getFeatures(),\r\n            condition: (function (evt) { return _this.testModify(evt); })\r\n        });\r\n        map.addInteraction(this.modify);\r\n        this.select.on('select', function (evt) { return _this.featureSelected(evt); });\r\n        this.modify.on('modifystart', function (evt) { return _this.featureModifyStart(evt); });\r\n        this.modify.on('modifyend', function (evt) { return _this.featureModified(evt); });\r\n    };\r\n    MapNodes.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.currentFloorId = floorId;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getNavigationNodes(floorId).subscribe(function (nodes) { return _this.showNodes(nodes); }));\r\n    };\r\n    MapNodes.prototype.mouseMoved = function (position, worldposition, map) {\r\n        var _this = this;\r\n        this.lastMousePostion = worldposition;\r\n        if (this.highlightFeatureOverlay === null) {\r\n            this.initHighlightFeatureOverlay(map);\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature !== this.highlightedFeature) {\r\n            if (this.highlightedFeature) {\r\n                this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlightedFeature = feature;\r\n        }\r\n        this.mapEdges.updateMouseMoved(position, map, this.highlightedFeature == null);\r\n        if (this.displayEditLines || this.isModifying) {\r\n            this.mapEditEdges.setNewEndPos(worldposition);\r\n        }\r\n    };\r\n    MapNodes.prototype.mouseClicked = function (position, map) {\r\n        if (this.displayEditLines) {\r\n            var selectedFeature = null;\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            if (selectedFeatures.length >= 1) {\r\n                selectedFeature = selectedFeatures[0];\r\n            }\r\n            if (this.highlightedFeature) {\r\n                //Add edge to existing Node\r\n                this.selectNewNode(this.highlightedFeature);\r\n                this.addNewEdge(selectedFeature, this.highlightedFeature);\r\n            }\r\n            else {\r\n                this.addNewNodeOnPos(selectedFeature, position);\r\n            }\r\n        }\r\n        else if (this.lastSelectedNode && this.highlightedFeature && this.ctrlPressed) {\r\n            this.selectNewNode(this.highlightedFeature);\r\n            this.addNewEdge(this.lastSelectedNode, this.highlightedFeature);\r\n        }\r\n        else if (!this.highlightedFeature) {\r\n            this.mapEdges.updateMouseClicked(map);\r\n        }\r\n        else {\r\n            this.mapEdges.clearSelection();\r\n        }\r\n    };\r\n    MapNodes.prototype.ctlPressed = function () {\r\n        this.ctrlPressed = true;\r\n        var selectedFeatures = this.select.getFeatures().getArray();\r\n        if (selectedFeatures.length >= 1) {\r\n            this.displayEditLines = true;\r\n            var coord = selectedFeatures[0].getGeometry().getCoordinates();\r\n            console.log(\"Set Startpoint: \" + JSON.stringify(coord));\r\n            this.mapEditEdges.setNewStartPos(coord);\r\n            this.mapEditEdges.setNewEndPos(this.lastMousePostion);\r\n        }\r\n    };\r\n    MapNodes.prototype.ctlReleased = function () {\r\n        this.ctrlPressed = false;\r\n        console.log(\"ctlReleased...\");\r\n        this.displayEditLines = false;\r\n        this.mapEditEdges.clear();\r\n    };\r\n    MapNodes.prototype.updateAddNode = function (node, selectedStartNodeFeature, edgeToSplitId) {\r\n        console.log(\"updateAddNode! - \" + JSON.stringify(node));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(node));\r\n        var endNode = this.layerSource.getFeatureById(node.id);\r\n        this.selectNewNode(endNode);\r\n        if (selectedStartNodeFeature) {\r\n            this.addNewEdge(selectedStartNodeFeature, endNode);\r\n            console.log(\"Split Edge?\");\r\n            if (edgeToSplitId >= 0) {\r\n                var edgeToSplit = this.mapEdges.getEdgeForId(edgeToSplitId);\r\n                if (edgeToSplit) {\r\n                    console.log(\"Split Edge: \" + edgeToSplit.getId());\r\n                    var node1 = this.layerSource.getFeatureById(edgeToSplit.get(\"source\"));\r\n                    var node2 = this.layerSource.getFeatureById(edgeToSplit.get(\"destination\"));\r\n                    this.mapEdges.deleteEdgeById(edgeToSplit.getId());\r\n                    if (node1) {\r\n                        this.addNewEdge(node1, endNode);\r\n                    }\r\n                    if (node2) {\r\n                        this.addNewEdge(node2, endNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapNodes.prototype.selectNewNode = function (node) {\r\n        var selectedFeatures = this.select.getFeatures();\r\n        selectedFeatures.clear();\r\n        selectedFeatures.push(node);\r\n        var coord = node.getGeometry().getCoordinates();\r\n        this.mapEditEdges.setNewStartPos(coord);\r\n        this.mapEditEdges.setNewEndPos(coord);\r\n    };\r\n    MapNodes.prototype.addNewEdge = function (start, end) {\r\n        //console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n        this.mapEdges.addNewEdge(start, end);\r\n    };\r\n    MapNodes.prototype.deleteSelectedNodes = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.select.getFeatures().getArray(); _i < _a.length; _i++) {\r\n            var feature = _a[_i];\r\n            if (feature.get('ctype') == 'node') {\r\n                this.mapService.deleteNode(feature.getId()).subscribe(function (edge) { return _this.nodeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n            }\r\n            else {\r\n                console.log(\"Not allowed to delete feature of type: \" + feature.get('ctype'));\r\n            }\r\n        }\r\n    };\r\n    MapNodes.prototype.nodeDeleted = function (node) {\r\n        console.log(\"edgeDeleted...\" + JSON.stringify(node));\r\n        this.mapEdges.removeEdgesForNode(node.id);\r\n        var feature = this.layerSource.getFeatureById(node.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            var selected_collection = this.select.getFeatures();\r\n            selected_collection.clear();\r\n        }\r\n    };\r\n    MapNodes.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapNodes.prototype.testSelect = function (layer) {\r\n        if (this.testLayer(layer) &&\r\n            (__WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapNodes.prototype.testModify = function (evt) {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            if (selectedFeatures.length > 0 && selectedFeatures[0].get('ctype') == 'node') {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    };\r\n    MapNodes.prototype.addNewNodeOnPos = function (selectedFeature, position) {\r\n        var _this = this;\r\n        if (this.currentFloorId < 0) {\r\n            return;\r\n        }\r\n        //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n        var center = {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [position[0], position[1]]\r\n        };\r\n        //console.log(\"mouseClickedCtrl! - OBJ: \" + JSON.stringify(center));\r\n        var highlightedEdgeId = this.mapEdges.getHighlightedEdgeId();\r\n        console.log(\"mouseClicked Add new node: \" + JSON.stringify(center) +\r\n            \"   SplitEdgeID: \" + highlightedEdgeId);\r\n        //Add edge to new Node\r\n        this.mapService.addNode(this.currentFloorId, center).\r\n            subscribe(function (node) { return _this.updateAddNode(node, selectedFeature, highlightedEdgeId); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapNodes.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].higlightStyle\r\n        });\r\n    };\r\n    MapNodes.prototype.showNodes = function (features) {\r\n        this.clear();\r\n        //console.log(\"showNodes! - \" + JSON.stringify(features));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapNodes.prototype.featureSelected = function (evt) {\r\n        var features = evt.selected;\r\n        if (features.length > 0) {\r\n            console.log(\"Feature selected => \" + features[0].getId());\r\n            this.lastSelectedNode = features[0];\r\n            if (this.mapRoute.doShowRoute()) {\r\n                this.mapRoute.generateRoute(features[0].getId());\r\n            }\r\n            this.mapRoute.setNewStartPos(features[0].getId());\r\n        }\r\n    };\r\n    MapNodes.prototype.featureModified = function (evt) {\r\n        var _this = this;\r\n        console.log(\"MapNodes::featureModifyEnd...\");\r\n        this.isModifying = false;\r\n        this.mapEditEdges.clear();\r\n        var features = evt.features.getArray();\r\n        for (var _i = 0, features_1 = features; _i < features_1.length; _i++) {\r\n            var feature = features_1[_i];\r\n            console.log(\"Feature \" + feature.getId() + \" modified!\");\r\n            this.mapService.updateNode((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n                subscribe(function (node) { return _this.nodeUpdated(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n            var edges = this.mapEdges.getEdgesForNode(feature.getId());\r\n            this.mapEditEdges.updateEdges(edges, feature);\r\n        }\r\n    };\r\n    MapNodes.prototype.featureModifyStart = function (evt) {\r\n        console.log(\"MapNodes::featureModifyStart...\");\r\n        var selFeatures = this.select.getFeatures().getArray();\r\n        console.log(\"Feature selected: \" + selFeatures.length);\r\n        if (selFeatures.length >= 1) {\r\n            var edges = this.mapEdges.getEdgesForNode(selFeatures[0].getId());\r\n            console.log(\"Feature selected: \" + selFeatures[0].getId() + \"  Edges: \" + edges.length);\r\n            this.mapEditEdges.setNewStartPositionsForEdgeFeatures(selFeatures[0].getId(), edges);\r\n        }\r\n        this.isModifying = true;\r\n    };\r\n    MapNodes.prototype.nodeUpdated = function (node) {\r\n        console.log(\"node Updated! - \" + JSON.stringify(node));\r\n    };\r\n    MapNodes.prototype.clearSelection = function () {\r\n        var selectedFeatures = this.select.getFeatures();\r\n        selectedFeatures.clear();\r\n        this.displayEditLines = false;\r\n        this.isModifying = false;\r\n    };\r\n    return MapNodes;\r\n}(__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapNodes.js.map\n\n/***/ },\n\n/***/ 699:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapNodesStyles; });\nvar MapNodesStyles = (function () {\r\n    function MapNodesStyles() {\r\n    }\r\n    MapNodesStyles.higlightImage = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 3 })\r\n    });\r\n    MapNodesStyles.higlightStyle = new ol.style.Style({\r\n        image: MapNodesStyles.higlightImage\r\n    });\r\n    MapNodesStyles.DefaultNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 2 })\r\n    });\r\n    MapNodesStyles.DefaultNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.DefaultNodeImage\r\n    });\r\n    MapNodesStyles.VirtualNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'green', width: 2 })\r\n    });\r\n    MapNodesStyles.VirtualNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.VirtualNodeImage\r\n    });\r\n    MapNodesStyles.PoiNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 2 })\r\n    });\r\n    MapNodesStyles.PoiNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.PoiNodeImage\r\n    });\r\n    return MapNodesStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapNodesStyles.js.map\n\n/***/ },\n\n/***/ 700:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapPois; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapPois = (function (_super) {\r\n    __extends(MapPois, _super);\r\n    function MapPois(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.poitypes = null;\r\n        this.currentPoiType = null;\r\n        this.currentFloor = -1;\r\n        this.iconStyleMap = null;\r\n        this.currentSelectedPoi = null;\r\n        this.highlightFeaturePoint = null;\r\n        this.highlightFeature = null;\r\n        this.featureAdded = false;\r\n        this.Initialize();\r\n    }\r\n    MapPois.prototype.Initialize = function () {\r\n        this.layerSource = new ol.source.Vector({\r\n            features: []\r\n        });\r\n        this.layer = new ol.layer.Vector({\r\n            source: this.layerSource\r\n        });\r\n    };\r\n    MapPois.prototype.updateData = function (currentFloor) {\r\n        var _this = this;\r\n        if (this.iconStyleMap) {\r\n            this.clear();\r\n            this.subscribeNewRequest(this.mapService.getPoiInstances(currentFloor).subscribe(function (buildings) { return _this.showPois(buildings); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n        }\r\n    };\r\n    MapPois.prototype.setPoiTypes = function (poiTypes) {\r\n        this.poitypes = poiTypes;\r\n        this.iconStyleMap = {};\r\n        for (var i = 0; i < poiTypes.length; i++) {\r\n            var iconStyle = new ol.style.Style({\r\n                image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({\r\n                    anchor: [0.5, 1],\r\n                    anchorXUnits: 'fraction',\r\n                    anchorYUnits: 'fraction',\r\n                    src: poiTypes[i].iconurl\r\n                }))\r\n            });\r\n            this.iconStyleMap[poiTypes[i].id] = iconStyle;\r\n        }\r\n        if (this.currentFloor >= 0) {\r\n            this.updateData(this.currentFloor);\r\n        }\r\n    };\r\n    MapPois.prototype.setCurrentSelectedPoiType = function (poiType) {\r\n        this.currentPoiType = poiType;\r\n    };\r\n    MapPois.prototype.setCurrentFloor = function (layer) {\r\n        console.log(\"MapPois::setCurrentFloor\");\r\n        this.currentFloor = layer;\r\n    };\r\n    MapPois.prototype.mouseClicked = function (position, pixelPos, strgPressed, shiftPressed, map) {\r\n        console.log(\"MapPois::mouseClicked\");\r\n        if (strgPressed && this.currentPoiType && this.currentFloor >= 0) {\r\n            this.clearSelection();\r\n            this.createNewPoi(position);\r\n        }\r\n        else if (this.currentFloor >= 0) {\r\n            if (this.currentSelectedPoi && shiftPressed) {\r\n                console.log(\"MapPois::mouseClicked Move: \" + this.currentSelectedPoi.getId());\r\n                this.moveCurrentPoi(position);\r\n            }\r\n            else if (this.selectPoi(pixelPos, map)) {\r\n                if (!this.highlightFeature) {\r\n                    this.initHighlightFeatureOverlay(map);\r\n                }\r\n                this.highlightFeaturePoint.setCoordinates(this.currentSelectedPoi.getGeometry().getCoordinates());\r\n                this.layerSource.addFeature(this.highlightFeature);\r\n                this.featureAdded = true;\r\n                console.log(\"MapPois::mouseClicked Select: \" + this.currentSelectedPoi.getId());\r\n            }\r\n            else {\r\n                this.clearSelection();\r\n            }\r\n        }\r\n    };\r\n    MapPois.prototype.deleteSelectedPoi = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        if (this.currentSelectedPoi) {\r\n            this.mapService.deletePoi(this.currentSelectedPoi.getId()).subscribe(function (edge) { return _this.poiDeleted(edge); }, function (error) { return console.log(\"ERROR deletePoi: \" + error); });\r\n        }\r\n    };\r\n    MapPois.prototype.poiDeleted = function (poi) {\r\n        console.log(\"poiDeleted...\" + JSON.stringify(poi));\r\n        var feature = this.layerSource.getFeatureById(poi.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapPois.prototype.moveCurrentPoi = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapPois::movePoi... \" + JSON.stringify(position));\r\n        if (this.currentSelectedPoi) {\r\n            this.currentSelectedPoi.getGeometry().setCoordinates(position);\r\n            this.highlightFeature.getGeometry().setCoordinates(position);\r\n            this.mapService.updatePoi((new ol.format.GeoJSON()).writeFeature(this.currentSelectedPoi), this.currentSelectedPoi.getId()).\r\n                subscribe(function (poi) { return _this.poiUpdated(poi); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapPois.prototype.poiUpdated = function (poi) {\r\n        console.log(\"Poi Updated! - \" + JSON.stringify(poi));\r\n    };\r\n    MapPois.prototype.selectPoi = function (pixelPos, map) {\r\n        var _this = this;\r\n        this.clearSelection();\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        feature = map.forEachFeatureAtPixel(pixelPos, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature) {\r\n            this.currentSelectedPoi = feature;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapPois.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapPois.prototype.createNewPoi = function (position) {\r\n        var _this = this;\r\n        var center = {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [position[0], position[1]]\r\n        };\r\n        this.mapService.addPoiInstance(this.currentFloor, center, this.currentPoiType.id).\r\n            subscribe(function (node) { return _this.updateAddPoi(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapPois.prototype.showPois = function (features) {\r\n        console.log(\"MapPois::showPois\");\r\n        this.clear();\r\n        this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(features));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapPois.prototype.showPoisWithStyles = function (olFeatures) {\r\n        for (var i = 0; i < olFeatures.length; i++) {\r\n            var id = olFeatures[i].getId();\r\n            var poiTypeId = olFeatures[i].get(\"name\");\r\n            console.log(\"MapPois::showPoisWithStyles: \" + id + \"#\" + poiTypeId);\r\n            olFeatures[i].setStyle(this.iconStyleMap[poiTypeId]);\r\n        }\r\n        this.layerSource.addFeatures(olFeatures);\r\n    };\r\n    MapPois.prototype.updateAddPoi = function (poi) {\r\n        console.log(\"MapPois::updateAddNode! - \" + JSON.stringify(poi));\r\n        this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(poi));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(poi));\r\n    };\r\n    MapPois.prototype.clearSelection = function () {\r\n        if (this.featureAdded && this.highlightFeature) {\r\n            this.layerSource.removeFeature(this.highlightFeature);\r\n            this.featureAdded = false;\r\n        }\r\n        this.currentSelectedPoi = null;\r\n    };\r\n    MapPois.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n        this.highlightFeature = new ol.Feature({\r\n            geometry: this.highlightFeaturePoint,\r\n            name: 'SelectedPoi'\r\n        });\r\n        this.highlightFeature.setStyle(MapPois.higlightStyle);\r\n    };\r\n    MapPois.higlightObject = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n    });\r\n    MapPois.higlightStyle = new ol.style.Style({\r\n        image: MapPois.higlightObject\r\n    });\r\n    return MapPois;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapPois.js.map\n\n/***/ },\n\n/***/ 701:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRoom; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapRoom = (function (_super) {\r\n    __extends(MapRoom, _super);\r\n    function MapRoom(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapRoom.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            /*stroke: new ol.style.Stroke({\r\n              color: 'red',\r\n              width: 0\r\n            }),*/\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(96,96,255,1)'\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapRoom.prototype.updateData = function (floorid) {\r\n        var _this = this;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getRooms(floorid).subscribe(function (rooms) { return _this.showRooms(rooms); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapRoom.prototype.showRooms = function (features) {\r\n        //console.log(\"MapRoom::showRooms\");\r\n        this.clear();\r\n        var olFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n        this.layerSource.addFeatures(olFeatures);\r\n    };\r\n    MapRoom.prototype.getDummyRoom = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [[1722195.294385298, 5955266.126823761], [1722204.811691066, 5955261.3495094925],\r\n                                [1722202.1244517902, 5955255.975030941], [1722192.6071460224, 5955260.90163628],\r\n                                [1722195.294385298, 5955266.126823761]]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapRoom;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapRoom.js.map\n\n/***/ },\n\n/***/ 702:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__ = __webpack_require__(703);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRoute; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapRoute = (function (_super) {\r\n    __extends(MapRoute, _super);\r\n    function MapRoute(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.currentStartNodeId = -1;\r\n        this.currentFloorId = -1;\r\n        this.createRoute = false;\r\n        this.Initialize();\r\n    }\r\n    MapRoute.prototype.Initialize = function () {\r\n        var _this = this;\r\n        var styleFunction = function (feature, currentFloor) {\r\n            var style = null;\r\n            try {\r\n                var source = feature.get(\"source_node\").properties.level;\r\n                var destination = feature.get(\"destination_node\").properties.level;\r\n                if (source == currentFloor || destination == currentFloor) {\r\n                    style = __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__[\"a\" /* MapRouteStyles */].routeCurrentFloor;\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n            if (style) {\r\n                return style;\r\n            }\r\n            else {\r\n                return __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__[\"a\" /* MapRouteStyles */].routeHiddenFloor;\r\n            }\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_1__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(function (feature) { return styleFunction(feature, _this.currentFloorId); });\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapRoute.prototype.setNewStartPos = function (nodeId) {\r\n        this.currentStartNodeId = nodeId;\r\n    };\r\n    MapRoute.prototype.shiftPressed = function () {\r\n        this.createRoute = true;\r\n    };\r\n    MapRoute.prototype.shiftReleased = function () {\r\n        this.createRoute = false;\r\n    };\r\n    MapRoute.prototype.doShowRoute = function () {\r\n        return this.createRoute;\r\n    };\r\n    MapRoute.prototype.generateRoute = function (destinationNode) {\r\n        var _this = this;\r\n        if (this.currentStartNodeId >= 0 && destinationNode >= 0) {\r\n            console.log(\"MapRoute::generateRoute From: \" + this.currentStartNodeId + \" to \" + destinationNode);\r\n            this.subscribeNewRequest(this.mapService.getRoute(this.currentStartNodeId, destinationNode).\r\n                subscribe(function (route) { return _this.updateRoute(route); }, function (error) { return console.log(\"ERROR: \" + error); }));\r\n        }\r\n    };\r\n    MapRoute.prototype.clear = function () {\r\n        this.layerSource.clear();\r\n    };\r\n    MapRoute.prototype.setCurrentFloor = function (floor) {\r\n        this.currentFloorId = floor;\r\n        this.layerSource.refresh();\r\n    };\r\n    MapRoute.prototype.updateRoute = function (route) {\r\n        console.log(\"MapRoute::update Route\");\r\n        this.layerSource.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route));\r\n    };\r\n    return MapRoute;\r\n}(__WEBPACK_IMPORTED_MODULE_0__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapRoute.js.map\n\n/***/ },\n\n/***/ 703:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRouteStyles; });\nvar MapRouteStyles = (function () {\r\n    function MapRouteStyles() {\r\n    }\r\n    MapRouteStyles.routeCurrentFloor = new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n            color: 'green',\r\n            width: 5\r\n        })\r\n    });\r\n    MapRouteStyles.routeHiddenFloor = new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n            color: 'green',\r\n            width: 5,\r\n            lineDash: [3, 7]\r\n        })\r\n    });\r\n    return MapRouteStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapRouteStyles.js.map\n\n/***/ },\n\n/***/ 704:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return FloorselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nvar FloorselectorComponent = (function () {\r\n    function FloorselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.floorList = [];\r\n        this.selectedFloor = null;\r\n        this.currentFloorEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n    }\r\n    FloorselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.updateData();\r\n    };\r\n    FloorselectorComponent.prototype.updateData = function () {\r\n        var _this = this;\r\n        this.mapService.getFloorNames().subscribe(function (floors) { return _this.updateFloors(floors); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    FloorselectorComponent.prototype.onSelect = function (floor) {\r\n        this.selectFloor(floor);\r\n        //console.log(\"Floor: \" + JSON.stringify(floor));\r\n    };\r\n    FloorselectorComponent.prototype.updateFloors = function (floors) {\r\n        this.floorList = floors;\r\n        for (var _i = 0, _a = this.floorList; _i < _a.length; _i++) {\r\n            var floor = _a[_i];\r\n            if (floor.name.startsWith('EG')) {\r\n                this.selectFloor(floor);\r\n                //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(floor));\r\n                return;\r\n            }\r\n        }\r\n        if (this.floorList.length > 0) {\r\n            this.selectFloor(this.floorList[0]);\r\n        }\r\n    };\r\n    FloorselectorComponent.prototype.selectFloor = function (floor) {\r\n        this.selectedFloor = floor;\r\n        this.currentFloorEvt.emit(this.selectedFloor);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], FloorselectorComponent.prototype, \"currentFloorEvt\", void 0);\r\n    FloorselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-floorselector',\r\n            template: __webpack_require__(898),\r\n            styles: [__webpack_require__(885)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], FloorselectorComponent);\r\n    return FloorselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/floorselector.component.js.map\n\n/***/ },\n\n/***/ 705:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapcontrollerserviceService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\nvar MapcontrollerserviceService = (function () {\r\n    function MapcontrollerserviceService() {\r\n    }\r\n    MapcontrollerserviceService.prototype.showRoute = function (route) {\r\n    };\r\n    MapcontrollerserviceService.prototype.hideRoute = function () {\r\n    };\r\n    MapcontrollerserviceService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \r\n        __metadata('design:paramtypes', [])\r\n    ], MapcontrollerserviceService);\r\n    return MapcontrollerserviceService;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mapcontrollerservice.service.js.map\n\n/***/ },\n\n/***/ 706:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BASEMAP_1; });\nvar BASEMAP_1 = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.7179484894, 5955311.036092768],\r\n                    [1722146.0740319043, 5955305.806638332]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722145.4393780732, 5955304.280772133],\r\n                    [1722144.3102046154, 5955302.047357817]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722156.5486399394, 5955306.256258198],\r\n                    [1722151.3915498806, 5955308.863588676],\r\n                    [1722127.931174513, 5955262.460852391]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.866233931, 5955310.209756394],\r\n                    [1722112.6978673185, 5955256.472911546],\r\n                    [1722122.082911084, 5955251.728004948],\r\n                    [1722126.076234266, 5955259.626477143]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722143.3116983555, 5955300.0385739],\r\n                    [1722142.058591478, 5955297.560029245]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722141.0532015797, 5955295.537624686],\r\n                    [1722140.1856665525, 5955293.821710152]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.173541809, 5955291.819808783],\r\n                    [1722138.5469889154, 5955290.580537533]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.9410912285, 5955289.382120622],\r\n                    [1722137.6381423848, 5955288.782912167]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.0186251472, 5955287.591381051],\r\n                    [1722135.9514194895, 5955285.480534063]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722134.9747857354, 5955283.785578792],\r\n                    [1722133.7629903613, 5955281.38874497]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.1843296185, 5955280.176557558],\r\n                    [1722132.4613843076, 5955278.7466298565]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.9914304577, 5955310.161206596],\r\n                    [1722140.1936529577, 5955310.058966596],\r\n                    [1722140.4127388278, 5955310.492300833],\r\n                    [1722145.1408928542, 5955308.101832573]\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-basemap01.js.map\n\n/***/ },\n\n/***/ 707:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BASEMAP; });\nvar BASEMAP = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.7179484894, 5955311.036092768],\r\n                    [1722146.0740319043, 5955305.806638332]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722145.4393780732, 5955304.280772133],\r\n                    [1722144.3102046154, 5955302.047357817]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722156.5486399394, 5955306.256258198],\r\n                    [1722151.3915498806, 5955308.863588676],\r\n                    [1722127.931174513, 5955262.460852391]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.866233931, 5955310.209756394],\r\n                    [1722112.6978673185, 5955256.472911546],\r\n                    [1722122.082911084, 5955251.728004948],\r\n                    [1722126.076234266, 5955259.626477143]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722143.3116983555, 5955300.0385739],\r\n                    [1722142.058591478, 5955297.560029245]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722141.0532015797, 5955295.537624686],\r\n                    [1722140.1856665525, 5955293.821710152]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.173541809, 5955291.819808783],\r\n                    [1722138.5469889154, 5955290.580537533]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.9410912285, 5955289.382120622],\r\n                    [1722137.6381423848, 5955288.782912167]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.0186251472, 5955287.591381051],\r\n                    [1722135.9514194895, 5955285.480534063]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722134.9747857354, 5955283.785578792],\r\n                    [1722133.7629903613, 5955281.38874497]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.1843296185, 5955280.176557558],\r\n                    [1722132.4613843076, 5955278.7466298565]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.9914304577, 5955310.161206596],\r\n                    [1722140.1936529577, 5955310.058966596],\r\n                    [1722140.4127388278, 5955310.492300833],\r\n                    [1722145.1408928542, 5955308.101832573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722138.038594267, 5955306.179079759],\r\n                    [1722144.6830496874, 5955302.819764539]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722135.7410594842, 5955301.730400836],\r\n                    [1722142.4240331678, 5955298.351611486]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.8325794842, 5955297.955580836],\r\n                    [1722140.6118477474, 5955294.528106706]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722132.0015660073, 5955294.238323232],\r\n                    [1722138.703797744, 5955290.849797362]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.6365151408, 5955289.799595839],\r\n                    [1722136.415785561, 5955286.372120619]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.3726029575, 5955287.862334096],\r\n                    [1722134.7650136072, 5955290.616410413],\r\n                    [1722137.846498397, 5955289.058468022]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722125.925588397, 5955282.220528022],\r\n                    [1722132.5507836072, 5955278.870950413]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.610817744, 5955278.860292363],\r\n                    [1722131.0295153542, 5955279.688442573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.8911294772, 5955277.628127148],\r\n                    [1722129.3945353474, 5955276.645903885]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.6667453507, 5955277.088653229],\r\n                    [1722124.6400720875, 5955279.630047359]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722128.7129353473, 5955275.297753885],\r\n                    [1722127.9437012174, 5955273.776270622]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722128.4004860038, 5955274.488433889],\r\n                    [1722123.3738127407, 5955277.0298280185]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722127.1545618705, 5955272.119756282],\r\n                    [1722123.4154994807, 5955264.724191493],\r\n                    [1722118.4273444808, 5955267.246111493]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722122.9784653473, 5955261.946553886],\r\n                    [1722122.3942370876, 5955260.790997359]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722121.7710594772, 5955259.558402149],\r\n                    [1722121.6055288278, 5955259.230995833],\r\n                    [1722115.7507053544, 5955262.191087573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722127.1905355575, 5955262.863966276],\r\n                    [1722132.5831355576, 5955260.137566276]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.9798149837, 5955257.121846492],\r\n                    [1722129.8506415258, 5955254.888432178],\r\n                    [1722147.2821563147, 5955246.075376894],\r\n                    [1722148.5490336933, 5955248.581158493]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722132.440085313, 5955260.145429773],\r\n                    [1722155.9048458226, 5955306.556839516]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722157.3645080356, 5955309.443934019],\r\n                    [1722183.225318291, 5955360.594537519],\r\n                    [1722200.6542708513, 5955351.758591575],\r\n                    [1722199.753565157, 5955349.929230013]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722198.3537092782, 5955347.160432989],\r\n                    [1722149.8819030395, 5955251.287097337]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722149.8819030395, 5955251.287097337],\r\n                    [1722157.9541226493, 5955247.205930637],\r\n                    [1722176.3699033493, 5955283.6308642505],\r\n                    [1722193.5491868227, 5955274.94533251],\r\n                    [1722186.3826503032, 5955260.770499457],\r\n                    [1722191.3130268299, 5955258.277791197],\r\n                    [1722196.2594950895, 5955268.061507724],\r\n                    [1722205.8120998794, 5955263.2318853345],\r\n                    [1722168.4604198795, 5955189.353265335],\r\n                    [1722158.9078150897, 5955194.182887725],\r\n                    [1722162.8026726998, 5955201.886602934],\r\n                    [1722157.3330361731, 5955204.651951194],\r\n                    [1722157.3330361731, 5955204.651951194],\r\n                    [1722141.2322726997, 5955212.792202935],\r\n                    [1722157.16223857, 5955244.300394671]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.5398468156, 5955248.562987588],\r\n                    [1722157.1232892193, 5955244.223355988]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722190.0277233494, 5955255.7355642505],\r\n                    [1722185.405495086, 5955258.07247838],\r\n                    [1722175.3567644365, 5955238.196897064],\r\n                    [1722179.9789926999, 5955235.859982935]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722174.0333716231, 5955235.770658151],\r\n                    [1722159.5055540127, 5955207.035802942],\r\n                    [1722164.2048209596, 5955204.659939461],\r\n                    [1722178.73263857, 5955233.394794671]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.73263857, 5955233.394794671],\r\n                    [1722174.0333716231, 5955235.770658151]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722140.357013393, 5955310.382080402],\r\n                    [1722137.3386845773, 5955311.908092286],\r\n                    [1722149.897288901, 5955336.748001939],\r\n                    [1722162.2627709177, 5955330.496240233],\r\n                    [1722152.788735943, 5955311.757360757],\r\n                    [1722157.3645080356, 5955309.443934019]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722149.8477756688, 5955313.381052751],\r\n                    [1722152.8438179474, 5955311.866308534]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.9622755072, 5955257.087154819],\r\n                    [1722126.0484391632, 5955259.571500665]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722207.7633137836, 5955345.9158264045],\r\n                    [1722221.7069020541, 5955373.495122952],\r\n                    [1722239.1943337908, 5955364.653797083],\r\n                    [1722221.04429965, 5955328.754488798],\r\n                    [1722203.5568679133, 5955337.595814668],\r\n                    [1722206.3222161732, 5955343.065451194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722207.7209011305, 5955345.927597744],\r\n                    [1722199.706457837, 5955349.9795537945]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722206.2832679134, 5955342.988414668],\r\n                    [1722198.2880848302, 5955347.030633107]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722049.4669066695, 5955131.340529937],\r\n                    [1722049.1639491015, 5955130.741304225],\r\n                    [1722061.3660094535, 5955124.572165527],\r\n                    [1722075.6788024392, 5955152.881719317],\r\n                    [1722072.9488957562, 5955154.261910242],\r\n                    [1722091.4299879135, 5955190.816024668]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722093.0649668297, 5955193.858561198],\r\n                    [1722105.4895609596, 5955218.433409461],\r\n                    [1722095.9369561698, 5955223.263031851],\r\n                    [1722080.8249113904, 5955193.372622271],\r\n                    [1722078.1671296537, 5955194.7163481405],\r\n                    [1722075.5186261733, 5955189.477821194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722074.0775296537, 5955186.627448141],\r\n                    [1722068.3910335512, 5955175.380016039],\r\n                    [1722071.0488152879, 5955174.03629017],\r\n                    [1722051.0292526896, 5955134.439204904]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722051.0292526896, 5955134.439204904],\r\n                    [1722042.863314006, 5955138.567754255]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722049.4669066695, 5955131.340529937],\r\n                    [1722041.220516865, 5955135.509753904]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722075.5186261733, 5955189.477821194],\r\n                    [1722069.927088845, 5955192.304800271]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722074.0775296537, 5955186.627448141],\r\n                    [1722068.4587553814, 5955189.468197719]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722097.6015840345, 5955191.372955843],\r\n                    [1722107.1307010136, 5955210.220783096],\r\n                    [1722124.72563531, 5955201.325105896],\r\n                    [1722115.2516003351, 5955182.5862264205]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722096.2266244434, 5955188.632755751],\r\n                    [1722079.9461231441, 5955156.431233118],\r\n                    [1722097.587630091, 5955147.512009638],\r\n                    [1722113.90707965, 5955179.790568798]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722093.0649668297, 5955193.858561198],\r\n                    [1722097.6788840177, 5955191.525848996]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722096.2266244434, 5955188.632755751],\r\n                    [1722091.5080994435, 5955191.018355751],\r\n                    [1722091.4107277032, 5955190.825762278]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722123.1670161732, 5955178.591151194],\r\n                    [1722130.7035644331, 5955193.49783772],\r\n                    [1722148.229514433, 5955184.6370377205],\r\n                    [1722138.005514433, 5955164.414787721],\r\n                    [1722120.479564433, 5955173.275587721],\r\n                    [1722121.6674961732, 5955175.625221194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722115.2543441842, 5955182.591653532],\r\n                    [1722123.1670161732, 5955178.591151194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722113.90707965, 5955179.790568798],\r\n                    [1722121.84190444, 5955175.778866407]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722204.85786097, 5955261.344477491],\r\n                    [1722195.3052561802, 5955266.174099881]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722194.6203413904, 5955259.749362271],\r\n                    [1722202.13146097, 5955255.951877492]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722193.0157085734, 5955254.853634014],\r\n                    [1722199.8334951, 5955251.406685755]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722191.0691403067, 5955251.194798801],\r\n                    [1722197.9639633598, 5955247.708902282]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722188.829597917, 5955246.765164011],\r\n                    [1722195.72442097, 5955243.279267492]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722186.3771279065, 5955242.20135598],\r\n                    [1722193.3875057495, 5955238.657037071]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722184.2730444332, 5955237.848327721],\r\n                    [1722191.2063857496, 5955234.342957071]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722179.3642344433, 5955227.85211575],\r\n                    [1722181.370085093, 5955231.819527067],\r\n                    [1722188.1878716196, 5955228.372578808]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.2355861766, 5955225.811060538],\r\n                    [1722176.9892320468, 5955223.345872275]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722176.034130963, 5955221.2654388035],\r\n                    [1722175.1383144434, 5955219.49358575]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722174.125650963, 5955217.490618804],\r\n                    [1722172.918245093, 5955215.102467068]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722171.8480203066, 5955213.176968801],\r\n                    [1722170.9132544366, 5955211.328077064]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722169.9200661767, 5955209.363630538],\r\n                    [1722168.6347626965, 5955206.821403591]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722167.6610485665, 5955204.895475327],\r\n                    [1722166.8041803066, 5955203.200658801]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722165.7915179168, 5955201.197694011],\r\n                    [1722165.3630826965, 5955200.350283591],\r\n                    [1722172.2579057496, 5955196.864387072]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722163.9768455203, 5955201.147870534],\r\n                    [1722162.7442503101, 5955201.771048144]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722167.2326144367, 5955204.048067064],\r\n                    [1722174.1274374898, 5955200.562170545]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722169.5695285664, 5955208.670295327],\r\n                    [1722176.4643516196, 5955205.184398808]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722171.4390603066, 5955212.368078801],\r\n                    [1722178.3338833598, 5955208.882182281]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722173.7945885733, 5955216.8358040145],\r\n                    [1722180.6123751, 5955213.388855755]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722175.6251709631, 5955220.4565488035],\r\n                    [1722182.4429574898, 5955217.009600544]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722177.8655744365, 5955225.079207064],\r\n                    [1722184.7603974896, 5955221.593310544]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722182.6026803032, 5955231.196349458],\r\n                    [1722182.9921661732, 5955231.966721195]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722183.5954385665, 5955233.064285328],\r\n                    [1722184.4328326965, 5955234.720583591]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722187.6806144365, 5955244.492567064],\r\n                    [1722189.105800963, 5955243.772018804],\r\n                    [1722187.9178692228, 5955241.42238533]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722188.9066344434, 5955246.726215751],\r\n                    [1722189.099227917, 5955246.628844012]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722190.3083527067, 5955249.403041622],\r\n                    [1722191.5352327067, 5955251.829711622]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722189.2376968332, 5955247.381030541],\r\n                    [1722188.867685093, 5955246.649177067]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722192.5102379168, 5955254.045174011],\r\n                    [1722193.3671061767, 5955255.739990538]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722194.456805093, 5955257.704007067],\r\n                    [1722195.3136744434, 5955259.398825751]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722160.40733618, 5955197.1488198815],\r\n                    [1722169.95994097, 5955192.319197492]\r\n                ] } }\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-basemap02.js.map\n\n/***/ },\n\n/***/ 708:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_floor__ = __webpack_require__(185);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return FLOORS; });\n\r\nvar FLOORS = [\r\n    new __WEBPACK_IMPORTED_MODULE_0__base_floor__[\"a\" /* Floor */]({\r\n        \"id\": 1,\r\n        \"name\": \"OG3\",\r\n        \"building\": 1\r\n    }),\r\n    new __WEBPACK_IMPORTED_MODULE_0__base_floor__[\"a\" /* Floor */]({\r\n        \"id\": 2,\r\n        \"name\": \"EG\",\r\n        \"building\": 1\r\n    })\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-floors.js.map\n\n/***/ },\n\n/***/ 709:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return NAVIGATIONEDGES_DEMO; });\nvar NAVIGATIONEDGES_DEMO = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature', \"id\": 1,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722198.6534343925, 5955261.05092735]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 2,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722197.1605236838, 5955255.82573987]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 3,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722193.428246912, 5955247.465439901]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 4,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722191.9353362035, 5955242.389543491]\r\n                ]\r\n            }\r\n        },\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-navigationedges.js.map\n\n/***/ },\n\n/***/ 710:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ROOMS; });\nvar ROOMS = [\r\n    { id: 11, name: 'Hrsaal 1', floor: -1 },\r\n    { id: 12, name: 'Hrsaal 2', floor: -1 },\r\n    { id: 13, name: 'Hrsaal 3', floor: 0 },\r\n    { id: 14, name: 'WC', floor: 1 },\r\n    { id: 15, name: 'Besprechungsraum A1', floor: -1 },\r\n    { id: 16, name: 'Besprechungsraum A2', floor: -1 },\r\n    { id: 17, name: 'Besprechungsraum A3', floor: 5 },\r\n    { id: 18, name: 'Besprechungsraum A4', floor: -1 },\r\n    { id: 19, name: 'Besprechungsraum B1', floor: -1 },\r\n    { id: 20, name: 'Besprechungsraum B2', floor: -1 }\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-rooms.js.map\n\n/***/ },\n\n/***/ 711:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return DEMOROUTE; });\n/*export const DEMOROUTE: Object = {\r\n  'type': 'FeatureCollection',\r\n  'crs': {\r\n    'type': 'name',\r\n    'properties': {\r\n      'name': 'EPSG:3857'\r\n    }\r\n  },\r\n  'features': [\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n            [1722152.223911352,5955326.29112532],\r\n            [1722145.0579399504,5955313.899966438],\r\n            [1722166.107980943,5955304.046755761],\r\n            [1722139.0862971158,5955254.482120233],\r\n            [1722166.8544362977,5955241.643088137],\r\n            [1722173.7218255575,5955263.887457697],\r\n            [1722191.9353362035,5955256.721486296],\r\n            [1722188.053768361,5955249.256932751],\r\n            [1722193.1296647706,5955247.1668577595]\r\n    ]    }  }\r\n  ]};\r\n*/\r\nvar DEMOROUTE = [\r\n    {\r\n        'layer': 0,\r\n        'geojson': {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [\r\n                {\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': [\r\n                            [1722152.223911352, 5955326.29112532],\r\n                            [1722145.0579399504, 5955313.899966438],\r\n                            [1722166.107980943, 5955304.046755761],\r\n                            [1722139.0862971158, 5955254.482120233]\r\n                        ] } }\r\n            ] }\r\n    },\r\n    {\r\n        'layer': 1,\r\n        'geojson': {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [\r\n                {\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': [\r\n                            [1722139.0862971158, 5955254.482120233],\r\n                            [1722166.8544362977, 5955241.643088137],\r\n                            [1722173.7218255575, 5955263.887457697],\r\n                            [1722191.9353362035, 5955256.721486296],\r\n                            [1722188.053768361, 5955249.256932751],\r\n                            [1722193.1296647706, 5955247.1668577595]\r\n                        ] } }\r\n            ] }\r\n    }\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/mock-route.js.map\n\n/***/ },\n\n/***/ 712:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__ = __webpack_require__(75);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ModeselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\nvar ModeselectorComponent = (function () {\r\n    function ModeselectorComponent() {\r\n        this.modes = __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"c\" /* ApplicationModes */];\r\n        this.currentAppMode = __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.currentAppModeEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n    }\r\n    ModeselectorComponent.prototype.ngOnInit = function () {\r\n    };\r\n    ModeselectorComponent.prototype.modechanged = function (mode) {\r\n        console.log(\"ModeselectorComponent Mode changed: \" + mode.name);\r\n        this.currentAppMode = mode;\r\n        this.currentAppModeEvt.emit(this.currentAppMode);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], ModeselectorComponent.prototype, \"currentAppModeEvt\", void 0);\r\n    ModeselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-modeselector',\r\n            template: __webpack_require__(899),\r\n            styles: [__webpack_require__(886)]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], ModeselectorComponent);\r\n    return ModeselectorComponent;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/modeselector.component.js.map\n\n/***/ },\n\n/***/ 713:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return PoiselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nvar PoiselectorComponent = (function () {\r\n    function PoiselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.pois = null;\r\n        this.showControl = false;\r\n        this.selectedPoiType = null;\r\n        this.currentSelectedPoiEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n        this.poiTypeReceivedEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\r\n    }\r\n    PoiselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.updateData();\r\n    };\r\n    PoiselectorComponent.prototype.updateData = function () {\r\n        var _this = this;\r\n        this.mapService.getPoiTypes().subscribe(function (poiTypes) { return _this.updatePois(poiTypes); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    PoiselectorComponent.prototype.onSelect = function (poi) {\r\n        this.selectPoi(poi);\r\n    };\r\n    PoiselectorComponent.prototype.updatePois = function (poilist) {\r\n        this.pois = poilist;\r\n        if (this.pois.length > 0) {\r\n            this.showControl = true;\r\n            this.selectPoi(this.pois[0]);\r\n        }\r\n        this.poiTypeReceivedEvt.emit(this.pois);\r\n    };\r\n    PoiselectorComponent.prototype.selectPoi = function (poi) {\r\n        this.selectedPoiType = poi;\r\n        this.currentSelectedPoiEvt.emit(this.selectedPoiType);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], PoiselectorComponent.prototype, \"currentSelectedPoiEvt\", void 0);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \r\n        __metadata('design:type', Object)\r\n    ], PoiselectorComponent.prototype, \"poiTypeReceivedEvt\", void 0);\r\n    PoiselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-poiselector',\r\n            template: __webpack_require__(900),\r\n            styles: [__webpack_require__(887)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], PoiselectorComponent);\r\n    return PoiselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/poiselector.component.js.map\n\n/***/ },\n\n/***/ 714:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomsearchComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar RoomsearchComponent = (function () {\r\n    function RoomsearchComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.searchTerms = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\r\n        this.currentSearchTerm = \"\";\r\n    }\r\n    RoomsearchComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.rooms = this.searchTerms\r\n            .debounceTime(300) // wait for 300ms pause in events\r\n            .distinctUntilChanged() // ignore if next search term is same as previous\r\n            .switchMap(function (term) { return term // switch to new observable each time\r\n            ? _this.mapService.searchRoom(term)\r\n            : __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__[\"Observable\"].of([]); })\r\n            .catch(function (error) {\r\n            // TODO: real error handling\r\n            console.log(error);\r\n            return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__[\"Observable\"].of([]);\r\n        });\r\n    };\r\n    RoomsearchComponent.prototype.search = function (term) {\r\n        this.searchTerms.next(term);\r\n    };\r\n    RoomsearchComponent.prototype.selectRoom = function (room) {\r\n        console.log('Select Room: ' + room.id + '#' + room.name);\r\n        this.currentSearchTerm = \"\";\r\n        this.searchTerms.next(this.currentSearchTerm);\r\n    };\r\n    RoomsearchComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-roomsearch',\r\n            template: __webpack_require__(901),\r\n            styles: [__webpack_require__(888)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], RoomsearchComponent);\r\n    return RoomsearchComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/roomsearch.component.js.map\n\n/***/ },\n\n/***/ 715:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomsearchmdComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar RoomsearchmdComponent = (function () {\r\n    function RoomsearchmdComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.showsuggestions = false;\r\n        this.searchTerms = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\r\n        this.currentSearchTerm = \"\";\r\n        this.term = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n    }\r\n    RoomsearchmdComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.term.valueChanges\r\n            .debounceTime(400)\r\n            .distinctUntilChanged()\r\n            .flatMap(function (term) { return _this.mapService.searchRoom(term); })\r\n            .subscribe(function (items) { return _this.searchResults(items); });\r\n    };\r\n    RoomsearchmdComponent.prototype.searchResults = function (items) {\r\n        console.log('searchResults: ');\r\n        this.rooms = items;\r\n        this.showsuggestions = this.rooms.length > 0;\r\n        console.log('Showsuggestions: ' + this.showsuggestions);\r\n    };\r\n    RoomsearchmdComponent.prototype.log = function (logstring) {\r\n        console.log('log: ' + logstring);\r\n    };\r\n    RoomsearchmdComponent.prototype.selectRoom = function (room) {\r\n        console.log('Select Room: ' + room.id + '#' + room.name);\r\n        this.currentSearchTerm = \"\";\r\n        this.searchTerms.next(this.currentSearchTerm);\r\n    };\r\n    RoomsearchmdComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-roomsearchmd',\r\n            template: __webpack_require__(902),\r\n            styles: [__webpack_require__(889)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], RoomsearchmdComponent);\r\n    return RoomsearchmdComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/roomsearchmd.component.js.map\n\n/***/ },\n\n/***/ 716:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__ = __webpack_require__(451);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoutetestComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar RoutetestComponent = (function () {\r\n    function RoutetestComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.routeVisible = false;\r\n    }\r\n    RoutetestComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n    };\r\n    RoutetestComponent.prototype.toogleroute = function () {\r\n        var _this = this;\r\n        console.log('Toogle Route');\r\n        if (this.routeVisible) {\r\n            this.mapComponentRef.hideRoute();\r\n            this.routeVisible = false;\r\n        }\r\n        else {\r\n            //this.mapService.getRoute().then(route => this.showRoute(route));\r\n            this.mapService.addEdge(14, 16, 1.123, {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722198.6534343925, 5955261.05092735]\r\n                ]\r\n            }).\r\n                subscribe(function (edge) { return _this.edgeAdded(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    RoutetestComponent.prototype.edgeAdded = function (edge) {\r\n        var _this = this;\r\n        console.log(\"edgeAdded... \" + JSON.stringify(edge));\r\n        edge.properties.destination = 19;\r\n        this.mapService.updateEdge(edge, edge.id).\r\n            subscribe(function (edge) { return _this.edgeUpdated(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    RoutetestComponent.prototype.edgeDeleted = function (edge) {\r\n        console.log(\"edgeDeleted... \" + JSON.stringify(edge));\r\n    };\r\n    RoutetestComponent.prototype.edgeUpdated = function (edge) {\r\n        console.log(\"edgeUpdated... \" + JSON.stringify(edge));\r\n    };\r\n    RoutetestComponent.prototype.showRoute = function (route) {\r\n        this.mapComponentRef.showRoute(route);\r\n        this.routeVisible = true;\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__[\"a\" /* TestmapComponent */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__[\"a\" /* TestmapComponent */]) === 'function' && _a) || Object)\r\n    ], RoutetestComponent.prototype, \"mapComponentRef\", void 0);\r\n    RoutetestComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\r\n            selector: 'app-routetest',\r\n            template: __webpack_require__(903),\r\n            styles: [__webpack_require__(890)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _c) || Object])\r\n    ], RoutetestComponent);\r\n    return RoutetestComponent;\r\n    var _a, _b, _c;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/routetest.component.js.map\n\n/***/ },\n\n/***/ 717:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(28);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return NavigationMap; });\n\r\nvar NavigationMap = (function () {\r\n    function NavigationMap(mapService) {\r\n        this.mapService = mapService;\r\n        this.isActive = false;\r\n    }\r\n    NavigationMap.prototype.Initialize = function (select) {\r\n        this.select = select;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        this.edgeLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        this.edgePathLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'green',\r\n                    width: 1\r\n                })\r\n            });\r\n        };\r\n        var styleFunctionPath = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'green',\r\n                    lineDash: [5],\r\n                    width: 3\r\n                })\r\n            });\r\n        };\r\n        this.edgeLayer = new ol.layer.Vector({\r\n            source: this.edgeLayerSource,\r\n            style: styleFunction\r\n        });\r\n        this.edgePathLayer = new ol.layer.Vector({\r\n            source: this.edgePathLayerSource,\r\n            style: styleFunctionPath,\r\n            zIndex: 10\r\n        });\r\n        this.edgePathLayer.set('isSelectable', true);\r\n    };\r\n    NavigationMap.prototype.getEdgeLayer = function () {\r\n        return this.edgeLayer;\r\n    };\r\n    NavigationMap.prototype.getEdgePathLayer = function () {\r\n        return this.edgePathLayer;\r\n    };\r\n    NavigationMap.prototype.addEdge = function (source, destination, length, path) {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont add edge!\");\r\n            return;\r\n        }\r\n        this.mapService.addEdge(source, destination, length, path).\r\n            subscribe(function (edge) { return _this.updateAddEdge(edge); } /*,\r\n        error => console.log(\"ERROR: \" + <any>error)*/);\r\n    };\r\n    NavigationMap.prototype.deleteSelectedEdge = function () {\r\n        var _this = this;\r\n        //console.log(\"deleteSelectedEdges...\" + this.select.getFeatures().getArray().length);\r\n        for (var _i = 0, _a = this.select.getFeatures().getArray(); _i < _a.length; _i++) {\r\n            var feature = _a[_i];\r\n            //console.log(\"deleteSelectedEdge: \" + JSON.stringify(feature.getId()));\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n                console.log(\"Offline mode, dont delete edge!\");\r\n                return;\r\n            }\r\n            this.mapService.deleteEdge(feature.getId()).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteEdge: \" + error); });\r\n        }\r\n    };\r\n    NavigationMap.prototype.edgeDeleted = function (edge) {\r\n        console.log(\"edgeDeleted...\" + JSON.stringify(edge));\r\n        var feature = this.edgeLayerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.edgeLayerSource.removeFeature(feature);\r\n        }\r\n        feature = this.edgePathLayerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.edgePathLayerSource.removeFeature(feature);\r\n        }\r\n    };\r\n    NavigationMap.prototype.updateEdges = function (featureArray) {\r\n        var _this = this;\r\n        console.log(\"updateEdges... \");\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"b\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont update edge!\");\r\n            return;\r\n        }\r\n        for (var _i = 0, featureArray_1 = featureArray; _i < featureArray_1.length; _i++) {\r\n            var feature = featureArray_1[_i];\r\n            console.log(\"updateEdge: \" + JSON.stringify(feature.getId()));\r\n            this.mapService.updateEdge((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n                subscribe(function (edge) { return _this.edgeUpdated(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    NavigationMap.prototype.edgeUpdated = function (edge) {\r\n        console.log(\"edgeUpdated... \" + JSON.stringify(edge));\r\n    };\r\n    NavigationMap.prototype.showEdges = function (edges) {\r\n        console.log(\"showRoute called\");\r\n        this.edgeLayerSource.clear();\r\n        this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n        this.edgePathLayerSource.clear();\r\n        this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n    };\r\n    NavigationMap.prototype.updateAddEdge = function (edge) {\r\n        console.log(\"updateAddEdge! - \" + JSON.stringify(edge));\r\n        this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n        this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n    };\r\n    return NavigationMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/navigationedges.js.map\n\n/***/ },\n\n/***/ 718:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomMap; });\nvar RoomMap = (function () {\r\n    function RoomMap() {\r\n        this.isActive = false;\r\n        this.featureOverlay = null;\r\n        this.selectedRoomOverlay = null;\r\n        this.selectedRoom = null;\r\n        this.navigationMap = null;\r\n    }\r\n    RoomMap.prototype.Initialize = function (navigationMap) {\r\n        this.navigationMap = navigationMap;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        console.log('Create Room LAYER SOURCE!!!');\r\n        this.roomLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(128,0,255,0.5)'\r\n                })\r\n            });\r\n        };\r\n        this.roomLayer = new ol.layer.Vector({\r\n            source: this.roomLayerSource,\r\n            style: styleFunction\r\n        });\r\n    };\r\n    RoomMap.prototype.getRoomLayer = function () {\r\n        return this.roomLayer;\r\n    };\r\n    RoomMap.prototype.showRooms = function (rooms) {\r\n        //console.log(\"showRoom called\");\r\n        //console.log(\"Show Room!\" + JSON.stringify(rooms));\r\n        this.roomLayerSource.clear();\r\n        this.roomLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(rooms));\r\n    };\r\n    RoomMap.prototype.mouseMoved = function (position, map) {\r\n        if (this.featureOverlay === null) {\r\n            this.initFeatureOverlay(map);\r\n        }\r\n        var feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n            return feature;\r\n        });\r\n        if (feature !== this.highlight) {\r\n            if (this.highlight) {\r\n                this.featureOverlay.getSource().removeFeature(this.highlight);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.featureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlight = feature;\r\n        }\r\n    };\r\n    RoomMap.prototype.mouseClicked = function (position, map) {\r\n        if (this.highlight != null) {\r\n            //console.log('Select Room: ' + this.highlight.getId() + \"::\" + this.highlight.get('floor'));\r\n            if (this.selectedRoomOverlay == null) {\r\n                this.initSelectedRoomOverlay(map);\r\n            }\r\n            this.selectedRoom = this.highlight;\r\n            this.selectedRoomOverlay.getSource().clear();\r\n            this.selectedRoomOverlay.getSource().addFeature(this.highlight);\r\n        }\r\n    };\r\n    RoomMap.prototype.mouseClickedCtrl = function (position, map) {\r\n        if (this.selectedRoom != null && this.highlight != null) {\r\n            console.log('Add Edge: ' + this.selectedRoom.getId() + \"/\" + this.highlight.getId());\r\n            this.addEdge(this.selectedRoom, this.highlight);\r\n        }\r\n    };\r\n    RoomMap.prototype.addEdge = function (source, destination) {\r\n        var sourceId = source.getId();\r\n        var destinationId = destination.getId();\r\n        if (sourceId == destinationId) {\r\n            return;\r\n        }\r\n        var p1 = source.getGeometry().getInteriorPoint().B;\r\n        var p2 = destination.getGeometry().getInteriorPoint().B;\r\n        var line = new ol.geom.LineString([p1, p2]);\r\n        var distance = line.getLength();\r\n        console.log(\"RoomMap::addEdge \" + sourceId + \"/\" + destinationId + \"#\" + JSON.stringify(p1) + \"/ \" + JSON.stringify(p2) + \"--\" + distance);\r\n        var path = {\r\n            'type': 'LineString',\r\n            'coordinates': [\r\n                p1,\r\n                p2\r\n            ]\r\n        };\r\n        this.navigationMap.addEdge(sourceId, destinationId, distance, path);\r\n    };\r\n    RoomMap.prototype.Clear = function () {\r\n        if (this.selectedRoomOverlay) {\r\n            this.selectedRoomOverlay.getSource().clear();\r\n        }\r\n        if (this.featureOverlay) {\r\n            this.featureOverlay.getSource().clear();\r\n        }\r\n        this.selectedRoom = null;\r\n        this.highlight = null;\r\n    };\r\n    RoomMap.prototype.initFeatureOverlay = function (map) {\r\n        //console.log(\"Create Room Featureoverlay\");\r\n        this.featureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: '#f00',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(255,0,0,0.8)'\r\n                })\r\n            })\r\n        });\r\n    };\r\n    RoomMap.prototype.initSelectedRoomOverlay = function (map) {\r\n        //console.log(\"Create SelectedRoom Featureoverlay\");\r\n        this.selectedRoomOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: '#f00',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(0,128,255,0.8)'\r\n                })\r\n            })\r\n        });\r\n    };\r\n    return RoomMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/roommap.js.map\n\n/***/ },\n\n/***/ 719:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RouteMap; });\nvar RouteMap = (function () {\r\n    function RouteMap() {\r\n        this.isActive = false;\r\n    }\r\n    RouteMap.prototype.Initialize = function () {\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        console.log('Create Route LAYER SOURCE!!!');\r\n        this.routeLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        this.routeLayerSourceHidden = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'blue',\r\n                    lineDash: [5],\r\n                    width: 2\r\n                })\r\n            });\r\n        };\r\n        var styleFunctionHidden = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'blue',\r\n                    width: 2\r\n                })\r\n            });\r\n        };\r\n        this.routeLayer = new ol.layer.Vector({\r\n            source: this.routeLayerSource,\r\n            style: styleFunction\r\n        });\r\n        this.routeLayerHidden = new ol.layer.Vector({\r\n            source: this.routeLayerSourceHidden,\r\n            style: styleFunctionHidden\r\n        });\r\n    };\r\n    RouteMap.prototype.getRouteLayer = function () {\r\n        return this.routeLayer;\r\n    };\r\n    RouteMap.prototype.getHiddenRouteLayer = function () {\r\n        return this.routeLayerHidden;\r\n    };\r\n    RouteMap.prototype.showRoute = function (route) {\r\n        console.log(\"showRoute called\");\r\n        this.routeLayerSource.clear();\r\n        this.routeLayerSourceHidden.clear();\r\n        for (var i = 0; i < route.length; i++) {\r\n            if (route[i][\"layer\"] == 0) {\r\n                this.routeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n            }\r\n            else {\r\n                this.routeLayerSourceHidden.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n            }\r\n        }\r\n    };\r\n    RouteMap.prototype.hideRoute = function () {\r\n        console.log(\"hideRoute called\");\r\n        this.routeLayerSource.clear();\r\n        this.routeLayerSourceHidden.clear();\r\n    };\r\n    return RouteMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/routemap.js.map\n\n/***/ },\n\n/***/ 720:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return environment; });\nvar environment = {\r\n    production: true\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/environment.prod.js.map\n\n/***/ },\n\n/***/ 721:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__ = __webpack_require__(737);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__ = __webpack_require__(730);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__ = __webpack_require__(726);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__ = __webpack_require__(732);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__ = __webpack_require__(731);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__ = __webpack_require__(729);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__ = __webpack_require__(728);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__ = __webpack_require__(736);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__ = __webpack_require__(725);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__ = __webpack_require__(724);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__ = __webpack_require__(734);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__ = __webpack_require__(727);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__ = __webpack_require__(735);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__ = __webpack_require__(733);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__ = __webpack_require__(738);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__ = __webpack_require__(1166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/polyfills.js.map\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return ApplicationModeT; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ApplicationMode; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"c\", function() { return ApplicationModes; });\nvar ApplicationModeT;\r\n(function (ApplicationModeT) {\r\n    ApplicationModeT[ApplicationModeT[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_NODES\"] = 1] = \"EDIT_NODES\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_POIS\"] = 2] = \"EDIT_POIS\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_BACKGROUND\"] = 3] = \"EDIT_BACKGROUND\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_BEACONS\"] = 4] = \"EDIT_BEACONS\";\r\n})(ApplicationModeT || (ApplicationModeT = {}));\r\nvar ApplicationMode = (function () {\r\n    function ApplicationMode(mode, name) {\r\n        this.mode = mode;\r\n        this.name = name;\r\n    }\r\n    ApplicationMode.CreateDefault = function () {\r\n        //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n        return new ApplicationMode(ApplicationModeT.EDIT_NODES, \"Navigationsmesh\");\r\n    };\r\n    return ApplicationMode;\r\n}());\r\nvar ApplicationModes = [\r\n    ApplicationMode.CreateDefault(),\r\n    new ApplicationMode(ApplicationModeT.EDIT_POIS, \"Points of Interest\"),\r\n    new ApplicationMode(ApplicationModeT.EDIT_BEACONS, \"Beacons\") //,\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/MedUniGraz-API/medunimaps/src/applicationmode.js.map\n\n/***/ },\n\n/***/ 880:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\r\\n\\r\\n.app-toolbar-filler{\\r\\n  -webkit-box-flex:1;\\r\\n      -ms-flex:1 1 auto;\\r\\n          flex:1 1 auto;\\r\\n  height:3em;\\r\\n}\\r\\n\\r\\n.header-toolbar{\\r\\n  position:absolute;\\r\\n  top:0em;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  background-color:#51ae32;\\r\\n  color:#ffffff;\\r\\n  height:3em;\\r\\n  margin:0;\\r\\n  z-index:1;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 881:\n/***/ function(module, exports) {\n\nmodule.exports = \".positionindicator{\\r\\n  position:fixed;\\r\\n  bottom:3.5em;\\r\\n  right:0.5em;\\r\\n}\\r\\n\\r\\n.positionbutton{\\r\\n  background-color:white;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 882:\n/***/ function(module, exports) {\n\nmodule.exports = \".dialogDiv{\\r\\n  position:relative;\\r\\n  width:12em;\\r\\n}\\r\\n\\r\\n.closeDialogButton{\\r\\n  position:absolute;\\r\\n  top:-42px;\\r\\n  right:-22px;\\r\\n  padding:0 0;\\r\\n  min-width:3em;\\r\\n  color:#51AE32;\\r\\n}\\r\\n\\r\\n.NavigateButton{\\r\\n  padding:0 0;\\r\\n  min-width:5em;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.idInput{\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.nameInput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.batteryOutput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.controlButtonTable{\\r\\n  padding:0px;\\r\\n  margin:0px;\\r\\n  border:0px;\\r\\n  border-spacing:0;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.ScanButton{\\r\\n  padding:0 0;\\r\\n  width:100%;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.ControlButtonSpacer{\\r\\n  min-width:3em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.navigateDiv{\\r\\n  padding-top:1em;\\r\\n  padding-bottom:1em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 883:\n/***/ function(module, exports) {\n\nmodule.exports = \".modecontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.modecontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  padding-left:0.5em;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.modecontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 884:\n/***/ function(module, exports) {\n\nmodule.exports = \".map{\\r\\n  position:absolute; //top:3.5em;\\r\\n  top:0;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:#ffffff;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  padding:0.2em;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n  min-width:4em;\\r\\n  max-width:8em;\\r\\n  padding-right:0.2em;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after, .beacon-ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 885:\n/***/ function(module, exports) {\n\nmodule.exports = \".floorselector{\\r\\n  position:absolute;\\r\\n  bottom:1.0em;\\r\\n  left:1.0em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n}\\r\\n\\r\\n.floormenutext{\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenuIcon{\\r\\n  color:#51AE32;\\r\\n  margin-right:0.2em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 886:\n/***/ function(module, exports) {\n\nmodule.exports = \".modeselector{\\r\\n  position:absolute;\\r\\n  top:1.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.modeselectormenu{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 887:\n/***/ function(module, exports) {\n\nmodule.exports = \".poicontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.poicontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.poicontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\\r\\n.poicontrolmenuIcon{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  margin-right:0.2em;\\r\\n  float:left;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 888:\n/***/ function(module, exports) {\n\nmodule.exports = \".roomsearch{\\r\\n  position:absolute;\\r\\n  top:0.7em;\\r\\n  left:4.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.search-result{\\r\\n  border-bottom:1px solid gray;\\r\\n  border-left:1px solid gray;\\r\\n  border-right:1px solid gray;\\r\\n  width:195px;\\r\\n  height:20px;\\r\\n  padding:5px;\\r\\n  background-color:white;\\r\\n  cursor:pointer;\\r\\n}\\r\\n#search-box{\\r\\n  width:200px;\\r\\n  height:20px;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 889:\n/***/ function(module, exports) {\n\nmodule.exports = \".placeholder-white{\\r\\n  color:#ffffff;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 890:\n/***/ function(module, exports) {\n\nmodule.exports = \".routetest{\\r\\n  position:absolute;\\r\\n  top:8.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.routetestbutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 891:\n/***/ function(module, exports) {\n\nmodule.exports = \".map{\\r\\n  position:absolute;\\r\\n  top:3.5em;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:white;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\r\\n  padding:15px;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n}\\r\\n.ol-popup:after, .ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n.ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n.ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n.ol-popup-closer{\\r\\n  text-decoration:none;\\r\\n  position:absolute;\\r\\n  top:2px;\\r\\n  right:8px;\\r\\n}\\r\\n.ol-popup-closer:after{\\r\\n  content:\\\"\\\";\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 893:\n/***/ function(module, exports) {\n\nmodule.exports = \"<!--<app-testmap #mapComp [applicationMode]=\\\"currentAppMode\\\"></app-testmap>\\r\\n<app-routetest [mapComponentRef] = mapComp *ngIf=\\\"currentAppMode && currentAppMode.showDemoRoute\\\"></app-routetest>\\r\\n-->\\r\\n\\r\\n\\r\\n<app-editablemap #mapComp\\r\\n  [applicationMode]=\\\"currentAppMode\\\"\\r\\n  [currentFloor]=\\\"currentFloor\\\"\\r\\n  [poiTypes]=\\\"poiTypes\\\"\\r\\n  [currentPoiType]=\\\"currentPoiType\\\"\\r\\n  [beaconEditMode]=\\\"beaconEditMode\\\"\\r\\n  [setBeaconSignals]=\\\"beaconSignals\\\">\\r\\n</app-editablemap>\\r\\n<app-floorselector (currentFloorEvt)=\\\"floorChanged($event)\\\"></app-floorselector>\\r\\n<app-modeselector (currentAppModeEvt)=\\\"appModeChanged($event)\\\"></app-modeselector>\\r\\n<app-poiselector (currentSelectedPoiEvt)=\\\"currentPoiTypeChanged($event)\\\"\\r\\n                  (poiTypeReceivedEvt)=\\\"PoiTypesReceived($event)\\\"\\r\\n                  *ngIf=\\\"showPoiSelector\\\"></app-poiselector>\\r\\n<app-beaconmodeselector (currentSelectedModeEvt)=\\\"beaconEditModeChanged($event)\\\"\\r\\n                  *ngIf=\\\"showBeaconEditModeSelector\\\"></app-beaconmodeselector>\\r\\n<app-beaconconnector (updateSignalsEvent)=\\\"beaconSignalsChanged($event)\\\">\\r\\n  </app-beaconconnector>\\r\\n<!--\\r\\n<md-toolbar class = \\\"header-toolbar\\\">\\r\\n  <span>Medcampus</span>\\r\\n\\r\\n  <span class=\\\"app-toolbar-filler\\\"></span>\\r\\n\\r\\n  <app-roomsearchmd></app-roomsearchmd>\\r\\n\\r\\n</md-toolbar>\\r\\n-->\\r\\n<!--\\r\\n<md-toolbar>\\r\\n  TestToolbar\\r\\n</md-toolbar>\\r\\n\\r\\n\\r\\n\\r\\n<md-card>\\r\\n  <p>Last dialog result: {{lastDialogResult}}</p>\\r\\n  <button md-icon-button (click)=\\\"openDialog()\\\">\\r\\n     <md-icon>navigation</md-icon>\\r\\n  </button>\\r\\n</md-card>\\r\\n-->\\r\\n\"\n\n/***/ },\n\n/***/ 894:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"positionindicator\\\" *ngIf=\\\"isActive\\\" >\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 0\\\" ><md-icon>location_disabled</md-icon></button>\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 1\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>location_searching</md-icon></button>\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 2\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>gps_fixed</md-icon></button>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 895:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"dialogDiv\\\">\\r\\n  <input type=\\\"hidden\\\" tabindex=\\\"0\\\" autofocus/>\\r\\n\\r\\n  <div>\\r\\n    <h2>\\r\\n      Beacon\\r\\n    </h2>\\r\\n    <input class=\\\"idInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Id...\\\" mdInput [formControl]=\\\"macInputVal\\\" readonly>\\r\\n\\r\\n    <input class=\\\"nameInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Name...\\\" mdInput [formControl]=\\\"nameInputVal\\\">\\r\\n\\r\\n    <input class=\\\"batteryOutput\\\" autocomplete=\\\"off\\\" placeholder=\\\"battery...\\\" mdInput [formControl]=\\\"batteryOutputVal\\\" readonly>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class='navigateDiv'>\\r\\n    <button class='ScanButton' (click)=\\\"scan()\\\" md-button>\\r\\n      <span>Scan...</span>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <table class=\\\"controlButtonTable\\\">\\r\\n    <tr>\\r\\n      <td>\\r\\n        <button class='NavigateButton' (click)=\\\"closeDialog()\\\" md-button>\\r\\n          <span>Cancel</span>\\r\\n        </button>\\r\\n      </td>\\r\\n      <td >\\r\\n        <div class='ControlButtonSpacer'>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td>\\r\\n        <button class='NavigateButton' (click)=\\\"save()\\\" [disabled]=\\\"okButtonDisabled\\\" md-button>\\r\\n          <span>Ok</span>\\r\\n        </button>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n\\r\\n  <button class='closeDialogButton' (click)=\\\"closeDialog()\\\" md-button>\\r\\n    <md-icon>close</md-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 896:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"modecontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"modecontrolmenubutton\\\">\\r\\n     <span class=\\\"modecontrolmenutext\\\">{{selectedMode.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let mode of modes\\\" (click)=\\\"onSelect(mode)\\\" class=\\\"modecontrolmenubutton\\\">\\r\\n      <span class=\\\"modecontrolmenutext\\\">{{mode.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 897:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div id=\\\"map\\\" class=\\\"map\\\">\\r\\n\\r\\n  <div #beaconPopups>\\r\\n    <div *ngFor=\\\"let overlay of beaconOverlays\\\">\\r\\n      <div  class=\\\"beacon-ol-popup\\\">\\r\\n        <div class=\\\"beacon-popup-content\\\"><span class=\\\"beacon-popup-content-span\\\"></span></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<!--\\r\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">-->\\r\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\r\\n<!--    <div id=\\\"popup-content\\\">Hi!..........</div>\\r\\n</div> -->\\r\\n\"\n\n/***/ },\n\n/***/ 898:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"floorselector\\\" *ngIf=\\\"selectedFloor\\\">\\r\\n\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menufloors\\\" class=\\\"floormenu\\\">\\r\\n     <md-icon class=\\\"floormenuIcon\\\">layers</md-icon><span>{{selectedFloor.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menufloors=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let floor of floorList\\\" (click)=\\\"onSelect(floor)\\\" class=\\\"floormenutext\\\">{{floor.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 899:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"modeselector\\\">\\r\\n  <!--\\r\\n  <md-button-toggle-group #group=\\\"mdButtonToggleGroup\\\" (change)=\\\"modechanged()\\\">\\r\\n    <table>\\r\\n      <tr *ngFor=\\\"let mode of modes\\\">\\r\\n        <td>\\r\\n          <md-button-toggle (change)=\\\"modechanged(mode)\\\">\\r\\n            {{mode.name}}\\r\\n          </md-button-toggle>\\r\\n        </td>\\r\\n      </tr>\\r\\n  </table>\\r\\n</md-button-toggle-group>\\r\\n-->\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuApplicationmodes\\\" class=\\\"modemenu\\\">\\r\\n     <md-icon>more_vert</md-icon><span>{{currentAppMode.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuApplicationmodes=\\\"mdMenu\\\">\\r\\n       <button md-menu-item  *ngFor=\\\"let mode of modes\\\" (click)=\\\"modechanged(mode)\\\">{{mode.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 900:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"poicontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n     <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{selectedPoiType.iconurl}}\\\" alt=\\\"{{selectedPoiType.name}}\\\"><span class=\\\"poicontrolmenutext\\\">{{selectedPoiType.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let poi of pois\\\" (click)=\\\"onSelect(poi)\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n      <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{poi.iconurl}}\\\" alt=\\\"{{poi.name}}\\\">\\r\\n      <span class=\\\"poicontrolmenutext\\\">{{poi.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 901:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\r\\n<div class=\\\"roomsearch\\\">\\r\\n  <input #searchBox id=\\\"search-box\\\" (keyup)=\\\"search(searchBox.value)\\\"\\r\\n    placeholder=\\\"Suche Raum...\\\" [(ngModel)] = \\\"currentSearchTerm\\\" />\\r\\n  <div>\\r\\n    <div *ngFor=\\\"let room of rooms | async\\\"\\r\\n         (click)=\\\"selectRoom(room)\\\" class=\\\"search-result\\\" >\\r\\n      {{room.name}}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 902:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\r\\n<table>\\r\\n  <tr>\\r\\n    <td>\\r\\n      <i class=\\\"material-icons app-input-icon\\\">search</i>\\r\\n    </td>\\r\\n    <td>\\r\\n      <md-input-container>\\r\\n        <input type=\\\"text\\\" mdInput [formControl]=\\\"term\\\" [mdAutocomplete]=\\\"auto\\\">\\r\\n      </md-input-container>\\r\\n    </td>\\r\\n  </tr>\\r\\n</table>\\r\\n\\r\\n<md-autocomplete #auto=\\\"mdAutocomplete\\\">\\r\\n   <md-option *ngFor=\\\"let room of rooms\\\" [value]=\\\"room.name\\\" (click)=\\\"selectRoom(room)\\\">\\r\\n      {{ room.name }}\\r\\n   </md-option>\\r\\n</md-autocomplete>\\r\\n\\r\\n\\r\\n<!--\\r\\n<i class=\\\"material-icons app-input-icon\\\">search</i>\\r\\n\\r\\n<md-input-container>\\r\\n  <input mdInput #searchBox  placeholder=\\\"Raumsuche\\\" class=\\\"placeholder-white\\\" floatingPlaceholder=true [formControl]=\\\"term\\\">\\r\\n</md-input-container>\\r\\n\\r\\n<div [hidden]=\\\"!showsuggestions\\\">\\r\\n  <div [hidden]=\\\"true\\\">\\r\\n    <button md-raised-button [mdMenuTriggerFor]=\\\"menusearch\\\" class=\\\"floormenu\\\">\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <md-menu #menusearch=\\\"mdMenu\\\" [hidden]=\\\"!showsuggestions\\\">\\r\\n       <button md-menu-item *ngFor=\\\"let room of rooms\\\" (click)=\\\"selectRoom(room)\\\">{{room.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n-->\\r\\n\\r\\n\\r\\n<!--\\r\\n<div class=\\\"suggestions\\\" *ngIf=\\\"rooms.length > 0\\\">\\r\\n    <ul>\\r\\n        <li *ngFor=\\\"let room of rooms\\\">\\r\\n            <a (click)=\\\"selectRoom(room)\\\">{{room.name}}</a>\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n-->\\r\\n\"\n\n/***/ },\n\n/***/ 903:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"routetest\\\">\\r\\n  <button md-raised-button (click)=\\\"toogleroute()\\\" class=\\\"routetestbutton\\\">\\r\\n     <md-icon>directions</md-icon><span></span>\\r\\n  </button>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 904:\n/***/ function(module, exports) {\n\nmodule.exports = \"<!--<p>\\r\\n  testmap works!\\r\\n</p>-->\\r\\n<div id=\\\"map\\\" class=\\\"map\\\">\\r\\n</div>\\r\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">\\r\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\r\\n    <div id=\\\"popup-content\\\">Hi!..........</div>\\r\\n</div>\\r\\n\"\n\n/***/ }\n\n},[1167]);\n\n\n// WEBPACK FOOTER //\n// main.75056624623eb2330bc0.bundle.js","\r\nexport class Floor {\r\n  id: number;\r\n  name: string;\r\n  building: number;\r\n\r\n  constructor(obj: any) {\r\n    //console.log(\"Create new floor: \" + JSON.stringify(obj));\r\n    this.id = obj[\"id\"];\r\n    this.name = obj[\"name\"];\r\n    this.building = obj[\"building\"];\r\n  }\r\n\r\n  public static getDefaultFloor(): Floor {\r\n    return new Floor({\r\n      \"id\": -1,\r\n      \"name\": \"EG\",\r\n      \"building\": 1\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/floor.ts","export enum BeaconEditModeT {\r\n  DEFAULT,\r\n  ADD,\r\n  MOVE\r\n}\r\n\r\nexport class BeaconEditMode {\r\n\r\n  constructor(\r\n    public mode: BeaconEditModeT,\r\n    public name: string\r\n  )\r\n  { }\r\n\r\n  static CreateDefault(): BeaconEditMode {\r\n    //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n    return new BeaconEditMode(BeaconEditModeT.DEFAULT, \"Select\");\r\n  }\r\n\r\n}\r\n\r\nexport const BeaconEditModes = [\r\n  BeaconEditMode.CreateDefault(),\r\n  new BeaconEditMode(BeaconEditModeT.ADD, \"Add\"),\r\n  new BeaconEditMode(BeaconEditModeT.MOVE, \"Move\")//,\r\n  //new ApplicationMode(ApplicationModeT.EDIT_BACKGROUND, \"Hintergrund\")\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/beaconeditmode.ts","export const USEHTTPSERVICE = true;\r\n\r\nexport const MODIFY_EDGE_MINSTARTPOINT_DISTANCE = 1.0;\r\n\r\nexport const API_BASE_URL = 'https://api.medunigraz.at';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/globalconstants.ts","import {API_BASE_URL} from '../base/globalconstants';\r\n\r\nexport class PoiType {\r\n  id: number;\r\n  name: string;\r\n  selected: boolean;\r\n  iconurl: string;\r\n\r\n  constructor(obj: any) {\r\n    this.id = obj[\"id\"];\r\n    this.name = obj[\"name\"];\r\n    this.selected = obj[\"selected\"];\r\n    this.iconurl = API_BASE_URL + obj[\"icon\"];\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/poitype.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl }       from '@angular/forms';\r\nimport { Subject }           from 'rxjs/Subject';\r\nimport { MdDialogRef } from '@angular/material';\r\nimport { Observable } from 'rxjs';\r\nimport { Subscription } from \"rxjs\";\r\nimport { Signal } from '../base/signal';\r\n\r\n@Component({\r\n  selector: 'app-beacondialog',\r\n  templateUrl: './beacondialog.component.html',\r\n  styleUrls: ['./beacondialog.component.css']\r\n})\r\nexport class BeacondialogComponent implements OnInit {\r\n\r\n  private macInputVal = new FormControl();\r\n  private nameInputVal = new FormControl();\r\n  private batteryOutputVal = new FormControl();\r\n\r\n  constructor(public dialogRef: MdDialogRef<BeacondialogComponent>) { }\r\n\r\n  public mac: string = \"\";\r\n  public name: string = \"\";\r\n\r\n  public okButtonDisabled: boolean = true;\r\n\r\n  public nearestSignal: Signal = undefined;\r\n\r\n  ngOnInit() {\r\n    this.macInputVal.valueChanges\r\n      .debounceTime(400).subscribe(term => this.updateOkButtonEnabled());\r\n\r\n    this.nameInputVal.valueChanges\r\n      .debounceTime(400).subscribe(term => this.updateOkButtonEnabled());\r\n  }\r\n\r\n  scan() {\r\n    console.log(\"BeacondialogComponent::scan()\");\r\n    if (this.nearestSignal && this.nearestSignal.value > -80) {\r\n      this.macInputVal.setValue(this.nearestSignal.mac);\r\n      this.nameInputVal.setValue(this.nearestSignal.name);\r\n      this.batteryOutputVal.setValue(this.nearestSignal.battery + \"%\");\r\n    }\r\n    else {\r\n      this.macInputVal.setValue(\"\");\r\n      this.nameInputVal.setValue(\"\");\r\n    }\r\n  }\r\n\r\n  closeDialog() {\r\n    console.log(\"BeacondialogComponent::closeDialog()\");\r\n    this.dialogRef.close('Closed...')\r\n  }\r\n\r\n  save() {\r\n    console.log(\"BeacondialogComponent::save()\");\r\n    this.mac = this.macInputVal.value;\r\n    this.name = this.nameInputVal.value;\r\n    this.dialogRef.close('Save')\r\n  }\r\n\r\n  setMacAndName(mac: string, name: string) {\r\n    this.mac = mac;\r\n    this.name = name;\r\n    this.macInputVal.setValue(this.mac);\r\n    this.nameInputVal.setValue(this.name);\r\n  }\r\n\r\n  setNearestSignal(val: Signal) {\r\n    console.log(\"BeacondialogComponent::setNearestSignal() \" + + JSON.stringify(val));\r\n    this.nearestSignal = val;\r\n  }\r\n\r\n  updateOkButtonEnabled() {\r\n    this.okButtonDisabled = this.nameInputVal.value.length <= 0;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beacondialog/beacondialog.component.ts","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { Injectable } from '@angular/core';\r\nimport {HostListener} from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\nimport { MODIFY_EDGE_MINSTARTPOINT_DISTANCE } from '../base/globalconstants';\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { RouteMap } from \"./routemap\"\r\nimport { RoomMap } from \"./roommap\"\r\nimport { NavigationMap } from \"./navigationedges\"\r\n\r\ndeclare var ol: any;\r\n\r\n//https://openlayers.org/en/latest/examples/icon.html\r\n//https://openlayers.org/en/latest/examples/vector-layer.html\r\n//http://openlayers.org/en/v3.4.0/examples/popup.html\r\n//https://scotch.io/tutorials/routing-angular-2-single-page-apps-with-the-component-router\r\n\r\n//https://github.com/angular/angular-cli\r\n\r\n//https://github.com/angular/material2/blob/master/docs/theming.md\r\n\r\n\r\n@Component({\r\n  selector: 'app-testmap',\r\n  templateUrl: './testmap.component.html',\r\n  styleUrls: ['./testmap.component.css']\r\n})\r\n@Injectable()\r\nexport class TestmapComponent implements OnInit, AfterViewInit {\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  private _applicationMode: ApplicationMode = ApplicationMode.CreateDefault();\r\n\r\n  testString = 'Hi';\r\n  //ol: any;\r\n  map: any;\r\n  poiLayer: any;\r\n  baseMapLayer: any;\r\n\r\n  baseMapVectorSource: any; //ol.source.Vector;\r\n\r\n  routemap: RouteMap;\r\n  roommap: RoomMap;\r\n  navigationmap: NavigationMap;\r\n\r\n  roomOverlay: any;\r\n  roomPopup: any;\r\n\r\n  select: any;\r\n  modify: any;\r\n\r\n  //content = document.getElementById('popup-content');\r\n  //closer = document.getElementById('popup-closer');\r\n  ngAfterViewInit(): void {\r\n    console.log(\"INIT!!!\");\r\n\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n\r\n    this.testString += '.................';\r\n\r\n    this.loadPOIs();\r\n    this.loadBaseMap();\r\n    this.createOverlay();\r\n\r\n    this.select = new ol.interaction.Select({\r\n      wrapX: false,\r\n      /*\r\n      layers: function(layer) {\r\n          return false;\r\n          //return this.allowOLSelection(layer);\r\n        }*/\r\n      layers: (layer => this.allowOLSelection(layer))\r\n    });\r\n\r\n    this.routemap = new RouteMap();\r\n    this.routemap.Initialize();\r\n\r\n    this.navigationmap = new NavigationMap(this.mapService);\r\n    this.navigationmap.Initialize(this.select);\r\n\r\n    this.roommap = new RoomMap();\r\n    this.roommap.Initialize(this.navigationmap);\r\n\r\n    this.modify = new ol.interaction.Modify({\r\n      features: this.select.getFeatures(),\r\n      condition: (evt => this.allowOLModify(evt))\r\n    });\r\n\r\n    let extent = [0, 0, 51200, 25600];\r\n    let projection = new ol.proj.Projection({\r\n      code: 'static-image',\r\n      units: 'pixels',\r\n      imageExtent: extent\r\n    });\r\n\r\n    this.map = new ol.Map({\r\n      controls: ol.control.defaults({\r\n        attributionOptions: ({\r\n          collapsible: true,\r\n        }),\r\n        zoom: false\r\n      }),\r\n      interactions: ol.interaction.defaults().extend([this.select, this.modify]),\r\n      //controls: [],\r\n      layers: [\r\n        new ol.layer.Tile({\r\n          source: new ol.source.OSM()\r\n        }),\r\n        this.poiLayer,\r\n        this.baseMapLayer,\r\n        this.routemap.getRouteLayer(),\r\n        this.routemap.getHiddenRouteLayer(),\r\n        this.roommap.getRoomLayer(),\r\n        this.navigationmap.getEdgeLayer(),\r\n        this.navigationmap.getEdgePathLayer()\r\n      ],\r\n      overlays: [this.roomOverlay],\r\n      target: 'map',\r\n      view: new ol.View({\r\n        projection: 'EPSG:900913',\r\n        center: ol.proj.fromLonLat([15.47, 47.0805]),\r\n        //center: ol.extent.getCenter(extent),\r\n        zoom: 18,\r\n        maxZoom: 22,\r\n        minZoom: 1//16\r\n      })\r\n    });\r\n\r\n    this.map.on('click', evt => this.mapClicked(evt));\r\n    this.map.on('pointermove', evt => this.mapMouseMoved(evt));\r\n\r\n    //this.mapService.getRoomMap(0).then(rooms => this.showRooms(rooms));\r\n    //this.mapService.getRoomMap(0).subscribe(rooms => this.showRooms(rooms));\r\n    //this.mapService.getNavigationEdges(0).subscribe(edges => this.showNavigationEdges(edges));\r\n\r\n    this.select.on('select', evt => this.selectionChanged(evt));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  @Input()\r\n  set applicationMode(applicationMode: ApplicationMode) {\r\n    if (this.select) {\r\n      //console.log(\"Clear selection...\" + this.select.getFeatures().getArray().length);\r\n      let selected_collection = this.select.getFeatures();\r\n\r\n      if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES &&\r\n        selected_collection.getArray().length > 0) {\r\n        this.navigationmap.updateEdges(selected_collection.getArray());\r\n      }\r\n\r\n      selected_collection.clear();\r\n    }\r\n    if (this.roommap) {\r\n      this.roommap.Clear();\r\n    }\r\n\r\n    this._applicationMode = applicationMode;\r\n\r\n    console.log(\"TestmapComponent::Set applicationMode - New App Mode: \" + this._applicationMode.name);\r\n  }\r\n\r\n  @HostListener('window:keydown', ['$event'])\r\n  keyboardInput(event: KeyboardEvent) {\r\n    console.log(\"KEYDOWN: \" + event.keyCode);\r\n\r\n    if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES && event.keyCode == 46) //Entf Key\r\n    {\r\n      console.log(\"KEYDOWN - Delete Edge \" + event.keyCode + \"#\" + this.select.getFeatures().getArray().length);\r\n      this.navigationmap.deleteSelectedEdge();\r\n      let selected_collection = this.select.getFeatures();\r\n      selected_collection.clear();\r\n    }\r\n\r\n  }\r\n\r\n  allowOLSelection(layer: any): boolean {\r\n    //layer.set('dummy', 'xxxsaef');\r\n    //console.log(\"allowOLSelection...\" + JSON.stringify(layer.get('dummy')));\r\n    //console.log(\"allowOLSelection... isSelectable ...\" + JSON.stringify(layer.get('isSelectable')));\r\n\r\n    if (layer.get('isSelectable') && this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  selectionChanged(evt: any): void {\r\n\r\n    let selectedFeatures = evt.selected;\r\n    let deselectedFeatures = evt.deselected;\r\n\r\n    //console.log(\"Selection changed:  newFeatures: \" + selectedFeatures.length +\r\n    //  \"  unselectedFeatures: \" + deselectedFeatures.length +\r\n    //  \"  mode: \" + this._applicationMode.name);\r\n\r\n    if (deselectedFeatures.length > 0) {\r\n      this.navigationmap.updateEdges(deselectedFeatures);\r\n    }\r\n  }\r\n\r\n  allowOLModify(evt: any) {\r\n    if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES) {\r\n      let selectedFeatures = this.select.getFeatures().getArray();\r\n\r\n      //console.log(\"allowOLModify: Length: \" + selectedFeatures.length);\r\n\r\n      if (selectedFeatures.length > 0) {\r\n        for (let feature of selectedFeatures) {\r\n          let geometry = feature.getGeometry();\r\n          let startPoint = geometry.getFirstCoordinate();\r\n          let endPoint = geometry.getLastCoordinate();\r\n\r\n          //console.log(\"allowOLModify: \" + JSON.stringify(evt.coordinate) +\r\n          //  \"::\" + JSON.stringify(startPoint) +\r\n          //  \"::\" + JSON.stringify(endPoint) +\r\n          //  \"d1:\" + this.getDistance(startPoint, evt.coordinate) +\r\n          //  \"d2:\" + this.getDistance(endPoint, evt.coordinate)\r\n          //);\r\n\r\n          if (this.getDistance(startPoint, evt.coordinate) < MODIFY_EDGE_MINSTARTPOINT_DISTANCE ||\r\n            this.getDistance(endPoint, evt.coordinate) < MODIFY_EDGE_MINSTARTPOINT_DISTANCE) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getDistance(p1: number[], p2: number[]): number {\r\n    let xdiff = p2[0] - p1[0];\r\n    let ydiff = p2[1] - p1[1];\r\n    return Math.sqrt(xdiff * xdiff + ydiff * ydiff);\r\n  }\r\n\r\n  private loadPOIs(): void {\r\n    let iconFeature = new ol.Feature({\r\n      geometry: new ol.geom.Point(ol.proj.fromLonLat([15.470230579376215, 47.0812626175388])),\r\n      name: 'Test Point',\r\n      description: 'dummy description'\r\n    });\r\n\r\n    let iconStyle = new ol.style.Style({\r\n      image: new ol.style.Icon(/** @type {olx.style.IconOptions} */({\r\n        anchor: [0.5, 1],\r\n        anchorXUnits: 'fraction',\r\n        anchorYUnits: 'fraction',\r\n        src: 'assets/testicon.png'\r\n      }))\r\n    });\r\n    iconFeature.setStyle(iconStyle);\r\n\r\n    let vectorSource = new ol.source.Vector({\r\n      features: [iconFeature]\r\n    });\r\n\r\n    this.poiLayer = new ol.layer.Vector({\r\n      source: vectorSource\r\n    });\r\n  }\r\n\r\n  loadBaseMap(): void {\r\n\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': [{\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'Polygon',\r\n          'coordinates': [[\r\n            [1722183.8736183767, 5955368.127460353],\r\n            [1722202.0871290227, 5955358.871413959],\r\n            [1722195.2197397628, 5955345.435217581]\r\n          ]]\r\n        }\r\n      }]\r\n    };\r\n\r\n    this.baseMapVectorSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    let styleFunction = function(feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'red',\r\n          width: 1\r\n        }),\r\n        fill: new ol.style.Fill({\r\n          color: 'rgba(255,0,0,0.1)'\r\n        })\r\n      })\r\n    };\r\n\r\n    this.baseMapLayer = new ol.layer.Vector({\r\n      source: this.baseMapVectorSource,\r\n      style: styleFunction\r\n    });\r\n\r\n    //this.heroService.getHeroesSlowly().then(heroes => this.heroesList = heroes);\r\n    this.mapService.getBaseMap(0).then(basemap => this.updateBaseMap(basemap));\r\n  }\r\n\r\n\r\n\r\n  updateBaseMap(baseMap): void {\r\n    this.baseMapVectorSource.clear();\r\n    this.baseMapVectorSource.addFeatures((new ol.format.GeoJSON()).readFeatures(baseMap));\r\n  }\r\n\r\n  createOverlay(): void {\r\n    this.roomPopup = document.getElementById('roomPopup');\r\n    console.log(this.roomPopup);\r\n\r\n    this.roomOverlay = new ol.Overlay(/** @type {olx.OverlayOptions} */({\r\n      element: this.roomPopup,\r\n      autoPan: true,\r\n      autoPanAnimation: {\r\n        duration: 250\r\n      }\r\n    }));\r\n\r\n    //this.roomOverlay.setPosition([0, 0]);\r\n  }\r\n\r\n  showRoute(route: Object[]) {\r\n    //console.log(\"showRoute called\" + this.testString);\r\n    this.routemap.showRoute(route);\r\n  }\r\n\r\n  hideRoute() {\r\n    //console.log(\"hideRoute called\");\r\n    this.routemap.hideRoute();\r\n  }\r\n\r\n  showRooms(rooms: Object) {\r\n    this.roommap.showRooms(rooms);\r\n  }\r\n\r\n  showNavigationEdges(edges: Object) {\r\n    this.navigationmap.showEdges(edges);\r\n  }\r\n\r\n  mapMouseMoved(evt): void {\r\n    if (evt.dragging) {\r\n      return;\r\n    }\r\n    let pixel = this.map.getEventPixel(evt.originalEvent);\r\n    if (this._applicationMode.mode == ApplicationModeT.EDIT_NODES) {\r\n      this.roommap.mouseMoved(pixel, this.map);\r\n    }\r\n  }\r\n\r\n  mapClicked(evt): void {\r\n    //console.log(\"mapClicked called\");\r\n\r\n    var lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\r\n    //console.log(\"Coord: \" + lonlat);\r\n    console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey);\r\n    console.log(\"Number of selected features: \" + this.select.getFeatures().getArray().length);\r\n\r\n    if (this._applicationMode.mode == ApplicationModeT.EDIT_NODES) {\r\n      if (evt.originalEvent.ctrlKey) {\r\n        this.roommap.mouseClickedCtrl(evt.coordinate, this.map);\r\n      }\r\n      else {\r\n        this.roommap.mouseClicked(evt.coordinate, this.map);\r\n      }\r\n    }\r\n\r\n\r\n    var coordinate = evt.coordinate;\r\n    //var hdms = ol.coordinate.toStringHDMS(ol.proj.transform(coordinate, 'EPSG:3857', 'EPSG:4326'));\r\n\r\n    //this.roomOverlay.setPosition(coordinate);\r\n\r\n    /*\r\n      var feature = this.map.forEachFeatureAtPixel(evt.pixel,\r\n        function(feature) {\r\n          return feature;\r\n        });\r\n\r\n\r\n      if (feature) {\r\n        var coordinates = feature.getGeometry().getCoordinates();\r\n        console.log(\"Feature Coord: \" + coordinates);\r\n      }\r\n      else {\r\n        var coordinates = feature.getGeometry().getCoordinates();\r\n        console.log(\"Map Coord: \" + coordinates);\r\n      }*/\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/testmap.component.ts","import { Injectable } from '@angular/core';\nimport { BASEMAP } from './mock-basemap02';\nimport { BASEMAP_1 } from './mock-basemap01';\nimport { FLOORS } from './mock-floors';\nimport {ROOMS} from './mock-rooms';\nimport {DEMOROUTE} from './mock-route';\nimport {ROOMS_MAP} from './mock-roomGeoInformation'\nimport {NAVIGATIONEDGES_DEMO} from './mock-navigationedges'\n\nimport {Room} from '../base/room';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class MapService {\n\n  constructor() { }\n\n  getBaseMapIntern(layer: number): Promise<Object> {\n    if (layer == 1) {\n      return Promise.resolve(BASEMAP);\n    }\n    return Promise.resolve(BASEMAP_1);\n  }\n\n  getBaseMap(layer: number): Promise<Object> {\n    return new Promise<Object>(resolve =>\n      setTimeout(resolve, 200)) // delay 2 seconds\n      .then(() => this.getBaseMapIntern(layer));\n  }\n\n  getFloorNames(): Observable<Floor[]> {\n    return Observable.of(FLOORS);\n  }\n\n  getRooms(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getDoors(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getFloors(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getNavigationEdges(layer: number): Observable<Object> {\n    return this.getNavigationEdgesIntern(layer);\n  }\n\n  getNavigationEdgesIntern(layer: number): Observable<Object> {\n    return Observable.of(NAVIGATIONEDGES_DEMO);\n  }\n\n  getRoute(sourceNodeId: number, destinationNodeId: number): Observable<Object> {\n    console.log(\"Get Route Local!\");\n    return Observable.of(DEMOROUTE);\n  }\n\n  getPoiTypes(): Observable<PoiType[]> {\n    return null;\n  }\n\n  getPoiInstances(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getBeacons(layer: number): Observable<Object> {\n    return null;\n  }\n\n\n  searchRoom(term: string): Observable<Room[]> {\n    //https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\n    var rooms: Room[] = [];\n    //console.log('searchRoom...');\n\n    if (term.length == 0) {\n      return Observable.of(rooms);\n    }\n\n    for (var i = 0; i < ROOMS.length; i++) {\n      if (ROOMS[i].name.startsWith(term)) {\n        rooms.push(ROOMS[i]);\n      }\n    }\n\n    return Observable.of(rooms);\n  }\n\n  getNavigationNodes(layer: number): Observable<Object> {\n    return Observable.of({\n      'geojson': {\n        'type': 'FeatureCollection',\n        'crs': {\n          'type': 'name',\n          'properties': {\n            'name': 'EPSG:3857'\n          }\n        },\n        'features': [{\n          'type': 'Feature',\n          'geometry': {\n            'type': 'LineString',\n            'coordinates': [\n            ]\r\n          }\r\n        }]\n      }\n    });\n  }\n\n  addNode(floor: number, center: any): Observable<Object> {\n    return null;\n  }\n\n  addEdge(source: number, destination: number, length: number, path: any): Observable<Object> {\n    return null;\n  }\n\n  addPoiInstance(floor: number, center: any, poitypeid: number): Observable<Object> {\n    return null;\n  }\n\n  addBeacon(floor: number, center: any, name: string): Observable<Object> {\n    return null;\n  }\n\n  deleteNode(id: number): Observable<Object> {\n    return null;\n  }\n\n  deleteEdge(id: number): Observable<Object> {\n    return null;\n  }\n\n  deletePoi(id: number): Observable<Object> {\n    return null;\n  }\n\n  deleteBeacon(id: number): Observable<Object> {\n    return null;\n  }\n\n  updateNode(node: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updateEdge(edge: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updatePoi(node: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updateBeacon(beacon: any, id: number): Observable<Object> {\n    return null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/map.service.ts","import { Observable } from 'rxjs';\r\nimport {Subscription} from \"rxjs\";\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapLayerBase {\r\n  protected layer: any;\r\n  protected layerSource: any;\r\n\r\n  protected subscription: Subscription = null;\r\n\r\n  protected isActive = false;\r\n\r\n  public getLayer(): any {\r\n    return this.layer;\r\n  }\r\n\r\n  public setActive(active: boolean) {\r\n    this.layer.setVisible(active);\r\n\r\n    if (!active) {\r\n      this.clearSelection();\r\n    }\r\n\r\n    this.isActive = active;\r\n  }\r\n\r\n  public clear() {\r\n    this.clearSelection();\r\n    this.layerSource.clear();\r\n  }\r\n\r\n  public clearSelection() {\r\n    //overwrite in subclass...\r\n  }\r\n\r\n  public subscribeNewRequest(sub: Subscription) {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = null;\r\n    }\r\n    this.subscription = sub;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapLayerBase.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 535;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 535\n// module chunks = 0","import './polyfills.ts';\r\n\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { environment } from './environments/environment';\r\nimport { AppModule } from './app/app.module';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","declare var ol: any;\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nexport class OpenlayersHelper {\r\n\r\n  public static CurrentApplicationMode: ApplicationMode = ApplicationMode.CreateDefault();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public static CreateBasicLayer(style: any): any {\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': []\r\n    };\r\n\r\n    //console.log('Create layer source!');\r\n    let layerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    let layer = new ol.layer.Vector({\r\n      source: layerSource,\r\n      style: style\r\n    });\r\n\r\n    return {\r\n      layer: layer,\r\n      layerSource: layerSource\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/openlayershelper.ts","import { Injectable } from '@angular/core';\n\nimport { Http, Response } from '@angular/http';\nimport { Headers, RequestOptions, RequestMethod, RequestOptionsArgs } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\n\nimport { MapService } from '../mapservice/map.service';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\nimport { API_BASE_URL } from '../base/globalconstants';\n\nimport { OAuthService } from 'angular-oauth2-oidc';\n\n@Injectable()\nexport class MapHttpService extends MapService {\n\n  private baseUrl = API_BASE_URL + '/v1/';\n  private roomUrl = this.baseUrl + 'geo/rooms/';  // URL to web API\n  private edgeUrl = this.baseUrl + 'geo/edges/';\n  private floorUrl = this.baseUrl + 'geo/floors/';\n  private nodeUrl = this.baseUrl + 'geo/nodes/';\n  private doorUrl = this.baseUrl + 'geo/doors/';\n  private levelUrl = this.baseUrl + 'geo/level/';\n  private routeUrl = this.baseUrl + 'geo/routing/edges/';\n  private poiTypeUrl = this.baseUrl + 'geo/pointofinterest/';\n  private poiInstanceUrl = this.baseUrl + 'geo/pointofinterestinstance/';\n  private beaconUrl = this.baseUrl + 'positioning/beacons/';\n\n  constructor(private http: Http, private oauthService: OAuthService) {\n    super();\n  }\n\n  getRooms(layer: number): Observable<Object> {\n    return this.http.get(this.roomUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getNavigationEdges(layer: number): Observable<Object> {\n\n    var headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.get(this.edgeUrl + '?level=' + layer, options)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getNavigationNodes(layer: number): Observable<Object> {\n    var headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.get(this.nodeUrl + '?level=' + layer, options)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getFloorNames(): Observable<Floor[]> {\n    return this.http.get(this.levelUrl)\n      .map(this.extractDataFloors)\n      .catch(this.handleError);\n  }\n\n  getDoors(layer: number): Observable<Object> {\n    //return this.http.get(this.roomUrl + '?floor=' + layer)\n    return this.http.get(this.doorUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getFloors(layer: number): Observable<Object> {\n    //return this.http.get(this.roomUrl + '?floor=' + layer)\n    return this.http.get(this.floorUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getRoute(sourceNodeId: number, destinationNodeId: number): Observable<Object> {\n    console.log(\"Get Route HTTP!\");\n    return this.http.get(this.routeUrl + '?from=' + sourceNodeId + '&to=' + destinationNodeId)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getPoiTypes(): Observable<PoiType[]> {\n    return this.http.get(this.poiTypeUrl)\n      .map(this.extractDataPoiTypes)\n      .catch(this.handleError);\n  }\n\n  getPoiInstances(layer: number): Observable<Object> {\n    return this.http.get(this.poiInstanceUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getBeacons(layer: number): Observable<Object> {\n    var headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n    return this.http.get(this.beaconUrl + '?level=' + layer, options)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  addEdge(source: number, destination: number, length: number, path: any): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"category\": 1,\n      \"source\": source,\n      \"destination\": destination,\n      \"path\": JSON.stringify(path),\n      \"length\": length\n    }\n\n    //console.log(\"Send Edge: \" + JSON.stringify(data));\n\n    return this.http.post(this.edgeUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addNode(floor: number, center: any): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"center\": JSON.stringify(center)\n    }\n\n    console.log(\"Send Node: \" + JSON.stringify(data));\n\n    return this.http.post(this.nodeUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addPoiInstance(floor: number, center: any, poitypeid: number): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"name\": poitypeid,\n      \"center\": JSON.stringify(center)\n    }\n\n    console.log(\"Send PoiInstance: \" + JSON.stringify(data));\n\n    return this.http.post(this.poiInstanceUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addBeacon(floor: number, center: any, name: string): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"name\": name,\n      \"position\": JSON.stringify(center),\n      \"active\": true\n    }\n\n    console.log(\"Send Beacon: \" + JSON.stringify(data));\n\n    return this.http.post(this.beaconUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  deleteNode(id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.nodeUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deleteEdge(id: number): Observable<Object> {\n\n    let headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n\n    let options = new RequestOptions({\r\n      headers: headers,\n    });\n\n    return this.http.delete(this.edgeUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deletePoi(id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.poiInstanceUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deleteBeacon(id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.beaconUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  updateEdge(edge: any, id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Edge: \" + id + \"::\" + JSON.stringify(edge));\n\n    return this.http.put(this.edgeUrl + id + \"/\", edge, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updateNode(node: any, id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Node: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.nodeUrl + id + \"/\", node, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updatePoi(node: any, id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.poiInstanceUrl + id + \"/\", node, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updateBeacon(beacon: any, id: number): Observable<Object> {\n    let headers = new Headers({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + this.oauthService.getAccessToken()\n    });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.beaconUrl + id + \"/\", beacon, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n\n  private extractData(res: Response) {\n    //console.log(\"RESPONSE DATA...\");\n    let body = res.json();\n\n    //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\n\n    if (body.results) {\n      return body.results || {};\n    }\n    return body || {};\n  }\n\n  private extractDataAdd(res: Response) {\n    let body = res.json();\n\n    //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\n\n    return body || {};\n  }\n\n  private extractDataDel(res: Response, id: number) {\n    //console.log(\"RESPONSE DATA org: \" + JSON.stringify(res));\n    return { id: id };\n  }\n\n  private extractDataFloors(res: Response) {\n    let body = res.json();\n    if (body.results) {\n      body = body.results;\n    }\n    console.log(\"RESPONSE DATA FLOORS: \" + JSON.stringify(body));\n    let floors: Floor[] = [];\n    for (let obj of body) {\n      floors.push(new Floor(obj));\n    }\n    return floors;\n  }\n\n  private extractDataPoiTypes(res: Response) {\n    let body = res.json();\n    if (body.results) {\n      body = body.results;\n    }\n    console.log(\"RESPONSE DATA POITYPES: \" + JSON.stringify(body));\n    let poitypes: PoiType[] = [];\n    for (let obj of body) {\n      poitypes.push(new PoiType(obj));\n    }\n    return poitypes;\n  }\n\n  private handleError(error: Response | any) {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(\"handleError: \" + errMsg);\n    return Observable.throw(errMsg);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservicehttp/mapservicehttp.service.ts","import { Component, Optional, OnInit } from '@angular/core';\r\nimport {MdDialog, MdDialogRef} from '@angular/material';\r\n\r\nimport { ApplicationMode, ApplicationModeT } from './base/applicationmode';\r\nimport { Floor } from './base/floor';\r\nimport { PoiType } from './base/poitype';\r\nimport { BeaconEditMode, BeaconEditModes } from './base/beaconeditmode';\r\nimport {Signal} from './base/signal';\r\n\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n\r\n  lastDialogResult: string;\r\n\r\n  currentAppMode: ApplicationMode = ApplicationMode.CreateDefault();\r\n  currentFloor: Floor = Floor.getDefaultFloor();\r\n  currentPoiType: PoiType = null;\r\n  poiTypes: PoiType[] = null;\r\n  beaconEditMode: BeaconEditMode = null;\r\n  beaconSignals: Signal[] = null;\r\n\r\n  showPoiSelector: boolean = false;\r\n  showBeaconEditModeSelector: boolean = false;\r\n\r\n  constructor(private _dialog: MdDialog, private oauthService: OAuthService) {\r\n\r\n    // Login-Url\r\n    //this.oauthService.loginUrl = \"https://api.medunigraz.at/oauth2/authorize/\"; //Id-Provider?\r\n    this.oauthService.loginUrl = \"https://api.medunigraz.at/oauth2/authorize/\";\r\n\r\n    // URL of the SPA to redirect the user to after login\r\n    //this.oauthService.redirectUri = window.location.origin + \"/mapeditor/\";\r\n    this.oauthService.redirectUri = window.location.origin + \"/mapeditor/\";\r\n\r\n    // The SPA's id. Register SPA with this id at the auth-server\r\n    this.oauthService.clientId = \"o5AMvJLFuKNhKzBltNK1d0DDyP53h5Ng2gxVBT7p\";\r\n    // set the scope for the permissions the client should request\r\n    this.oauthService.scope = \"editor\";\r\n\r\n    // set to true, to receive also an id_token via OpenId Connect (OIDC) in addition to the\r\n    // OAuth2-based access_token\r\n    this.oauthService.oidc = false;\r\n\r\n    // Use setStorage to use sessionStorage or another implementation of the TS-type Storage\r\n    // instead of localStorage\r\n    this.oauthService.setStorage(sessionStorage);\r\n\r\n    // To also enable single-sign-out set the url for your auth-server's logout-endpoint here\r\n    //this.oauthService.logoutUrl = \"https://steyer-identity-server.azurewebsites.net/identity/connect/endsession?id_token={{id_token}}\";\r\n\r\n    // This method just tries to parse the token(s) within the url when\r\n    // the auth-server redirects the user back to the web-app\r\n    // It dosn't send the user the the login page\r\n    this.oauthService.tryLogin({});\r\n\r\n    if (!this.oauthService.hasValidAccessToken()) {\r\n      this.oauthService.initImplicitFlow();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    /*\r\n    angular.module('myApp', ['ngMaterial'])\r\n      .config(function($mdThemingProvider) {\r\n        $mdThemingProvider.theme('altTheme')\r\n          .primaryPalette('purple') // specify primary color, all\r\n        // other color intentions will be inherited\r\n        // from default\r\n      });*/\r\n  }\r\n\r\n\r\n  openDialog() {\r\n    let dialogRef = this._dialog.open(DialogContent);\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.lastDialogResult = result;\r\n    })\r\n  }\r\n\r\n  sayHi(): void {\r\n    console.info(\"Hi\");\r\n  }\r\n\r\n  appModeChanged(mode: ApplicationMode): void {\r\n    console.log(\"AppComponent --- appModeChanged: \" + mode.name);\r\n    this.currentAppMode = mode;\r\n\r\n    this.showPoiSelector = (this.currentAppMode.mode == ApplicationModeT.EDIT_POIS);\r\n    this.showBeaconEditModeSelector = (this.currentAppMode.mode == ApplicationModeT.EDIT_BEACONS);\r\n  }\r\n\r\n  floorChanged(floor: Floor): void {\r\n    if (floor) {\r\n      console.log(\"AppComponent --- floorChanged: \" + floor.name);\r\n      this.currentFloor = floor;\r\n    }\r\n  }\r\n\r\n  currentPoiTypeChanged(poiType: PoiType) {\r\n    if (poiType) {\r\n      console.log(\"AppComponent --- currentPoiType: \" + poiType.name);\r\n      this.currentPoiType = poiType;\r\n    }\r\n  }\r\n\r\n  PoiTypesReceived(poiTypes: PoiType[]) {\r\n    if (poiTypes) {\r\n      console.log(\"AppComponent --- PoiTypesReceived: \" + poiTypes.length);\r\n      this.poiTypes = poiTypes;\r\n    }\r\n  }\r\n\r\n  beaconEditModeChanged(mode: BeaconEditMode) {\r\n    if (mode) {\r\n      console.log(\"AppComponent --- BeaconEditMode: \" + mode.name);\r\n      this.beaconEditMode = mode;\r\n    }\r\n  }\r\n\r\n  beaconSignalsChanged(signal: Signal[]) {\r\n    if (signal) {\r\n      //console.log(\"AppComponent --- beaconSignalsChanged: \" + JSON.stringify(signal));\r\n      this.beaconSignals = signal;\r\n    }\r\n  }\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <p>This is a dialog</p>\r\n    <p>\r\n      <label>\r\n        This is a text box inside of a dialog.\r\n        <input #dialogInput>\r\n      </label>\r\n    </p>\r\n    <p> <button md-button (click)=\"dialogRef.close(dialogInput.value)\">CLOSE</button> </p>\r\n  `,\r\n})\r\nexport class DialogContent {\r\n  constructor( @Optional() public dialogRef: MdDialogRef<DialogContent>) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule, XSRFStrategy, CookieXSRFStrategy } from '@angular/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { MaterialModule } from '@angular/material';\r\n\r\nimport { MapService } from './mapservice/map.service';\r\nimport { MapHttpService } from './mapservicehttp/mapservicehttp.service';\r\nimport { MapcontrollerserviceService } from './mapcontrollerservice/mapcontrollerservice.service'\r\n\r\nimport { AppComponent, DialogContent } from './app.component';\r\nimport { TestmapComponent } from './testmap/testmap.component';\r\nimport { RoomsearchComponent } from './roomsearch/roomsearch.component';\r\nimport { FloorselectorComponent } from './floorselector/floorselector.component';\r\nimport { RoomsearchmdComponent } from './roomsearchmd/roomsearchmd.component';\r\nimport { RoutetestComponent } from './routetest/routetest.component';\r\nimport { ModeselectorComponent } from './modeselector/modeselector.component';\r\nimport { EditablemapComponent } from './editablemap/editablemap.component';\r\nimport { PoiselectorComponent } from './poiselector/poiselector.component';\r\nimport { BeaconmodeselectorComponent } from './beaconmodeselector/beaconmodeselector.component';\r\nimport { BeacondialogComponent } from './beacondialog/beacondialog.component';\r\nimport { BeaconconnectorComponent } from './beaconconnector/beaconconnector.component';\r\n\r\nimport { OAuthModule } from 'angular-oauth2-oidc';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    DialogContent,\r\n    TestmapComponent,\r\n    RoomsearchComponent,\r\n    FloorselectorComponent,\r\n    RoomsearchmdComponent,\r\n    RoutetestComponent,\r\n    ModeselectorComponent,\r\n    EditablemapComponent,\r\n    PoiselectorComponent,\r\n    BeaconmodeselectorComponent,\r\n    BeacondialogComponent,\r\n    BeaconconnectorComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule.forRoot(),\r\n    OAuthModule.forRoot()\r\n  ],\r\n  providers: [MapService, MapcontrollerserviceService, MapHttpService\r\n  ],\r\n  entryComponents: [DialogContent, BeacondialogComponent],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Point {\r\n  x: number;\r\n  y: number;\r\n\r\n  constructor() {\r\n    this.x = 0;\r\n    this.y = 0;\r\n  }\r\n\r\n  public createFromAr(ar: number[]) {\r\n    this.x = ar[0];\r\n    this.y = ar[1];\r\n  }\r\n\r\n  public getAr() {\r\n    return [this.x, this.y];\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/point.ts","export class Signal {\r\n  mac: string;\r\n  value: number;\r\n  name: string;\r\n  battery: number;\r\n  origSignal: number;\r\n\r\n  constructor(mac: string, value: number, name: string, battery: number, origSignal: number) {\r\n    this.mac = mac;\r\n    this.value = value;\r\n    this.name = name;\r\n    this.battery = battery;\r\n    this.origSignal = origSignal;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/signal.ts","import { Component, OnInit, EventEmitter, NgZone, Input, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport {Subscription} from \"rxjs\";\r\nimport {TimerObservable} from \"rxjs/observable/TimerObservable\";\r\n\r\nimport {SignalBuffer} from './signalbuffer';\r\nimport {SignalBufferCollection} from './signalbuffercollection';\r\nimport {Signal} from '../base/signal';\r\n\r\nenum PositionStatus {\r\n  InActive = 0,\r\n  Paused = 1,\r\n  Active = 2\r\n}\r\n\r\nconst demoMode: boolean = false;\r\n\r\ndeclare var appInterfaceObject: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-beaconconnector',\r\n  templateUrl: './beaconconnector.component.html',\r\n  styleUrls: ['./beaconconnector.component.css']\r\n})\r\nexport class BeaconconnectorComponent implements OnInit {\r\n\r\n  @Output() updateSignalsEvent = new EventEmitter<Signal[]>();\r\n\r\n  private isActive: boolean = demoMode;\r\n  private positionStatus: PositionStatus = PositionStatus.InActive;\r\n  private checkTimerSubscription: Subscription;\r\n  private posUpdateTimerSubscription: Subscription;\r\n\r\n  private positioningStarted: boolean = false;\r\n\r\n  private signalBufferCollection: SignalBufferCollection = new SignalBufferCollection();\r\n\r\n  constructor(private zone: NgZone) {\r\n    window[\"angularComponentRef\"] = {\r\n      zone: this.zone,\r\n      componentFn: (value) => this.signalDataChanged(value),\r\n      component: this\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    let hasAppInterface = appInterfaceObject.testapp();\r\n    //hasAppInterface = true;\r\n\r\n    if (hasAppInterface) {\r\n      this.isActive = true;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.startCheckTimer();\r\n  }\r\n\r\n  scanButtonClickedPosition() {\r\n    console.log(\"BeaconconnectorComponent::scanButtonClickedPosition()\");\r\n    this.positioningStarted = !this.positioningStarted;\r\n    this.updatePositionStatus();\r\n\r\n    if (this.positioningStarted) {\r\n      this.startScan();\r\n    }\r\n    else {\r\n      this.stopScan();\r\n    }\r\n  }\r\n\r\n  signalDataChanged(value: string) {\r\n    if (this.positionStatus == PositionStatus.Active) {\r\n      //console.log(\"BeaconconnectorComponent::signalDataChanged() - \" + JSON.stringify(value));\r\n      this.signalBufferCollection.addValues(value);\r\n    }\r\n  }\r\n\r\n  public startScan() {\r\n    this.signalBufferCollection.clear();\r\n    this.signalBufferCollection.start();\r\n    this.startPosUpdateTimer();\r\n    appInterfaceObject.start();\r\n    if (demoMode) {\r\n      appInterfaceObject.demo();\r\n    }\r\n  }\r\n\r\n  public stopScan() {\r\n    this.stopPosUpdateTimer();\r\n    appInterfaceObject.stop();\r\n    this.signalBufferCollection.clear();\r\n    this.updateSignalsEvent.emit([]);\r\n  }\r\n\r\n  /**********************************************************\r\n  POSTION UPDATE\r\n  **********************************************************/\r\n\r\n  private startPosUpdateTimer() {\r\n    //console.log(\"BeaconconnectorComponent::startPosUpdateTimer()\");\r\n\r\n    if (this.posUpdateTimerSubscription != null) {\r\n      this.stopPosUpdateTimer();\r\n    }\r\n\r\n    let timer = TimerObservable.create(1000);\r\n    this.posUpdateTimerSubscription = timer.subscribe(t => {\r\n      this.posUpdateEvent();\r\n    });\r\n  }\r\n\r\n  private stopPosUpdateTimer() {\r\n    //console.log(\"BeaconconnectorComponent::stopPosUpdateTimer()\");\r\n    if (this.posUpdateTimerSubscription != null) {\r\n      this.posUpdateTimerSubscription.unsubscribe();\r\n      this.posUpdateTimerSubscription = null;\r\n    }\r\n  }\r\n\r\n  private posUpdateEvent() {\r\n    //console.log(\"BeaconconnectorComponent::posUpdateEvent()\");\r\n\r\n    let signals = this.signalBufferCollection.getAllSignals();\r\n    this.updateSignalsEvent.emit(signals);\r\n\r\n    //LOG POSITION DATA\r\n    //appInterfaceObject.log(\"\" + new Date().getTime() + \";\" + nearestBeacon + \";\" + this.signalBufferCollection.getJSONString());\r\n\r\n    this.stopPosUpdateTimer();\r\n    if (this.isActive) {\r\n      this.startPosUpdateTimer();\r\n    }\r\n  }\r\n\r\n  /**********************************************************\r\n  CHECK STATUS\r\n  **********************************************************/\r\n\r\n  private startCheckTimer() {\r\n    //console.log(\"PositionComponent::startCheckTimer()\");\r\n\r\n    if (this.checkTimerSubscription != null) {\r\n      this.stopCheckTimer();\r\n    }\r\n\r\n    let timer = TimerObservable.create(2500);\r\n    this.checkTimerSubscription = timer.subscribe(t => {\r\n      this.checkTimerEvent();\r\n    });\r\n  }\r\n\r\n  private stopCheckTimer() {\r\n    //console.log(\"PositionComponent::stopCheckTimer()\");\r\n    if (this.checkTimerSubscription != null) {\r\n      this.checkTimerSubscription.unsubscribe();\r\n      this.checkTimerSubscription = null;\r\n    }\r\n  }\r\n\r\n  private checkTimerEvent() {\r\n    //console.log(\"PositionComponent::checkTimerEvent()\");\r\n    this.updatePositionStatus();\r\n\r\n    this.stopCheckTimer();\r\n    if (this.isActive) {\r\n      this.startCheckTimer();\r\n    }\r\n  }\r\n\r\n  private updatePositionStatus() {\r\n    //console.log(\"PositionComponent::updatePositionStatus()\" + appInterfaceObject.check());\r\n\r\n    if (appInterfaceObject.check() != 0 && !demoMode) {\r\n      this.positionStatus = PositionStatus.InActive;\r\n    }\r\n    else {\r\n      if (this.positioningStarted) {\r\n        this.positionStatus = PositionStatus.Active;\r\n      }\r\n      else {\r\n        this.positionStatus = PositionStatus.Paused;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/beaconconnector.component.ts","\r\n\r\nexport class SignalBuffer {\r\n  id: string;\r\n  lastValue: number;\r\n  lastOrigValue: number;\r\n  lastValueTimeStamp: number;\r\n\r\n  name: string;\r\n  battery: number;\r\n  mac: string;\r\n\r\n  private filterValue = 0.5;\r\n  private minValue = -90;\r\n\r\n  constructor(id) {\r\n    this.id = id;\r\n    this.clear();\r\n  }\r\n\r\n  public setValue(mac, value, name, battery) {\r\n\r\n    if (!value) {\r\n      this.clear();\r\n      //value = this.minValue;\r\n    }\r\n\r\n    this.lastOrigValue = value;\r\n\r\n    if (value > 0) //error code -> Reset Timer and use old value\r\n    {\r\n      let milliseconds = new Date().getTime();\r\n      this.lastValueTimeStamp = milliseconds;\r\n    }\r\n    else {\r\n      let filteredValue = (1 - this.filterValue) * this.lastValue + this.filterValue * value;\r\n      this.lastValue = filteredValue;\r\n\r\n      if (this.lastValue < this.minValue) {\r\n        this.lastValue = this.minValue;\r\n      }\r\n\r\n      let milliseconds = new Date().getTime();\r\n      this.lastValueTimeStamp = milliseconds;\r\n      this.name = name;\r\n      this.mac = mac;\r\n      this.battery = battery;\r\n    }\r\n\r\n    //console.log(\"SignalBuffer::setValue Set value: \" + this.lastValue + \"/\" + this.lastValueTimeStamp);\r\n  }\r\n\r\n  public checkClearValue() {\r\n    let milliseconds = new Date().getTime();\r\n    if (!this.lastValue || !this.lastValueTimeStamp) {\r\n      return true;\r\n    }\r\n    if (milliseconds - this.lastValueTimeStamp > 1000) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private clear() {\r\n    this.lastValue = this.minValue;\r\n    this.lastValueTimeStamp = undefined;\r\n  }\r\n} \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/signalbuffer.ts","import { SignalBuffer } from './signalbuffer';\r\nimport { Observable } from 'rxjs';\r\nimport { Subscription } from \"rxjs\";\r\nimport { TimerObservable } from \"rxjs/observable/TimerObservable\";\r\n\r\nimport {Signal} from '../base/signal';\r\n\r\nexport interface ISignalMap {\r\n  [id: string]: SignalBuffer;\r\n}\r\n\r\nexport class SignalBufferCollection {\r\n\r\n  private map: ISignalMap = {};\r\n\r\n  private clearTimerSubscription: Subscription;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public clear() {\r\n    this.map = {};\r\n    this.stopClearTimer();\r\n  }\r\n\r\n  public start() {\r\n    this.startClearTimer();\r\n  }\r\n\r\n  public addValues(valuestring: any) {\r\n    if (valuestring) {\r\n      let data = JSON.parse(valuestring);\r\n\r\n      for (let signal of data) {\r\n        //console.log('set signal: ' + JSON.stringify(signal));\r\n        this.addValue(signal[\"ID\"], signal[\"Value\"], signal[\"Name\"], signal[\"Batterie\"]);\r\n      }\r\n    }\r\n  }\r\n\r\n  public getNearestBeacon(): string {\r\n    //console.log(\"SignalBufferCollection::getNearestBeacon() - \" + JSON.stringify(this.map));\r\n\r\n    let bestValue = -9999;\r\n    let bestID: string = undefined;\r\n\r\n    for (let key in this.map) {\r\n\r\n      let value = this.map[key].lastValue;\r\n\r\n      if (value) {\r\n        if (value > bestValue) {\r\n          bestValue = value;\r\n          bestID = key;\r\n        }\r\n      }\r\n    }\r\n\r\n    return bestID;\r\n  }\r\n\r\n  public getAllSignals(): Signal[] {\r\n    let signals: Signal[] = [];\r\n\r\n    for (let key in this.map) {\r\n      let value = this.map[key].lastValue;\r\n      if (value) {\r\n        signals.push(new Signal(this.map[key].mac, value, this.map[key].name, this.map[key].battery, this.map[key].lastOrigValue));\r\n      }\r\n    }\r\n\r\n    return signals;\r\n  }\r\n\r\n\r\n  public getJSONString(): string {\r\n    return JSON.stringify(this.map);\r\n  }\r\n\r\n  public getURLString(): string {\r\n\r\n    let urlString = \"\";\r\n    let index = 0;\r\n\r\n    for (let key in this.map) {\r\n\r\n      let value = this.map[key].lastValue;\r\n\r\n      if (index > 0) {\r\n        urlString += \"&\";\r\n      }\r\n      urlString += 'name[' + key + ']=' + value;\r\n\r\n      index++;\r\n    }\r\n\r\n    return urlString;\r\n  }\r\n\r\n  private addValue(mac: string, value: number, name: string, battery: number) {\r\n    if (!this.map[name]) {\r\n      this.map[name] = new SignalBuffer(name);\r\n    }\r\n\r\n    this.map[name].setValue(mac, value, name, battery);\r\n  }\r\n\r\n  private startClearTimer() {\r\n    //console.log(\"SignalBufferCollection::startClearTimer()\");\r\n\r\n    if (this.clearTimerSubscription != null) {\r\n      this.stopClearTimer();\r\n    }\r\n\r\n    let timer = TimerObservable.create(666);\r\n    this.clearTimerSubscription = timer.subscribe(t => {\r\n      this.clearTimerEvent();\r\n    });\r\n  }\r\n\r\n  private stopClearTimer() {\r\n    //console.log(\"SignalBufferCollection::stopClearTimer()\");\r\n    if (this.clearTimerSubscription != null) {\r\n      this.clearTimerSubscription.unsubscribe();\r\n      this.clearTimerSubscription = null;\r\n    }\r\n  }\r\n\r\n  private clearTimerEvent() {\r\n    //console.log(\"SignalBufferCollection::clearTimerEvent() - \" + JSON.stringify(this.map));\r\n\r\n    let keysToDelete: string[] = [];\r\n\r\n    for (let key in this.map) {\r\n      if (this.map[key].checkClearValue()) {\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - Clear Signal: \" + key);\r\n        keysToDelete.push(key);\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < keysToDelete.length; i++) {\r\n      delete this.map[keysToDelete[i]];\r\n    }\r\n\r\n    this.startClearTimer();\r\n    //console.log(\"SignalBufferCollection::clearTimerEvent() - END: \" + JSON.stringify(this.map));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/signalbuffercollection.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BeaconEditMode, BeaconEditModes } from '../base/beaconeditmode';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\n@Component({\r\n  selector: 'app-beaconmodeselector',\r\n  templateUrl: './beaconmodeselector.component.html',\r\n  styleUrls: ['./beaconmodeselector.component.css']\r\n})\r\nexport class BeaconmodeselectorComponent implements OnInit {\r\n\r\n  modes: BeaconEditMode[] = BeaconEditModes;\r\n  showControl: boolean = true;\r\n  selectedMode: BeaconEditMode = BeaconEditMode.CreateDefault();\r\n\r\n  @Output() currentSelectedModeEvt = new EventEmitter<BeaconEditMode>();\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  ngOnInit() {\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n  }\r\n\r\n  onSelect(mode: BeaconEditMode): void {\r\n    this.selectMode(mode);\r\n  }\r\n\r\n  private selectMode(mode: BeaconEditMode) {\r\n    this.selectedMode = mode;\r\n    this.currentSelectedModeEvt.emit(this.selectedMode);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconmodeselector/beaconmodeselector.component.ts","import { Component, OnInit } from '@angular/core';\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\nimport { Injectable } from '@angular/core';\nimport { HostListener } from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\nimport { MODIFY_EDGE_MINSTARTPOINT_DISTANCE } from '../base/globalconstants';\nimport { ApplicationMode } from '../base/applicationmode';\nimport { ApplicationModeT } from '../base/applicationmode';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\nimport { BeaconEditMode, BeaconEditModes } from '../base/beaconeditmode';\nimport { Signal } from '../base/signal';\n\nimport { MapLayerBase } from './mapLayerBase';\nimport { MapNodes } from './mapNodes';\nimport { MapDoors } from './mapDoors';\nimport { MapRoom } from './mapRoom';\nimport { MapFloor } from './mapFloor';\nimport { MapEdges } from './mapEdges';\nimport { MapEditEdges } from './mapEditEdges';\nimport { MapRoute } from './mapRoute';\nimport { MapPois } from './mapPois';\nimport { MapBeacons } from './mapBeacons';\nimport { OpenlayersHelper } from './openlayershelper';\n\nimport {MdDialog, MdDialogRef} from '@angular/material';\nimport {BeacondialogComponent} from '../beacondialog/beacondialog.component'\n\ndeclare var ol: any;\n\nconst maxNumberOfBeaconOverlays: number = 100;\n\n@Component({\n  selector: 'app-editablemap',\n  templateUrl: './editablemap.component.html',\n  styleUrls: ['./editablemap.component.css']\n})\nexport class EditablemapComponent implements OnInit {\n\n  //private _applicationMode: ApplicationMode = ApplicationMode.CreateDefault();\n\n  @ViewChild('beaconPopups') public beaconPopUps: ElementRef;\n\n  public beaconOverlays: number[] = null;\n\n  constructor(private dialog: MdDialog,\n    private mapServiceHttp: MapHttpService,\n    private mapService: MapService) {\n    this.beaconOverlays = new Array(maxNumberOfBeaconOverlays);\n    for (let i = 0; i < maxNumberOfBeaconOverlays; i++) {\n      this.beaconOverlays[i] = i;\n    }\n  }\n\n  private map: any;\n  private baseMapLayer: any;\n  private baseMapVectorSource: any;\n\n  private mapNodes: MapNodes = null;\n  private mapDoors: MapDoors = null;\n  private mapRooms: MapRoom = null;\n  private mapFloor: MapFloor = null;\n  private mapEdges: MapEdges = null;\n  private mapEditEdges: MapEditEdges = null;\n  private mapRoute: MapRoute = null;\n  private mapPois: MapPois = null;\n  private mapBeacons: MapBeacons = null;\n\n  private ctlPressed: boolean = false;\n\n\n\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(): void {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.mapFloor = new MapFloor(this.mapService);\n    this.mapDoors = new MapDoors(this.mapService);\n    this.mapRooms = new MapRoom(this.mapService);\n    this.mapEdges = new MapEdges(this.mapService);\n    this.mapEditEdges = new MapEditEdges(this.mapService);\n    this.mapRoute = new MapRoute(this.mapService);\n    this.mapNodes = new MapNodes(this.mapService, this.mapEditEdges, this.mapEdges, this.mapRoute);\n    this.mapPois = new MapPois(this.mapService);\n    this.mapBeacons = new MapBeacons(this.dialog, this.mapService, this.beaconPopUps, this);\n\n    this.map = new ol.Map({\n      controls: ol.control.defaults({\n        attributionOptions: ({\n          collapsible: true,\n        }),\n        zoom: false\n      }),\n      //interactions: ol.interaction.defaults().extend([this.select, this.modify]),\n      //controls: [],\n      layers: [\n        new ol.layer.Tile({\n          source: new ol.source.OSM()\n        }),\n        this.mapFloor.getLayer(),\n        this.mapRooms.getLayer(),\n        this.mapDoors.getLayer(),\n        this.mapNodes.getLayer(),\n        this.mapBeacons.getLayer(),\n        this.mapEditEdges.getLayer(),\n        this.mapEdges.getLayer(),\n        this.mapRoute.getLayer(),\n        this.mapPois.getLayer()\n      ],\n      overlays: [],\n      target: 'map',\n      view: new ol.View({\n        projection: 'EPSG:900913',\n        center: ol.proj.fromLonLat([15.47, 47.0805]),\n        //center: ol.extent.getCenter(extent),\n        zoom: 18,\n        maxZoom: 24,\n        minZoom: 1//16\n      })\n    });\n\n    this.mapNodes.extendMap(this.map);\n\n    this.map.on('click', evt => this.mapClicked(evt));\n    this.map.on('pointermove', evt => this.mapMouseMoved(evt));\n    this.updateLayers();\n  }\n\n  @Input()\n  set applicationMode(applicationMode: ApplicationMode) {\n    OpenlayersHelper.CurrentApplicationMode = applicationMode;\n    console.log(\"EditAbleMapComponent::Set applicationMode - New App Mode: \" + OpenlayersHelper.CurrentApplicationMode.name);\n    this.updateLayers();\n  }\n\n  @Input()\n  set currentFloor(currentFloor: Floor) {\n    console.log(\"EditAbleMapComponent::Set currentFloor - New Floor: \" + JSON.stringify(currentFloor));\n    if (currentFloor && currentFloor.id >= 0) {\n      this.mapFloor.updateData(currentFloor.id);\n      this.mapRooms.updateData(currentFloor.id);\n      this.mapDoors.updateData(currentFloor.id);\n      this.mapEdges.updateData(currentFloor.id);\n      this.mapNodes.updateData(currentFloor.id);\n      this.mapRoute.setCurrentFloor(currentFloor.id);\n      this.mapBeacons.updateData(currentFloor.id);\n      this.mapPois.setCurrentFloor(currentFloor.id);\n      this.mapPois.updateData(currentFloor.id);\n    }\n  }\n\n  @Input()\n  set currentPoiType(poitype: PoiType) {\n    if (poitype) {\n      console.log(\"EditAbleMapComponent::Set currentPoiType: \" + JSON.stringify(poitype));\n      this.mapPois.setCurrentSelectedPoiType(poitype);\n    }\n  }\n\n  @Input()\n  set poiTypes(poitypes: PoiType[]) {\n    if (poitypes) {\n      console.log(\"EditAbleMapComponent::Set poiTypes: \" + JSON.stringify(poitypes));\n      this.mapPois.setPoiTypes(poitypes);\n    }\n  }\n\n  @Input()\n  set beaconEditMode(mode: BeaconEditMode) {\n    if (mode) {\n      this.mapBeacons.setBeaconEditMode(mode);\n    }\n  }\n\n  @Input()\n  set setBeaconSignals(signals: Signal[]) {\n    if (signals) {\n      this.mapBeacons.setBeaconSignals(signals);\n    }\n  }\n\n\n  @HostListener('window:keydown', ['$event'])\n  keyboardInput(event: KeyboardEvent) {\n    //console.log(\"KEYDOWN: \" + event.keyCode);\n\n    if (event.keyCode == 17 && !this.ctlPressed) {\n      this.ctlPressed = true;\n      this.mapNodes.ctlPressed();\n    }\n\n    if (event.keyCode == 16) {\n      this.mapRoute.shiftPressed();\n    }\n  }\n\n  /*\n    @HostListener('window:keypress', ['$event'])\n    keyboardKeyPress(event: KeyboardEvent) {\n      console.log(\"KEYPRESS: \" + event.keyCode);\n    }*/\n\n  @HostListener('window:keyup', ['$event'])\n  keyboardKeyUp(event: KeyboardEvent) {\n    //console.log(\"KEYUP: \" + event.keyCode);\n\n    if (event.keyCode == 17) {\n      this.ctlPressed = false;\n      this.mapNodes.ctlReleased();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES && event.keyCode == 46) //Entf Key\n    {\n      this.mapNodes.deleteSelectedNodes();\n      this.mapEdges.deleteSelectedEdges();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS && event.keyCode == 46) //Entf Key\n    {\n      this.mapPois.deleteSelectedPoi();\n    }\n\n    if (event.keyCode == 16) {\n      this.mapRoute.shiftReleased();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES && event.keyCode == 88) { //x Key\n      this.mapRoute.clear();\n    }\n  }\n\n  public addOverlay(overlay: any) {\n    this.map.addOverlay(overlay);\n  }\n\n  mapMouseMoved(evt): void {\n    //if (evt.dragging) {\n    //  return;\n    //}\n    let pixel = this.map.getEventPixel(evt.originalEvent);\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.mapNodes.mouseMoved(pixel, evt.coordinate, this.map);\n    }\n  }\n\n  mapClicked(evt): void {\n    //console.log(\"mapClicked called\");\n\n    //let lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\n    //console.log(\"Coord: \" + lonlat);\n    console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey + \" shift: \" + evt.originalEvent.shiftKey);\n    let pixel = this.map.getEventPixel(evt.originalEvent);\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.mapNodes.mouseClicked(evt.coordinate, this.map);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS) {\n      this.mapPois.mouseClicked(evt.coordinate, pixel, evt.originalEvent.ctrlKey, evt.originalEvent.shiftKey, this.map);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_BEACONS) {\n      this.mapBeacons.mouseClicked(evt.coordinate, pixel, this.map);\n    }\n  }\n\n  private updateLayers() {\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.setLayerActive(this.mapEdges, true);\r\n      this.setLayerActive(this.mapEditEdges, true);\r\n      this.setLayerActive(this.mapNodes, true);\r\n      this.setLayerActive(this.mapRoute, true);\r\n\r\n      this.setLayerActive(this.mapPois, false);\r\n\r\n      this.setLayerActive(this.mapBeacons, false);\r\n    }\r\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS) {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, true);\n\n      this.setLayerActive(this.mapBeacons, false);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_BEACONS) {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, false);\n\n      this.setLayerActive(this.mapBeacons, true);\n    }\n    else {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, false);\n\n      this.setLayerActive(this.mapBeacons, false);\n    }\n  }\n\n  private setLayerActive(layer: MapLayerBase, active: boolean) {\n    if (layer) {\n      layer.setActive(active);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/editablemap.component.ts","declare var ol: any;\r\n\r\nexport class MapBeaconStyles {\r\n\r\n  private static circle: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: new ol.style.Fill({\r\n      color: 'black'\r\n    }),\r\n    stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n  });\r\n\r\n  private static style: any = new ol.style.Style({\r\n    image: MapBeaconStyles.circle\r\n  });\r\n\r\n  private static maxSignalValue: number = -70;\r\n  private static minSignalValue: number = -90;\r\n\r\n\r\n  private static styles: any[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public static InitStyles() {\r\n    for (let i = 0; i <= MapBeaconStyles.getMaxIndex(); i++) {\r\n      let r = MapBeaconStyles.getRValue(i);\r\n      let g = MapBeaconStyles.getGValue(i);\r\n      let color = 'rgba(' + r + ',' + g + ',0,1)'\r\n      //console.log(\"MapBeaconStyles::InitStyles   \" + color);\r\n\r\n      let circle: any = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: new ol.style.Fill({\r\n          color: color\r\n        }),\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n      });\r\n\r\n      let style: any = new ol.style.Style({\r\n        image: circle\r\n      });\r\n\r\n      MapBeaconStyles.styles.push(style);\r\n    }\r\n  }\r\n\r\n  public static GetStyle(signalValue: number) {\r\n\r\n    if (!signalValue) {\r\n      return MapBeaconStyles.style;\r\n    }\r\n\r\n    if (signalValue < MapBeaconStyles.minSignalValue) {\r\n      return MapBeaconStyles.style;\r\n    }\r\n    if (signalValue > MapBeaconStyles.maxSignalValue) {\r\n      signalValue = MapBeaconStyles.maxSignalValue\r\n    }\r\n\r\n    let index = MapBeaconStyles.getIndex(signalValue);\r\n    //console.log(\"MapBeaconStyles::GetStyle   \" + index);\r\n    return MapBeaconStyles.styles[index];\r\n  }\r\n\r\n  private static getIndex(value) {\r\n    return Math.floor(value - MapBeaconStyles.minSignalValue);\r\n  }\r\n\r\n  private static getMaxIndex() {\r\n    return (MapBeaconStyles.maxSignalValue - MapBeaconStyles.minSignalValue);\r\n  }\r\n\r\n  private static getHalfIndex() {\r\n    return MapBeaconStyles.getMaxIndex() / 2.0;\r\n  }\r\n\r\n  private static getRValue(index) {\r\n    if (index <= MapBeaconStyles.getHalfIndex()) {\r\n      return 255;\r\n    }\r\n    let val = MapBeaconStyles.getMaxIndex() - index;\r\n    return Math.floor((val / MapBeaconStyles.getHalfIndex()) * 255);\r\n  }\r\n\r\n  private static getGValue(index) {\r\n    if (index >= MapBeaconStyles.getHalfIndex()) {\r\n      return 255;\r\n    }\r\n    return Math.floor((index / MapBeaconStyles.getHalfIndex()) * 255);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapBeaconStyles.ts","import { ViewChild, ElementRef, AfterViewInit, Input, Output } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\nimport { BeacondialogComponent } from '../beacondialog/beacondialog.component';\r\nimport {MdDialog, MdDialogRef} from '@angular/material';\r\nimport { Signal } from '../base/signal';\r\n\r\nimport { BeaconEditMode, BeaconEditModes, BeaconEditModeT } from '../base/beaconeditmode';\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapBeaconStyles } from './mapBeaconStyles';\r\nimport { EditablemapComponent } from './editablemap.component'\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapBeacons extends MapLayerBase {\r\n\r\n  private currentFloorId: number = -1;\r\n  private lastMouseClickPosition: number[] = null;\r\n\r\n  private editMode: BeaconEditMode = BeaconEditMode.CreateDefault();\r\n  private dialogRef: MdDialogRef<BeacondialogComponent> = null;\r\n\r\n  private currentSelectedBeacon: any = null;\r\n  private highlightFeaturePoint: any = null;\r\n  private highlightFeature: any = null;\r\n  private highlightFeatureAdded: boolean = false;\r\n\r\n  private beaconFeatures: Array<any> = [];\r\n\r\n  private lastOverlaysUsed = 0;\r\n  private beaconOverlays: any[] = null;\r\n  private beaconTextFields: any[] = null;\r\n\r\n  private static higlightObject: any = new ol.style.Circle({\r\n    radius: 8,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapBeacons.higlightObject\r\n  })\r\n\r\n  constructor(private dialog: MdDialog, private mapService: MapService, private beaconPopUpBaseElem: ElementRef, private mapComponent: EditablemapComponent) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    let styleFunction = function(feature) {\r\n      //let source = feature.get(\"source_node\").properties.level;\r\n\r\n\r\n      let style = MapBeaconStyles.GetStyle(feature.get(\"signal\"));\r\n      //console.log(\"MapBeacons::styleFunction   \" + feature.get(\"signal\") + \"###\" + JSON.stringify(style));\r\n      return style;\r\n    };\r\n\r\n    let res = OpenlayersHelper.CreateBasicLayer(feature => styleFunction(feature));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n\r\n    MapBeaconStyles.InitStyles();\r\n  }\r\n\r\n  public updateData(floorId: number): any {\r\n    this.currentFloorId = floorId;\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getBeacons(floorId).subscribe(beacons => this.showBeacons(beacons)));\r\n  }\r\n\r\n  public setBeaconEditMode(mode: BeaconEditMode) {\r\n    console.log(\"MapBeacons::setBeaconEditMode: \" + JSON.stringify(mode));\r\n    this.clearSelection();\r\n    this.editMode = mode;\r\n  }\r\n\r\n  public setBeaconSignals(signals: Signal[]) {\r\n\r\n    if (!this.beaconOverlays) {\r\n      this.initBeaconOverlays();\r\n    }\r\n\r\n    this.resetBeaconOverlays();\r\n\r\n    if (!signals) {\r\n      return;\r\n    }\r\n\r\n    let hSignal: Signal = undefined;\r\n    if (signals.length > 0) {\r\n      hSignal = signals[0];\r\n    }\r\n    for (let i = 1; i < signals.length; i++) {\r\n      if (signals[i].value > hSignal.value) {\r\n        hSignal = signals[i];\r\n      }\r\n    }\r\n    if (this.dialogRef && this.dialogRef.componentInstance) {\r\n      this.dialogRef.componentInstance.setNearestSignal(hSignal);\r\n    }\r\n\r\n    if (this.editMode.mode == BeaconEditModeT.DEFAULT) {\r\n      for (let i = 0; i < this.beaconFeatures.length; i++) {\r\n        this.beaconFeatures[i].setProperties({ signal: undefined });\r\n        for (let j = 0; j < signals.length; j++) {\r\n          if (this.beaconFeatures[i].get(\"name\") == signals[j].name) {\r\n\r\n            this.beaconFeatures[i].setProperties({ signal: signals[j].value });\r\n            this.setBeaconOverlay(i, this.beaconFeatures[i].getGeometry().getCoordinates(), signals[j].name, signals[j].value, signals[j].origSignal);\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private setBeaconOverlay(index: number, position: number[], name: string, value: number, orgvalue: number) {\r\n\r\n    console.log(\"MapBeacons::setBeaconOverlay: \" + index + \"#\" + JSON.stringify(position));\r\n\r\n    if (index < this.beaconOverlays.length && this.isActive) {\r\n      this.beaconOverlays[index].setPosition(position);\r\n      this.beaconTextFields[index].innerHTML = name + \":\" + value.toFixed(2) + \"/\" + orgvalue.toFixed(0);\r\n      if (index > this.lastOverlaysUsed) {\r\n        this.lastOverlaysUsed = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  private resetBeaconOverlays() {\r\n\r\n    if (!this.beaconOverlays) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < this.beaconOverlays.length && i <= this.lastOverlaysUsed; i++) {\r\n      this.beaconOverlays[i].setPosition(undefined);\r\n      this.beaconTextFields[i].innerHTML = \"\";\r\n    }\r\n    this.lastOverlaysUsed = 0;\r\n  }\r\n\r\n  private initBeaconOverlays() {\r\n\r\n    let base = this.beaconPopUpBaseElem.nativeElement;\r\n    //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(this.beaconPopUpBaseElem.nativeElement));\r\n    let childs = base.children;\r\n    let elemCount = childs.length;\r\n    console.log(\"MapBeacons::initBeaconOverlays: \" + elemCount);\r\n    this.beaconOverlays = new Array(elemCount);\r\n    this.beaconTextFields = new Array(elemCount);\r\n\r\n    let overlayDivs = [];\r\n\r\n    for (let i = 0; i < elemCount; i++) {\r\n\r\n      let OverlayDiv = childs[i].children[0];\r\n      overlayDivs.push(OverlayDiv);\r\n      //console.log(\"MapBeacons::initBeaconOverlays: NEW OVERLAY \" + i + \"#\" + OverlayDiv.className + \"#\");\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(OverlayDiv));\r\n      let innerDiv = OverlayDiv.children[0];\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(innerDiv));\r\n      let span = innerDiv.children[0];\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + innerDiv.children.length);\r\n      this.beaconTextFields[i] = span;\r\n    }\r\n\r\n    for (let i = 0; i < overlayDivs.length; i++) {\r\n      //new ol.Overlay(/** @type {olx.OverlayOptions} */({\r\n      this.beaconOverlays[i] = new ol.Overlay(({\r\n        element: overlayDivs[i],\r\n        autoPan: false\r\n      }));\r\n\r\n      this.mapComponent.addOverlay(this.beaconOverlays[i]);\r\n    }\r\n  }\r\n\r\n  public mouseClicked(position: any, pixelPos: any, map: any) {\r\n\r\n    this.lastMouseClickPosition = null;\r\n\r\n    if (this.currentFloorId >= 0) {\r\n\r\n      //   this.clearSelection();\r\n\r\n      if (this.editMode.mode == BeaconEditModeT.ADD) {\r\n        this.CreateNewBeacon(position);\r\n      }\r\n      else {\r\n\r\n        let isSelected = this.selectBeacon(pixelPos, map, true);\r\n\r\n        if (isSelected) {\r\n          isSelected = this.selectBeacon(pixelPos, map, false);\r\n          if (isSelected) {\r\n            if (!this.highlightFeature) {\r\n              this.initHighlightFeatureOverlay(map);\r\n            }\r\n            this.highlightFeaturePoint.setCoordinates(this.currentSelectedBeacon.getGeometry().getCoordinates());\r\n            this.layerSource.addFeature(this.highlightFeature);\r\n            this.highlightFeatureAdded = true;\r\n            this.showSelectedBeaconInfo();\r\n          }\r\n        }\r\n        else if (this.editMode.mode == BeaconEditModeT.MOVE && this.currentSelectedBeacon) {\r\n          this.moveCurrentBeacon(position);\r\n        }\r\n        else {\r\n          this.clearSelection();\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  public clearSelection() {\r\n\r\n    if (this.highlightFeature && this.highlightFeatureAdded) {\r\n      this.layerSource.removeFeature(this.highlightFeature);\r\n      this.highlightFeatureAdded = false;\r\n    }\r\n\r\n    this.currentSelectedBeacon = null;\r\n  }\r\n\r\n  private selectBeacon(pixelPos: any, map: any, testOnly: boolean): boolean {\r\n\r\n    //console.log(\"MapBeacons::selectBeacon!\" + JSON.stringify(pixelPos));\r\n\r\n    if (!testOnly) {\r\n      this.clearSelection();\r\n    }\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n    feature = map.forEachFeatureAtPixel(pixelPos, function(feature) {\r\n      return feature;\r\n    }, options);\r\n\r\n    if (feature) {\r\n      console.log(\"MapBeacons::selectBeacon Beacon selected! - \" + feature.get(\"name\"));\r\n      if (!testOnly) {\r\n        this.currentSelectedBeacon = feature;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private showSelectedBeaconInfo() {\r\n    console.log(\"MapBeacons::showSelectedBeaconInfo!\");\r\n  }\r\n\r\n  private moveCurrentBeacon(position: any) {\r\n    console.log(\"MapBeacons::moveCurrentBeacon... \" + JSON.stringify(position));\r\n\r\n    if (this.currentSelectedBeacon) {\r\n      this.currentSelectedBeacon.getGeometry().setCoordinates(position);\r\n      this.highlightFeature.getGeometry().setCoordinates(position);\r\n\r\n      this.mapService.updateBeacon((new ol.format.GeoJSON()).writeFeature(this.currentSelectedBeacon), this.currentSelectedBeacon.getId()).\r\n        subscribe(\r\n        poi => this.beaconUpdated(poi),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n\r\n    this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n\r\n    this.highlightFeature = new ol.Feature({\r\n      geometry: this.highlightFeaturePoint,\r\n      name: 'SelectedPoi'\r\n    });\r\n\r\n    this.highlightFeature.setStyle(MapBeacons.higlightStyle);\r\n  }\r\n\r\n  private beaconUpdated(beacon: any) {\r\n    console.log(\"MapBeacons::beaconUpdated Beacon Updated! - \" + JSON.stringify(beacon));\r\n  }\r\n\r\n  private showBeacons(features: any): void {\r\n\r\n    this.clearSelection();\r\n    this.clear();\r\n    this.resetBeaconOverlays();\r\n    //console.log(\"showBeacons! - \" + JSON.stringify(features));\r\n\r\n    /*\r\n        let dummy: Object =\r\n          {\r\n            \"type\": \"FeatureCollection\", \"features\":\r\n            [{ \"id\": 1, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722109.0870171075, 5955257.0827844525] }, \"properties\": { \"mac\": \"00-00-00-00-00-01\", \"name\": \"N1\", \"deployed\": \"2017-06-29T10:18:46.040277Z\", \"seen\": \"2017-06-29T10:18:46.040319Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } },\r\n              { \"id\": 2, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722094.6153389667, 5955238.592188362] }, \"properties\": { \"mac\": \"00-00-00-00-00-02\", \"name\": \"namexyz\", \"deployed\": \"2017-06-29T10:22:07.677524Z\", \"seen\": \"2017-06-29T10:22:07.677560Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } }]\r\n          };\r\n    */\r\n    this.beaconFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    this.layerSource.addFeatures(this.beaconFeatures);\r\n  }\r\n\r\n\r\n  private beaconDialogClosed(res: string) {\r\n    console.log(\"MapBeacons::beaconDialogClosed: \" + res);\r\n\r\n    if (res && res == \"Save\") {\r\n      console.log(\"MapBeacons::beaconDialogClosed: Save Beacon...\");\r\n      if (this.dialogRef && this.dialogRef.componentInstance) {\r\n        let dialogComp: BeacondialogComponent = this.dialogRef.componentInstance;\r\n        if (dialogComp.name && dialogComp.name.length > 0) {\r\n          console.log(\"MapBeacons::beaconDialogClosed: Save Beacon: \" + dialogComp.mac + \"/\" + dialogComp.name);\r\n          this.addOrUpdateBeacon(dialogComp.name);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private CreateNewBeacon(position: any) {\r\n    console.log(\"MapBeacons::CreateNewBeacon: Add new beacon\" + JSON.stringify(position));\r\n    this.lastMouseClickPosition = position;\r\n    this.dialogRef = this.dialog.open(BeacondialogComponent);\r\n    this.dialogRef.componentInstance.setMacAndName(\"\", \"\");\r\n    this.dialogRef.afterClosed().subscribe(res => this.beaconDialogClosed(res));\r\n  }\r\n\r\n  private addOrUpdateBeacon(name: string) {\r\n    if (this.currentFloorId < 0) {\r\n      return;\r\n    }\r\n\r\n    if (this.lastMouseClickPosition) {\r\n      //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n      let center = {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [this.lastMouseClickPosition[0], this.lastMouseClickPosition[1]]\r\n      };\r\n\r\n      console.log(\"MapBeacons ADD: #\" + name + \"#\" + this.currentFloorId + \"#\" + JSON.stringify(center));\r\n\r\n      this.mapService.addBeacon(this.currentFloorId, center, name).\r\n        subscribe(\r\n        beacon => this.updateAddBeacon(beacon),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private updateAddBeacon(beacon: any) {\r\n    console.log(\"updateAddBeacon! - \" + JSON.stringify(beacon));\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(beacon));\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapBeacons.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapDoors extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(212, 209, 203,1.0)'\r\n      })\r\n    }));\r\n    res.layer.set('maxResolution', 0.2);\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorId: number) {\r\n    console.log(\"MapDoors::showFloor - \" + floorId);\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyDoors()));\r\n\r\n    //TODO: fr AlLE!\r\n    //Observable\r\n\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getDoors(floorId).subscribe(\r\n        doors => this.showDoors(doors),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  private showDoors(features: any) {\r\n    console.log(\"MapDoors::showDoors\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private getDummyDoors(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [\r\n                [1722150.9832473625, 5955259.831606609],\r\n                [1722152.513480839, 5955262.780105258],\r\n                [1722153.8944232445, 5955262.406877581],\r\n                [1722152.924031284, 5955260.727353034],\r\n                [1722150.9832473625, 5955259.831606609]\r\n              ]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapDoors.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapNodesStyles } from './mapNodesStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapEdges extends MapLayerBase {\r\n  private highlightedFeature: any = null;\r\n  private highlightFeatureOverlay: any = null;\r\n\r\n  private selectFeature: any = null;\r\n  private selectFeatureOverlay: any = null;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      stroke: new ol.style.Stroke({\r\n        color: 'black',\r\n        width: 4,\r\n        lineDash: [4, 8]\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorId: number): any {\r\n    this.subscribeNewRequest(\r\n      this.mapService.getNavigationEdges(floorId).subscribe(\r\n        edges => this.showEdges(edges),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  public getHighlightedEdgeId(): any {\r\n    if (this.highlightedFeature) {\r\n      return this.highlightedFeature.getId();\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getEdgeForId(id: number): any {\r\n    return this.layerSource.getFeatureById(id);\r\n  }\r\n\r\n  public updateMouseMoved(position: any, map: any, allowHighlight: boolean) {\r\n    if (this.highlightFeatureOverlay === null) {\r\n      this.initHighlightFeatureOverlay(map);\r\n    }\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n\r\n    if (allowHighlight) {\r\n      feature = map.forEachFeatureAtPixel(position, function(feature) {\r\n        return feature;\r\n      }, options);\r\n    }\r\n\r\n    if (feature !== this.highlightedFeature) {\r\n      if (this.highlightedFeature) {\r\n        this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n      }\r\n      if (feature) {\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n        this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n      }\r\n      this.highlightedFeature = feature;\r\n    }\r\n  }\r\n\r\n  public updateMouseClicked(map: any) {\r\n    //console.log(\"mapEdges::updateMouseClicked...\")\r\n    if (this.highlightedFeature) {\r\n      if (!this.selectFeatureOverlay) {\r\n        this.initSelectFeatureOverlay(map);\r\n      }\r\n\r\n      this.selectFeatureOverlay.getSource().clear();\r\n      this.selectFeature = this.highlightedFeature;\r\n      this.selectFeatureOverlay.getSource().addFeature(this.selectFeature);\r\n      console.log(\"mapEdges::updateMouseClicked Select Edge: \" + this.selectFeature.getId());\r\n    }\r\n    else {\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  public clearSelection() {\r\n    if (this.selectFeatureOverlay) {\r\n      console.log(\"mapEdges::clearSelection...\")\r\n      this.selectFeatureOverlay.getSource().clear();\r\n    }\r\n  }\r\n\r\n  public deleteSelectedEdges() {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    if (this.selectFeature)\r\n      this.mapService.deleteEdge(this.selectFeature.getId()).subscribe(\r\n        edge => this.edgeDeleted(edge),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  public deleteEdgeById(id: number) {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    this.mapService.deleteEdge(id).subscribe(\r\n      edge => this.edgeDeleted(edge),\r\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  public addNewEdge(start, end) {\r\n    console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n\r\n    if (!start || !end) {\r\n      return;\r\n    }\r\n\r\n    let sourceId = start.getId();\r\n    let destinationId = end.getId();\r\n    if (sourceId == destinationId) {\r\n      return;\r\n    }\r\n\r\n    let p1 = start.getGeometry().getCoordinates();\r\n    let p2 = end.getGeometry().getCoordinates();\r\n    let line = new ol.geom.LineString([p1, p2]);\r\n    let distance = line.getLength();\r\n\r\n    let path = {\r\n      'type': 'LineString',\r\n      'coordinates': [\r\n        p1,\r\n        p2\r\n      ]\r\n    }\r\n\r\n    this.mapService.addEdge(sourceId, destinationId, distance, path).\r\n      subscribe(\r\n      edge => this.edgeAdded(edge),\r\n      error => console.log(\"ERROR: \" + <any>error));\r\n  }\r\n\r\n  public getEdgesForNode(nodeId: number): any[] {\r\n    return this.layerSource.getFeatures().filter(\r\n      feature => feature.get(\"source\") == nodeId || feature.get(\"destination\") == nodeId\r\n    )\r\n  }\r\n\r\n  public removeEdgesForNode(nodeId: number) {\r\n    console.log(\"MapEdges::removeEdgesForNode - \" + nodeId);\r\n    let edges = this.getEdgesForNode(nodeId);\r\n    for (let edge of edges) {\r\n      this.layerSource.removeFeature(edge);\r\n    }\r\n  }\r\n\r\n  private edgeDeleted(edge: any): void {\r\n    let feature = this.layerSource.getFeatureById(edge.id);\r\n    if (feature) {\r\n      this.layerSource.removeFeature(feature);\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  private edgeAdded(edge: any): void {\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n    this.highlightFeatureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'red',\r\n          width: 4\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  private initSelectFeatureOverlay(map: any) {\r\n    console.log(\"mapEdges::initSelectFeatureOverlay...\")\r\n    this.selectFeatureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'rgba(0,190,255,0.8)',\r\n          width: 6\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private showEdges(features: any): void {\r\n    console.log(\"MapEdges::showEdges\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapEdges.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\nimport { Point } from '../base/point'\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapNodesStyles } from './mapNodesStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapEditEdges extends MapLayerBase {\r\n\r\n  private multiLineFeature: any;\r\n  private multiLineString: any;\r\n  private lineAr: any[];\r\n\r\n  private startPositions: Point[] = null;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      stroke: new ol.style.Stroke({\r\n        color: 'gray',\r\n        width: 3\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n\r\n    this.lineAr = [];\r\n    this.multiLineString = new ol.geom.MultiLineString(this.lineAr);\r\n\r\n    this.multiLineFeature = new ol.Feature({\r\n      geometry: this.multiLineString,\r\n      name: 'Lines'\r\n    });\r\n\r\n    this.layerSource.addFeature(this.multiLineFeature);\r\n\r\n    //this.setNewLine([1722194.7183594021, 5955141.12279422], [1722055.5790813519, 5955315.494764996]);\r\n\r\n  }\r\n\r\n  public setNewStartPos(p: number[]) {\r\n    let point = new Point();\r\n    point.createFromAr(p);\r\n    this.startPositions = [point];\r\n  }\r\n\r\n  public setNewStartPositionsForEdgeFeatures(startnodeId: number, edges: any[]) {\r\n    this.startPositions = [];\r\n    for (let edge of edges) {\r\n      let pos = edge.getGeometry().getFirstCoordinate();\r\n      if (edge.get(\"source\") == startnodeId) {\r\n        pos = edge.getGeometry().getLastCoordinate();\r\n      }\r\n\r\n      let p = new Point();\r\n      p.createFromAr(pos);\r\n      this.startPositions.push(p);\r\n    }\r\n  }\r\n\r\n  public setNewEndPos(p: number[]) {\r\n    //console.log(\"MapEditEdges::setNewEndPos - \" + p[0] + \", \" + p[1]);\r\n    if (this.startPositions != null) {\r\n      this.lineAr = [];\r\n      for (let pos of this.startPositions) {\r\n        this.lineAr.push([pos.getAr(), p]);\r\n      }\r\n      this.multiLineString.setCoordinates(this.lineAr);\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    this.startPositions = null;\r\n    this.lineAr = [];\r\n    this.multiLineString.setCoordinates(this.lineAr);\r\n  }\r\n\r\n  public setNewLine(p1: number[], p2: number[]) {\r\n    console.log(\"MapEditEdges::setNewLine - \");\r\n\r\n    this.lineAr = [];\r\n    this.lineAr.push([p1, p2]);\r\n    this.multiLineString.setCoordinates(this.lineAr);\r\n  }\r\n\r\n  public updateEdges(edges: any[], updatedNode: any) {\r\n    let coord = updatedNode.getGeometry().getCoordinates();\r\n\r\n    for (let edge of edges) {\r\n      //console.log(\"Update Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n      let geo = edge.getGeometry().getCoordinates();\r\n      if (edge.get(\"source\") == updatedNode.getId()) {\r\n        geo[0] = coord;\r\n      }\r\n      else {\r\n        geo[geo.length - 1] = coord;\r\n      }\r\n      edge.getGeometry().setCoordinates(geo);\r\n      this.mapService.updateEdge(new ol.format.GeoJSON().writeFeature(edge), edge.getId()).\r\n        subscribe(\r\n        node => this.edgeUpdated(node),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n      //console.log(\"   New Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n    }\r\n  }\r\n\r\n  private edgeUpdated(edge: any) {\r\n    //Nothing todo\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapEditEdges.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapFloor extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(64,64,64,1.0)'\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorid: number) {\r\n\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getFloors(floorid).subscribe(\r\n        buildings => this.showFloors(buildings),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyFloor()));\r\n  }\r\n\r\n  private showFloors(features: any) {\r\n    console.log(\"MapFloors::showFloors\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private getDummyFloor(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [\r\n                [1722127.851590177, 5955257.966158812],\r\n                [1722184.2836149659, 5955368.142969113],\r\n                [1722202.4971256119, 5955359.185504861],\r\n                [1722195.33115421, 5955345.450726341],\r\n                [1722198.914139911, 5955343.360651349],\r\n                [1722177.4162257058, 5955302.156315789],\r\n                [1722173.2360757214, 5955303.649226498],\r\n                [1722145.169354398, 5955249.307276702],\r\n                [1722127.851590177, 5955257.966158812]\r\n              ]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapFloor.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { MapEditEdges } from './mapEditEdges';\r\nimport { MapEdges } from './mapEdges';\r\nimport { MapRoute } from './mapRoute';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapNodesStyles } from './mapNodesStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapNodes extends MapLayerBase {\r\n  private highlightedFeature: any;\r\n  private highlightFeatureOverlay: any = null;\r\n\r\n  private select: any;\r\n  private modify: any;\r\n\r\n  private displayEditLines: boolean = false;\r\n  private isModifying: boolean = false;\r\n  private lastMousePostion: number[] = [0, 0];\r\n\r\n  private currentFloorId: number = -1;\r\n  private ctrlPressed: boolean = false;\r\n  private lastSelectedNode: any = null;\r\n\r\n  constructor(private mapService: MapService,\r\n    private mapEditEdges: MapEditEdges,\r\n    private mapEdges: MapEdges,\r\n    private mapRoute: MapRoute) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let styleFunction = function(feature) {\r\n      if (feature.get('ctype') == 'node') {\r\n        return MapNodesStyles.VirtualNodeStyle;\r\n      }\r\n      if (feature.get('ctype') == 'point of interest instance') {\r\n        return MapNodesStyles.PoiNodeStyle;\r\n      }\r\n      return MapNodesStyles.DefaultNodeStyle;\r\n    };\r\n\r\n    let res = OpenlayersHelper.CreateBasicLayer(styleFunction);\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public extendMap(map: any): void {\r\n    this.select = new ol.interaction.Select({\r\n      wrapX: false,\r\n      layers: (layer => this.testSelect(layer)),\r\n      toggleCondition: ol.events.condition.never\r\n    });\r\n\r\n    map.addInteraction(this.select);\r\n\r\n    this.modify = new ol.interaction.Modify({\r\n      features: this.select.getFeatures(),\r\n      condition: (evt => this.testModify(evt))\r\n    });\r\n\r\n    map.addInteraction(this.modify);\r\n\r\n    this.select.on('select', evt => this.featureSelected(evt));\r\n    this.modify.on('modifystart', evt => this.featureModifyStart(evt));\r\n    this.modify.on('modifyend', evt => this.featureModified(evt));\r\n  }\r\n\r\n  public updateData(floorId: number): any {\r\n    this.currentFloorId = floorId;\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getNavigationNodes(floorId).subscribe(nodes => this.showNodes(nodes)));\r\n  }\r\n\r\n  public mouseMoved(position: any, worldposition: any, map: any) {\r\n    this.lastMousePostion = worldposition;\r\n\r\n    if (this.highlightFeatureOverlay === null) {\r\n      this.initHighlightFeatureOverlay(map);\r\n    }\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = map.forEachFeatureAtPixel(position, function(feature) {\r\n      return feature;\r\n    }, options);\r\n\r\n    if (feature !== this.highlightedFeature) {\r\n      if (this.highlightedFeature) {\r\n        this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n      }\r\n      if (feature) {\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n        this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n      }\r\n      this.highlightedFeature = feature;\r\n    }\r\n\r\n    this.mapEdges.updateMouseMoved(position, map, this.highlightedFeature == null);\r\n\r\n    if (this.displayEditLines || this.isModifying) {\r\n      this.mapEditEdges.setNewEndPos(worldposition);\r\n    }\r\n  }\r\n\r\n  public mouseClicked(position: any, map: any) {\r\n    if (this.displayEditLines) {\r\n\r\n      let selectedFeature = null;\r\n      let selectedFeatures = this.select.getFeatures().getArray();\r\n      if (selectedFeatures.length >= 1) {\r\n        selectedFeature = selectedFeatures[0];\r\n      }\r\n\r\n      if (this.highlightedFeature) {\r\n        //Add edge to existing Node\r\n        this.selectNewNode(this.highlightedFeature);\r\n        this.addNewEdge(selectedFeature, this.highlightedFeature);\r\n      }\r\n      else {\r\n        this.addNewNodeOnPos(selectedFeature, position);\r\n      }\r\n    }\r\n    else if (this.lastSelectedNode && this.highlightedFeature && this.ctrlPressed) {\r\n      this.selectNewNode(this.highlightedFeature);\r\n      this.addNewEdge(this.lastSelectedNode, this.highlightedFeature);\r\n    }\r\n    else if (!this.highlightedFeature) {\r\n      this.mapEdges.updateMouseClicked(map);\r\n    }\r\n    else {\r\n      this.mapEdges.clearSelection();\r\n    }\r\n  }\r\n\r\n  public ctlPressed() {\r\n    this.ctrlPressed = true;\r\n    let selectedFeatures = this.select.getFeatures().getArray();\r\n    if (selectedFeatures.length >= 1) {\r\n      this.displayEditLines = true;\r\n      let coord = selectedFeatures[0].getGeometry().getCoordinates();\r\n      console.log(\"Set Startpoint: \" + JSON.stringify(coord));\r\n      this.mapEditEdges.setNewStartPos(coord);\r\n      this.mapEditEdges.setNewEndPos(this.lastMousePostion);\r\n    }\r\n  }\r\n\r\n  public ctlReleased() {\r\n    this.ctrlPressed = false;\r\n    console.log(\"ctlReleased...\");\r\n    this.displayEditLines = false;\r\n    this.mapEditEdges.clear();\r\n  }\r\n\r\n  private updateAddNode(node: any, selectedStartNodeFeature: any,\r\n    edgeToSplitId: number) {\r\n    console.log(\"updateAddNode! - \" + JSON.stringify(node));\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(node));\r\n    let endNode = this.layerSource.getFeatureById(node.id);\r\n\r\n    this.selectNewNode(endNode);\r\n\r\n    if (selectedStartNodeFeature) {\r\n      this.addNewEdge(selectedStartNodeFeature, endNode);\r\n\r\n      console.log(\"Split Edge?\");\r\n      if (edgeToSplitId >= 0) {\r\n        let edgeToSplit = this.mapEdges.getEdgeForId(edgeToSplitId);\r\n        if (edgeToSplit) {\r\n          console.log(\"Split Edge: \" + edgeToSplit.getId());\r\n          let node1 = this.layerSource.getFeatureById(edgeToSplit.get(\"source\"));\r\n          let node2 = this.layerSource.getFeatureById(edgeToSplit.get(\"destination\"));\r\n          this.mapEdges.deleteEdgeById(edgeToSplit.getId());\r\n          if (node1) {\r\n            this.addNewEdge(node1, endNode);\r\n          }\r\n          if (node2) {\r\n            this.addNewEdge(node2, endNode);\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  private selectNewNode(node: any) {\r\n    let selectedFeatures = this.select.getFeatures();\r\n    selectedFeatures.clear();\r\n    selectedFeatures.push(node);\r\n    let coord = node.getGeometry().getCoordinates();\r\n    this.mapEditEdges.setNewStartPos(coord);\r\n    this.mapEditEdges.setNewEndPos(coord);\r\n  }\r\n\r\n  private addNewEdge(start, end) {\r\n    //console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n    this.mapEdges.addNewEdge(start, end);\r\n  }\r\n\r\n  public deleteSelectedNodes() {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    for (let feature of this.select.getFeatures().getArray()) {\r\n      if (feature.get('ctype') == 'node') {\r\n        this.mapService.deleteNode(feature.getId()).subscribe(\r\n          edge => this.nodeDeleted(edge),\r\n          error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n      }\r\n      else {\r\n        console.log(\"Not allowed to delete feature of type: \" + feature.get('ctype'));\r\n      }\r\n    }\r\n  }\r\n\r\n  private nodeDeleted(node: any): void {\r\n    console.log(\"edgeDeleted...\" + JSON.stringify(node));\r\n    this.mapEdges.removeEdgesForNode(node.id);\r\n    let feature = this.layerSource.getFeatureById(node.id);\r\n    if (feature) {\r\n      this.layerSource.removeFeature(feature);\r\n      let selected_collection = this.select.getFeatures();\r\n      selected_collection.clear();\r\n    }\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private testSelect(layer: any) {\r\n    if (this.testLayer(layer) &&\r\n      (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private testModify(evt: any) {\r\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\r\n      let selectedFeatures = this.select.getFeatures().getArray();\r\n      if (selectedFeatures.length > 0 && selectedFeatures[0].get('ctype') == 'node') {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private addNewNodeOnPos(selectedFeature: any, position: number[]) {\r\n\r\n    if (this.currentFloorId < 0) {\r\n      return;\r\n    }\r\n\r\n    //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n    let center = {\r\n      \"type\": \"Point\",\r\n      \"coordinates\": [position[0], position[1]]\r\n    };\r\n\r\n    //console.log(\"mouseClickedCtrl! - OBJ: \" + JSON.stringify(center));\r\n\r\n    let highlightedEdgeId = this.mapEdges.getHighlightedEdgeId();\r\n    console.log(\"mouseClicked Add new node: \" + JSON.stringify(center) +\r\n      \"   SplitEdgeID: \" + highlightedEdgeId);\r\n    //Add edge to new Node\r\n    this.mapService.addNode(this.currentFloorId, center).\r\n      subscribe(\r\n      node => this.updateAddNode(node, selectedFeature, highlightedEdgeId),\r\n      error => console.log(\"ERROR: \" + <any>error));\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n    this.highlightFeatureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: MapNodesStyles.higlightStyle\r\n    });\r\n  }\r\n\r\n  private showNodes(features: any): void {\r\n\r\n    this.clear();\r\n    //console.log(\"showNodes! - \" + JSON.stringify(features));\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private featureSelected(evt: any) {\r\n    let features = evt.selected;\r\n    if (features.length > 0) {\r\n      console.log(\"Feature selected => \" + features[0].getId());\r\n      this.lastSelectedNode = features[0];\r\n      if (this.mapRoute.doShowRoute()) {\r\n        this.mapRoute.generateRoute(features[0].getId());\r\n      }\r\n      this.mapRoute.setNewStartPos(features[0].getId());\r\n    }\r\n  }\r\n\r\n  private featureModified(evt) {\r\n    console.log(\"MapNodes::featureModifyEnd...\");\r\n    this.isModifying = false;\r\n    this.mapEditEdges.clear();\r\n    let features = evt.features.getArray();\r\n    for (let feature of features) {\r\n      console.log(\"Feature \" + feature.getId() + \" modified!\");\r\n      this.mapService.updateNode((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n        subscribe(\r\n        node => this.nodeUpdated(node),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n\r\n      let edges = this.mapEdges.getEdgesForNode(feature.getId());\r\n      this.mapEditEdges.updateEdges(edges, feature);\r\n    }\r\n  }\r\n\r\n  private featureModifyStart(evt) {\r\n    console.log(\"MapNodes::featureModifyStart...\");\r\n    let selFeatures = this.select.getFeatures().getArray();\r\n    console.log(\"Feature selected: \" + selFeatures.length);\r\n    if (selFeatures.length >= 1) {\r\n\r\n      let edges = this.mapEdges.getEdgesForNode(selFeatures[0].getId());\r\n      console.log(\"Feature selected: \" + selFeatures[0].getId() + \"  Edges: \" + edges.length);\r\n      this.mapEditEdges.setNewStartPositionsForEdgeFeatures(selFeatures[0].getId(), edges);\r\n    }\r\n\r\n    this.isModifying = true;\r\n  }\r\n\r\n  private nodeUpdated(node: any) {\r\n    console.log(\"node Updated! - \" + JSON.stringify(node));\r\n  }\r\n\r\n  public clearSelection() {\r\n    let selectedFeatures = this.select.getFeatures();\r\n    selectedFeatures.clear();\r\n    this.displayEditLines = false;\r\n    this.isModifying = false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapNodes.ts","declare var ol: any;\r\n\r\nexport class MapNodesStyles {\r\n\r\n  private static higlightImage: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 3 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.higlightImage\r\n  })\r\n\r\n\r\n  public static DefaultNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'black', width: 2 })\r\n  });\r\n\r\n  public static DefaultNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.DefaultNodeImage\r\n  })\r\n\r\n\r\n  public static VirtualNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'green', width: 2 })\r\n  });\r\n\r\n  public static VirtualNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.VirtualNodeImage\r\n  })\r\n\r\n  public static PoiNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 2 })\r\n  });\r\n\r\n  public static PoiNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.PoiNodeImage\r\n  })\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapNodesStyles.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport {PoiType} from '../base/poitype'\r\nimport {Poi} from '../base/poi'\r\n\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapPois extends MapLayerBase {\r\n\r\n  private poitypes: PoiType[] = null;\r\n  private currentPoiType: PoiType = null;\r\n  private currentFloor: number = -1;\r\n\r\n  private iconStyleMap: { [id: number]: any } = null;\r\n\r\n  private currentSelectedPoi: any = null;\r\n  private highlightFeaturePoint: any = null;\r\n  private highlightFeature: any = null;\r\n  private featureAdded: boolean = false;\r\n\r\n\r\n  private static higlightObject: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapPois.higlightObject\r\n  })\r\n\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    this.layerSource = new ol.source.Vector({\r\n      features: []\r\n    });\r\n\r\n    this.layer = new ol.layer.Vector({\r\n      source: this.layerSource\r\n    });\r\n  }\r\n\r\n  public updateData(currentFloor: number): any {\r\n    if (this.iconStyleMap) {\r\n      this.clear();\r\n      this.subscribeNewRequest(\r\n        this.mapService.getPoiInstances(currentFloor).subscribe(\r\n          buildings => this.showPois(buildings),\r\n          error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n    }\r\n  }\r\n\r\n  public setPoiTypes(poiTypes: PoiType[]) {\r\n    this.poitypes = poiTypes;\r\n    this.iconStyleMap = {};\r\n\r\n    for (let i = 0; i < poiTypes.length; i++) {\r\n      let iconStyle = new ol.style.Style({\r\n        image: new ol.style.Icon(/** @type {olx.style.IconOptions} */({\r\n          anchor: [0.5, 1],\r\n          anchorXUnits: 'fraction',\r\n          anchorYUnits: 'fraction',\r\n          src: poiTypes[i].iconurl\r\n        }))\r\n      });\r\n\r\n      this.iconStyleMap[poiTypes[i].id] = iconStyle;\r\n    }\r\n\r\n    if (this.currentFloor >= 0) {\r\n      this.updateData(this.currentFloor);\r\n    }\r\n  }\r\n\r\n  public setCurrentSelectedPoiType(poiType: PoiType) {\r\n    this.currentPoiType = poiType;\r\n  }\r\n\r\n  public setCurrentFloor(layer: number) {\r\n    console.log(\"MapPois::setCurrentFloor\");\r\n    this.currentFloor = layer;\r\n  }\r\n\r\n  public mouseClicked(position: any, pixelPos: any, strgPressed: boolean, shiftPressed: boolean, map: any) {\r\n    console.log(\"MapPois::mouseClicked\");\r\n\r\n    if (strgPressed && this.currentPoiType && this.currentFloor >= 0) {\r\n      this.clearSelection();\r\n      this.createNewPoi(position);\r\n    }\r\n    else if (this.currentFloor >= 0) {\r\n      if (this.currentSelectedPoi && shiftPressed) {\r\n        console.log(\"MapPois::mouseClicked Move: \" + this.currentSelectedPoi.getId());\r\n        this.moveCurrentPoi(position);\r\n      }\r\n      else if (this.selectPoi(pixelPos, map)) {\r\n        if (!this.highlightFeature) {\r\n          this.initHighlightFeatureOverlay(map);\r\n        }\r\n        this.highlightFeaturePoint.setCoordinates(this.currentSelectedPoi.getGeometry().getCoordinates());\r\n        this.layerSource.addFeature(this.highlightFeature);\r\n        this.featureAdded = true;\r\n        console.log(\"MapPois::mouseClicked Select: \" + this.currentSelectedPoi.getId());\r\n      }\r\n      else {\r\n        this.clearSelection();\r\n      }\r\n    }\r\n  }\r\n\r\n  public deleteSelectedPoi() {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    if (this.currentSelectedPoi) {\r\n      this.mapService.deletePoi(this.currentSelectedPoi.getId()).subscribe(\r\n        edge => this.poiDeleted(edge),\r\n        error => console.log(\"ERROR deletePoi: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private poiDeleted(poi: any): void {\r\n    console.log(\"poiDeleted...\" + JSON.stringify(poi));\r\n    let feature = this.layerSource.getFeatureById(poi.id);\r\n    if (feature) {\r\n      this.layerSource.removeFeature(feature);\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  private moveCurrentPoi(position: any) {\r\n    console.log(\"MapPois::movePoi... \" + JSON.stringify(position));\r\n\r\n    if (this.currentSelectedPoi) {\r\n      this.currentSelectedPoi.getGeometry().setCoordinates(position);\r\n      this.highlightFeature.getGeometry().setCoordinates(position);\r\n      this.mapService.updatePoi((new ol.format.GeoJSON()).writeFeature(this.currentSelectedPoi), this.currentSelectedPoi.getId()).\r\n        subscribe(\r\n        poi => this.poiUpdated(poi),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private poiUpdated(poi: any) {\r\n    console.log(\"Poi Updated! - \" + JSON.stringify(poi));\r\n  }\r\n\r\n\r\n  private selectPoi(pixelPos: any, map: any): boolean {\r\n    this.clearSelection();\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n    feature = map.forEachFeatureAtPixel(pixelPos, function(feature) {\r\n      return feature;\r\n    }, options);\r\n\r\n    if (feature) {\r\n      this.currentSelectedPoi = feature;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private createNewPoi(position: any) {\r\n    let center = {\r\n      \"type\": \"Point\",\r\n      \"coordinates\": [position[0], position[1]]\r\n    };\r\n\r\n    this.mapService.addPoiInstance(this.currentFloor, center, this.currentPoiType.id).\r\n      subscribe(\r\n      node => this.updateAddPoi(node),\r\n      error => console.log(\"ERROR: \" + <any>error));\r\n  }\r\n\r\n  private showPois(features: any) {\r\n    console.log(\"MapPois::showPois\");\r\n    this.clear();\r\n\r\n    this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(features));\r\n\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private showPoisWithStyles(olFeatures: any) {\r\n    for (let i = 0; i < olFeatures.length; i++) {\r\n      let id = olFeatures[i].getId();\r\n      let poiTypeId = olFeatures[i].get(\"name\");\r\n      console.log(\"MapPois::showPoisWithStyles: \" + id + \"#\" + poiTypeId);\r\n      olFeatures[i].setStyle(this.iconStyleMap[poiTypeId]);\r\n    }\r\n\r\n    this.layerSource.addFeatures(olFeatures);\r\n  }\r\n\r\n  private updateAddPoi(poi: any) {\r\n    console.log(\"MapPois::updateAddNode! - \" + JSON.stringify(poi));\r\n\r\n    this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(poi));\r\n\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(poi));\r\n  }\r\n\r\n  public clearSelection() {\r\n\r\n    if (this.featureAdded && this.highlightFeature) {\r\n      this.layerSource.removeFeature(this.highlightFeature);\r\n      this.featureAdded = false;\r\n    }\r\n\r\n    this.currentSelectedPoi = null;\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n\r\n    this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n\r\n    this.highlightFeature = new ol.Feature({\r\n      geometry: this.highlightFeaturePoint,\r\n      name: 'SelectedPoi'\r\n    });\r\n\r\n    this.highlightFeature.setStyle(MapPois.higlightStyle);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapPois.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapRoom extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      /*stroke: new ol.style.Stroke({\r\n        color: 'red',\r\n        width: 0\r\n      }),*/\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(96,96,255,1)'\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorid: number) {\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getRooms(floorid).subscribe(\r\n        rooms => this.showRooms(rooms),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  private showRooms(features: any): void {\r\n    //console.log(\"MapRoom::showRooms\");\r\n    this.clear();\r\n\r\n    let olFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n    this.layerSource.addFeatures(olFeatures);\r\n  }\r\n\r\n  private getDummyRoom(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [[1722195.294385298, 5955266.126823761], [1722204.811691066, 5955261.3495094925],\r\n                [1722202.1244517902, 5955255.975030941], [1722192.6071460224, 5955260.90163628],\r\n                [1722195.294385298, 5955266.126823761]]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRoom.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\nimport { Point } from '../base/point'\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapRouteStyles } from './mapRouteStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapRoute extends MapLayerBase {\r\n\r\n  private currentStartNodeId: number = -1;\r\n  private currentFloorId: number = -1;\r\n  private createRoute: boolean = false;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    let styleFunction = function(feature, currentFloor) {\r\n      let style: any = null;\r\n      try {\r\n        let source = feature.get(\"source_node\").properties.level;\r\n        let destination = feature.get(\"destination_node\").properties.level;\r\n\r\n        if (source == currentFloor || destination == currentFloor) {\r\n          style = MapRouteStyles.routeCurrentFloor;\r\n        }\r\n      }\r\n      catch (e) {\r\n      }\r\n      if (style) {\r\n        return style;\r\n      }\r\n      else {\r\n        return MapRouteStyles.routeHiddenFloor;\r\n      }\r\n    };\r\n\r\n    let res = OpenlayersHelper.CreateBasicLayer(feature => styleFunction(feature, this.currentFloorId));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public setNewStartPos(nodeId: number) {\r\n    this.currentStartNodeId = nodeId;\r\n  }\r\n\r\n  public shiftPressed() {\r\n    this.createRoute = true;\r\n  }\r\n\r\n  public shiftReleased() {\r\n    this.createRoute = false;\r\n  }\r\n\r\n  public doShowRoute(): boolean {\r\n    return this.createRoute;\r\n  }\r\n\r\n  public generateRoute(destinationNode: number) {\r\n    if (this.currentStartNodeId >= 0 && destinationNode >= 0) {\r\n      console.log(\"MapRoute::generateRoute From: \" + this.currentStartNodeId + \" to \" + destinationNode);\r\n\r\n      this.subscribeNewRequest(\r\n        this.mapService.getRoute(this.currentStartNodeId, destinationNode).\r\n          subscribe(\r\n          route => this.updateRoute(route),\r\n          error => console.log(\"ERROR: \" + <any>error)));\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    this.layerSource.clear();\r\n  }\r\n\r\n  public setCurrentFloor(floor: number) {\r\n    this.currentFloorId = floor;\r\n    this.layerSource.refresh();\r\n  }\r\n\r\n  private updateRoute(route: any) {\r\n    console.log(\"MapRoute::update Route\");\r\n    this.layerSource.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRoute.ts","declare var ol: any;\r\n\r\nexport class MapRouteStyles {\r\n  public static routeCurrentFloor: any = new ol.style.Style({\r\n    stroke: new ol.style.Stroke({\r\n      color: 'green',\r\n      width: 5\r\n    })\r\n  });\r\n\r\n\r\n  public static routeHiddenFloor: any = new ol.style.Style({\r\n    stroke: new ol.style.Stroke({\r\n      color: 'green',\r\n      width: 5,\r\n      lineDash: [3, 7]\r\n    })\r\n  });\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRouteStyles.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { Floor } from '../base/floor';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\n@Component({\r\n  selector: 'app-floorselector',\r\n  templateUrl: './floorselector.component.html',\r\n  styleUrls: ['./floorselector.component.css']\r\n})\r\nexport class FloorselectorComponent implements OnInit {\r\n\r\n  floorList: Floor[] = [];\r\n  selectedFloor: Floor = null;\r\n\r\n  @Output() currentFloorEvt = new EventEmitter<Floor>();\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  ngOnInit() {\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n\r\n    this.updateData();\r\n  }\r\n\r\n  public updateData(): any {\r\n\r\n    this.mapService.getFloorNames().subscribe(\r\n      floors => this.updateFloors(floors),\r\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  onSelect(floor: Floor): void {\r\n    this.selectFloor(floor);\r\n    //console.log(\"Floor: \" + JSON.stringify(floor));\r\n  }\r\n\r\n  updateFloors(floors: Floor[]) {\r\n    this.floorList = floors;\r\n\r\n    for (let floor of this.floorList) {\r\n      if (floor.name.startsWith('EG')) {\r\n        this.selectFloor(floor);\r\n        //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(floor));\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (this.floorList.length > 0) {\r\n      this.selectFloor(this.floorList[0]);\r\n      //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(this.selectedFloor));\r\n    }\r\n  }\r\n\r\n  private selectFloor(floor: Floor) {\r\n    this.selectedFloor = floor;\r\n    this.currentFloorEvt.emit(this.selectedFloor);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/floorselector/floorselector.component.ts","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class MapcontrollerserviceService {\r\n\r\n  constructor() { }\r\n\r\n\r\n  showRoute(route: Object)\r\n  {\r\n  }\r\n\r\n  hideRoute()\r\n  {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapcontrollerservice/mapcontrollerservice.service.ts","\nexport const BASEMAP_1: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722148.7179484894, 5955311.036092768],\n          [1722146.0740319043, 5955305.806638332]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722145.4393780732, 5955304.280772133],\n          [1722144.3102046154, 5955302.047357817]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722156.5486399394, 5955306.256258198],\n          [1722151.3915498806, 5955308.863588676],\n          [1722127.931174513, 5955262.460852391]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.866233931, 5955310.209756394],\n          [1722112.6978673185, 5955256.472911546],\n          [1722122.082911084, 5955251.728004948],\n          [1722126.076234266, 5955259.626477143]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722143.3116983555, 5955300.0385739],\n          [1722142.058591478, 5955297.560029245]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722141.0532015797, 5955295.537624686],\n          [1722140.1856665525, 5955293.821710152]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.173541809, 5955291.819808783],\n          [1722138.5469889154, 5955290.580537533]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722137.9410912285, 5955289.382120622],\n          [1722137.6381423848, 5955288.782912167]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722137.0186251472, 5955287.591381051],\n          [1722135.9514194895, 5955285.480534063]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722134.9747857354, 5955283.785578792],\n          [1722133.7629903613, 5955281.38874497]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722133.1843296185, 5955280.176557558],\n          [1722132.4613843076, 5955278.7466298565]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.9914304577, 5955310.161206596],\n          [1722140.1936529577, 5955310.058966596],\n          [1722140.4127388278, 5955310.492300833],\n          [1722145.1408928542, 5955308.101832573]\n        ]\r\n      }\r\n    }\n  ]\r\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-basemap01.ts","\r\nexport const BASEMAP: Object = {\r\n  'type': 'FeatureCollection',\r\n  'crs': {\r\n    'type': 'name',\r\n    'properties': {\r\n      'name': 'EPSG:3857'\r\n    }\r\n  },\r\n  'features': [\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722148.7179484894, 5955311.036092768],\r\n    [1722146.0740319043, 5955305.806638332]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722145.4393780732, 5955304.280772133],\r\n    [1722144.3102046154, 5955302.047357817]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722156.5486399394, 5955306.256258198],\r\n    [1722151.3915498806, 5955308.863588676],\r\n    [1722127.931174513, 5955262.460852391]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722139.866233931, 5955310.209756394],\r\n    [1722112.6978673185, 5955256.472911546],\r\n    [1722122.082911084, 5955251.728004948],\r\n    [1722126.076234266, 5955259.626477143]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722143.3116983555, 5955300.0385739],\r\n    [1722142.058591478, 5955297.560029245]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722141.0532015797, 5955295.537624686],\r\n    [1722140.1856665525, 5955293.821710152]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722139.173541809, 5955291.819808783],\r\n    [1722138.5469889154, 5955290.580537533]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722137.9410912285, 5955289.382120622],\r\n    [1722137.6381423848, 5955288.782912167]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722137.0186251472, 5955287.591381051],\r\n    [1722135.9514194895, 5955285.480534063]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722134.9747857354, 5955283.785578792],\r\n    [1722133.7629903613, 5955281.38874497]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722133.1843296185, 5955280.176557558],\r\n    [1722132.4613843076, 5955278.7466298565]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722139.9914304577, 5955310.161206596],\r\n    [1722140.1936529577, 5955310.058966596],\r\n    [1722140.4127388278, 5955310.492300833],\r\n    [1722145.1408928542, 5955308.101832573]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722138.038594267, 5955306.179079759],\r\n    [1722144.6830496874, 5955302.819764539]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722135.7410594842, 5955301.730400836],\r\n    [1722142.4240331678, 5955298.351611486]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722133.8325794842, 5955297.955580836],\r\n    [1722140.6118477474, 5955294.528106706]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722132.0015660073, 5955294.238323232],\r\n    [1722138.703797744, 5955290.849797362]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722129.6365151408, 5955289.799595839],\r\n    [1722136.415785561, 5955286.372120619]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722133.3726029575, 5955287.862334096],\r\n    [1722134.7650136072, 5955290.616410413],\r\n    [1722137.846498397, 5955289.058468022]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722125.925588397, 5955282.220528022],\r\n    [1722132.5507836072, 5955278.870950413]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722130.610817744, 5955278.860292363],\r\n    [1722131.0295153542, 5955279.688442573]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722129.8911294772, 5955277.628127148],\r\n    [1722129.3945353474, 5955276.645903885]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722129.6667453507, 5955277.088653229],\r\n    [1722124.6400720875, 5955279.630047359]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722128.7129353473, 5955275.297753885],\r\n    [1722127.9437012174, 5955273.776270622]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722128.4004860038, 5955274.488433889],\r\n    [1722123.3738127407, 5955277.0298280185]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722127.1545618705, 5955272.119756282],\r\n    [1722123.4154994807, 5955264.724191493],\r\n    [1722118.4273444808, 5955267.246111493]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722122.9784653473, 5955261.946553886],\r\n    [1722122.3942370876, 5955260.790997359]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722121.7710594772, 5955259.558402149],\r\n    [1722121.6055288278, 5955259.230995833],\r\n    [1722115.7507053544, 5955262.191087573]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722127.1905355575, 5955262.863966276],\r\n    [1722132.5831355576, 5955260.137566276]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722130.9798149837, 5955257.121846492],\r\n    [1722129.8506415258, 5955254.888432178],\r\n    [1722147.2821563147, 5955246.075376894],\r\n    [1722148.5490336933, 5955248.581158493]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722132.440085313, 5955260.145429773],\r\n    [1722155.9048458226, 5955306.556839516]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722157.3645080356, 5955309.443934019],\r\n    [1722183.225318291, 5955360.594537519],\r\n    [1722200.6542708513, 5955351.758591575],\r\n    [1722199.753565157, 5955349.929230013]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722198.3537092782, 5955347.160432989],\r\n    [1722149.8819030395, 5955251.287097337]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722149.8819030395, 5955251.287097337],\r\n    [1722157.9541226493, 5955247.205930637],\r\n    [1722176.3699033493, 5955283.6308642505],\r\n    [1722193.5491868227, 5955274.94533251],\r\n    [1722186.3826503032, 5955260.770499457],\r\n    [1722191.3130268299, 5955258.277791197],\r\n    [1722196.2594950895, 5955268.061507724],\r\n    [1722205.8120998794, 5955263.2318853345],\r\n    [1722168.4604198795, 5955189.353265335],\r\n    [1722158.9078150897, 5955194.182887725],\r\n    [1722162.8026726998, 5955201.886602934],\r\n    [1722157.3330361731, 5955204.651951194],\r\n    [1722157.3330361731, 5955204.651951194],\r\n    [1722141.2322726997, 5955212.792202935],\r\n    [1722157.16223857, 5955244.300394671]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722148.5398468156, 5955248.562987588],\r\n    [1722157.1232892193, 5955244.223355988]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722190.0277233494, 5955255.7355642505],\r\n    [1722185.405495086, 5955258.07247838],\r\n    [1722175.3567644365, 5955238.196897064],\r\n    [1722179.9789926999, 5955235.859982935]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722174.0333716231, 5955235.770658151],\r\n    [1722159.5055540127, 5955207.035802942],\r\n    [1722164.2048209596, 5955204.659939461],\r\n    [1722178.73263857, 5955233.394794671]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722178.73263857, 5955233.394794671],\r\n    [1722174.0333716231, 5955235.770658151]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722140.357013393, 5955310.382080402],\r\n    [1722137.3386845773, 5955311.908092286],\r\n    [1722149.897288901, 5955336.748001939],\r\n    [1722162.2627709177, 5955330.496240233],\r\n    [1722152.788735943, 5955311.757360757],\r\n    [1722157.3645080356, 5955309.443934019]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722149.8477756688, 5955313.381052751],\r\n    [1722152.8438179474, 5955311.866308534]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722130.9622755072, 5955257.087154819],\r\n    [1722126.0484391632, 5955259.571500665]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722207.7633137836, 5955345.9158264045],\r\n    [1722221.7069020541, 5955373.495122952],\r\n    [1722239.1943337908, 5955364.653797083],\r\n    [1722221.04429965, 5955328.754488798],\r\n    [1722203.5568679133, 5955337.595814668],\r\n    [1722206.3222161732, 5955343.065451194]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722207.7209011305, 5955345.927597744],\r\n    [1722199.706457837, 5955349.9795537945]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722206.2832679134, 5955342.988414668],\r\n    [1722198.2880848302, 5955347.030633107]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722049.4669066695, 5955131.340529937],\r\n    [1722049.1639491015, 5955130.741304225],\r\n    [1722061.3660094535, 5955124.572165527],\r\n    [1722075.6788024392, 5955152.881719317],\r\n    [1722072.9488957562, 5955154.261910242],\r\n    [1722091.4299879135, 5955190.816024668]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722093.0649668297, 5955193.858561198],\r\n    [1722105.4895609596, 5955218.433409461],\r\n    [1722095.9369561698, 5955223.263031851],\r\n    [1722080.8249113904, 5955193.372622271],\r\n    [1722078.1671296537, 5955194.7163481405],\r\n    [1722075.5186261733, 5955189.477821194]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722074.0775296537, 5955186.627448141],\r\n    [1722068.3910335512, 5955175.380016039],\r\n    [1722071.0488152879, 5955174.03629017],\r\n    [1722051.0292526896, 5955134.439204904]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722051.0292526896, 5955134.439204904],\r\n    [1722042.863314006, 5955138.567754255]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722049.4669066695, 5955131.340529937],\r\n    [1722041.220516865, 5955135.509753904]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722075.5186261733, 5955189.477821194],\r\n    [1722069.927088845, 5955192.304800271]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722074.0775296537, 5955186.627448141],\r\n    [1722068.4587553814, 5955189.468197719]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722097.6015840345, 5955191.372955843],\r\n    [1722107.1307010136, 5955210.220783096],\r\n    [1722124.72563531, 5955201.325105896],\r\n    [1722115.2516003351, 5955182.5862264205]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722096.2266244434, 5955188.632755751],\r\n    [1722079.9461231441, 5955156.431233118],\r\n    [1722097.587630091, 5955147.512009638],\r\n    [1722113.90707965, 5955179.790568798]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722093.0649668297, 5955193.858561198],\r\n    [1722097.6788840177, 5955191.525848996]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722096.2266244434, 5955188.632755751],\r\n    [1722091.5080994435, 5955191.018355751],\r\n    [1722091.4107277032, 5955190.825762278]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722123.1670161732, 5955178.591151194],\r\n    [1722130.7035644331, 5955193.49783772],\r\n    [1722148.229514433, 5955184.6370377205],\r\n    [1722138.005514433, 5955164.414787721],\r\n    [1722120.479564433, 5955173.275587721],\r\n    [1722121.6674961732, 5955175.625221194]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722115.2543441842, 5955182.591653532],\r\n    [1722123.1670161732, 5955178.591151194]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722113.90707965, 5955179.790568798],\r\n    [1722121.84190444, 5955175.778866407]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722204.85786097, 5955261.344477491],\r\n    [1722195.3052561802, 5955266.174099881]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722194.6203413904, 5955259.749362271],\r\n    [1722202.13146097, 5955255.951877492]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722193.0157085734, 5955254.853634014],\r\n    [1722199.8334951, 5955251.406685755]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722191.0691403067, 5955251.194798801],\r\n    [1722197.9639633598, 5955247.708902282]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722188.829597917, 5955246.765164011],\r\n    [1722195.72442097, 5955243.279267492]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722186.3771279065, 5955242.20135598],\r\n    [1722193.3875057495, 5955238.657037071]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722184.2730444332, 5955237.848327721],\r\n    [1722191.2063857496, 5955234.342957071]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722179.3642344433, 5955227.85211575],\r\n    [1722181.370085093, 5955231.819527067],\r\n    [1722188.1878716196, 5955228.372578808]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722178.2355861766, 5955225.811060538],\r\n    [1722176.9892320468, 5955223.345872275]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722176.034130963, 5955221.2654388035],\r\n    [1722175.1383144434, 5955219.49358575]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722174.125650963, 5955217.490618804],\r\n    [1722172.918245093, 5955215.102467068]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722171.8480203066, 5955213.176968801],\r\n    [1722170.9132544366, 5955211.328077064]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722169.9200661767, 5955209.363630538],\r\n    [1722168.6347626965, 5955206.821403591]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722167.6610485665, 5955204.895475327],\r\n    [1722166.8041803066, 5955203.200658801]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722165.7915179168, 5955201.197694011],\r\n    [1722165.3630826965, 5955200.350283591],\r\n    [1722172.2579057496, 5955196.864387072]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722163.9768455203, 5955201.147870534],\r\n    [1722162.7442503101, 5955201.771048144]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722167.2326144367, 5955204.048067064],\r\n    [1722174.1274374898, 5955200.562170545]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722169.5695285664, 5955208.670295327],\r\n    [1722176.4643516196, 5955205.184398808]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722171.4390603066, 5955212.368078801],\r\n    [1722178.3338833598, 5955208.882182281]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722173.7945885733, 5955216.8358040145],\r\n    [1722180.6123751, 5955213.388855755]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722175.6251709631, 5955220.4565488035],\r\n    [1722182.4429574898, 5955217.009600544]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722177.8655744365, 5955225.079207064],\r\n    [1722184.7603974896, 5955221.593310544]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722182.6026803032, 5955231.196349458],\r\n    [1722182.9921661732, 5955231.966721195]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722183.5954385665, 5955233.064285328],\r\n    [1722184.4328326965, 5955234.720583591]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722187.6806144365, 5955244.492567064],\r\n    [1722189.105800963, 5955243.772018804],\r\n    [1722187.9178692228, 5955241.42238533]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722188.9066344434, 5955246.726215751],\r\n    [1722189.099227917, 5955246.628844012]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722190.3083527067, 5955249.403041622],\r\n    [1722191.5352327067, 5955251.829711622]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722189.2376968332, 5955247.381030541],\r\n    [1722188.867685093, 5955246.649177067]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722192.5102379168, 5955254.045174011],\r\n    [1722193.3671061767, 5955255.739990538]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722194.456805093, 5955257.704007067],\r\n    [1722195.3136744434, 5955259.398825751]\r\n    ]    }  },\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n    [1722160.40733618, 5955197.1488198815],\r\n    [1722169.95994097, 5955192.319197492]\r\n    ]    }  }\r\n    \r\n\r\n]\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-basemap02.ts","import { Floor } from '../base/floor';\r\n\r\n\r\nexport const FLOORS: Floor[] = [\r\n  new Floor({\r\n    \"id\": 1,\r\n    \"name\": \"OG3\",\r\n    \"building\": 1\r\n  }),\r\n  new Floor({\r\n    \"id\": 2,\r\n    \"name\": \"EG\",\r\n    \"building\": 1\r\n  })\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-floors.ts","\nexport const NAVIGATIONEDGES_DEMO: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n      'type': 'Feature', \"id\": 1,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722198.6534343925, 5955261.05092735]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 2,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722197.1605236838, 5955255.82573987]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 3,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722193.428246912, 5955247.465439901]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 4,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722191.9353362035, 5955242.389543491]\n        ]\r\n      }\r\n    },\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-navigationedges.ts","import { Room } from '../base/room';\r\n\r\nexport const ROOMS: Room[] = [\r\n  { id: 11, name: 'Hrsaal 1', floor: -1 },\r\n  { id: 12, name: 'Hrsaal 2', floor: -1 },\r\n  { id: 13, name: 'Hrsaal 3', floor: 0 },\r\n  { id: 14, name: 'WC', floor: 1 },\r\n  { id: 15, name: 'Besprechungsraum A1', floor: -1 },\r\n  { id: 16, name: 'Besprechungsraum A2', floor: -1 },\r\n  { id: 17, name: 'Besprechungsraum A3', floor: 5 },\r\n  { id: 18, name: 'Besprechungsraum A4', floor: -1 },\r\n  { id: 19, name: 'Besprechungsraum B1', floor: -1 },\r\n  { id: 20, name: 'Besprechungsraum B2', floor: -1 }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-rooms.ts","\r\n/*export const DEMOROUTE: Object = {\r\n  'type': 'FeatureCollection',\r\n  'crs': {\r\n    'type': 'name',\r\n    'properties': {\r\n      'name': 'EPSG:3857'\r\n    }\r\n  },\r\n  'features': [\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n            [1722152.223911352,5955326.29112532],\r\n            [1722145.0579399504,5955313.899966438],\r\n            [1722166.107980943,5955304.046755761],\r\n            [1722139.0862971158,5955254.482120233],\r\n            [1722166.8544362977,5955241.643088137],\r\n            [1722173.7218255575,5955263.887457697],\r\n            [1722191.9353362035,5955256.721486296],\r\n            [1722188.053768361,5955249.256932751],\r\n            [1722193.1296647706,5955247.1668577595]\r\n    ]    }  }\r\n  ]};\r\n*/\r\n  export const DEMOROUTE: Object[] = [\r\n    {\r\n      'layer': 0,\r\n      'geojson' : {\r\n        'type': 'FeatureCollection',\r\n        'crs': {\r\n          'type': 'name',\r\n          'properties': {\r\n            'name': 'EPSG:3857'\r\n          }\r\n        },\r\n        'features': [\r\n          {\r\n              'type': 'Feature',\r\n              'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                  [1722152.223911352,5955326.29112532],\r\n                  [1722145.0579399504,5955313.899966438],\r\n                  [1722166.107980943,5955304.046755761],\r\n                  [1722139.0862971158,5955254.482120233]\r\n          ]    }  }\r\n      ]}\r\n    },\r\n    {\r\n      'layer': 1,\r\n      'geojson' : {\r\n        'type': 'FeatureCollection',\r\n        'crs': {\r\n          'type': 'name',\r\n          'properties': {\r\n            'name': 'EPSG:3857'\r\n          }\r\n        },\r\n        'features': [\r\n          {\r\n              'type': 'Feature',\r\n              'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                  [1722139.0862971158,5955254.482120233],\r\n                  [1722166.8544362977,5955241.643088137],\r\n                  [1722173.7218255575,5955263.887457697],\r\n                  [1722191.9353362035,5955256.721486296],\r\n                  [1722188.053768361,5955249.256932751],\r\n                  [1722193.1296647706,5955247.1668577595]\r\n          ]    }  }\r\n      ]}\r\n    }\r\n\r\n  ];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-route.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { ApplicationMode, ApplicationModes } from '../base/applicationmode';\r\n\r\n@Component({\r\n  selector: 'app-modeselector',\r\n  templateUrl: './modeselector.component.html',\r\n  styleUrls: ['./modeselector.component.css']\r\n})\r\nexport class ModeselectorComponent implements OnInit {\r\n\r\n  modes = ApplicationModes;\r\n\r\n  currentAppMode: ApplicationMode = ApplicationMode.CreateDefault();\r\n  @Output() currentAppModeEvt = new EventEmitter<ApplicationMode>();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  modechanged(mode: ApplicationMode): void {\r\n    console.log(\"ModeselectorComponent Mode changed: \" + mode.name);\r\n    this.currentAppMode = mode;\r\n    this.currentAppModeEvt.emit(this.currentAppMode);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modeselector/modeselector.component.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { PoiType } from '../base/poitype';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\n@Component({\r\n  selector: 'app-poiselector',\r\n  templateUrl: './poiselector.component.html',\r\n  styleUrls: ['./poiselector.component.css']\r\n})\r\nexport class PoiselectorComponent implements OnInit {\r\n\r\n  pois: PoiType[] = null;\r\n  showControl: boolean = false;\r\n  selectedPoiType: PoiType = null;\r\n\r\n  @Output() currentSelectedPoiEvt = new EventEmitter<PoiType>();\r\n  @Output() poiTypeReceivedEvt = new EventEmitter<PoiType[]>();\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  ngOnInit() {\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n\r\n    this.updateData();\r\n  }\r\n\r\n  public updateData(): any {\r\n\r\n    this.mapService.getPoiTypes().subscribe(\r\n      poiTypes => this.updatePois(poiTypes),\r\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  onSelect(poi: PoiType): void {\r\n    this.selectPoi(poi);\r\n  }\r\n\r\n  updatePois(poilist: PoiType[]) {\r\n    this.pois = poilist;\r\n    if (this.pois.length > 0) {\r\n      this.showControl = true;\r\n      this.selectPoi(this.pois[0]);\r\n    }\r\n\r\n    this.poiTypeReceivedEvt.emit(this.pois);\r\n  }\r\n\r\n  private selectPoi(poi: PoiType) {\r\n    this.selectedPoiType = poi;\r\n    this.currentSelectedPoiEvt.emit(this.selectedPoiType);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/poiselector/poiselector.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { Observable }        from 'rxjs/Observable';\r\nimport { Subject }           from 'rxjs/Subject';\r\n\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { Room } from '../base/room';\r\n\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\n@Component({\r\n  selector: 'app-roomsearch',\r\n  templateUrl: './roomsearch.component.html',\r\n  styleUrls: ['./roomsearch.component.css']\r\n})\r\nexport class RoomsearchComponent implements OnInit {\r\n\r\n  rooms: Observable<Room[]>;\r\n  private searchTerms = new Subject<string>();\r\n\r\n  currentSearchTerm = \"\";\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  ngOnInit() {\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n\r\n    this.rooms = this.searchTerms\r\n      .debounceTime(300)        // wait for 300ms pause in events\r\n      .distinctUntilChanged()   // ignore if next search term is same as previous\r\n      .switchMap(term => term   // switch to new observable each time\r\n        // return the http search observable\r\n        ? this.mapService.searchRoom(term)\r\n        // or the observable of empty rooms if no search term\r\n        : Observable.of<Room[]>([]))\r\n      .catch(error => {\r\n        // TODO: real error handling\r\n        console.log(error);\r\n        return Observable.of<Room[]>([]);\r\n      });\r\n  }\r\n\r\n  search(term: string): void {\r\n    this.searchTerms.next(term);\r\n  }\r\n\r\n  selectRoom(room: Room): void {\r\n    console.log('Select Room: ' + room.id + '#' + room.name);\r\n\r\n    this.currentSearchTerm = \"\";\r\n    this.searchTerms.next(this.currentSearchTerm);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/roomsearch/roomsearch.component.ts","import { Component, OnInit, ViewChild} from '@angular/core';\r\nimport { FormControl }       from '@angular/forms';\r\nimport { Observable }        from 'rxjs/Observable';\r\nimport { Subject }           from 'rxjs/Subject';\r\n\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\r\n\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { Room } from '../base/room';\r\n\r\n\r\n@Component({\r\n  selector: 'app-roomsearchmd',\r\n  templateUrl: './roomsearchmd.component.html',\r\n  styleUrls: ['./roomsearchmd.component.css']\r\n})\r\nexport class RoomsearchmdComponent implements OnInit {\r\n\r\n  rooms: Room[];\r\n  showsuggestions: boolean = false;\r\n  private searchTerms = new Subject<string>();\r\n\r\n  currentSearchTerm = \"\";\r\n  term = new FormControl();\r\n\r\n  constructor(private mapServiceHttp: MapHttpService,\r\n    private mapService: MapService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    if (USEHTTPSERVICE) {\r\n      this.mapService = this.mapServiceHttp;\r\n    }\r\n\r\n    this.term.valueChanges\r\n      .debounceTime(400)\r\n      .distinctUntilChanged()\r\n      .flatMap(term => this.mapService.searchRoom(term))\r\n      .subscribe(items => this.searchResults(items));\r\n  }\r\n\r\n  searchResults(items: Room[]) {\r\n    console.log('searchResults: ');\r\n    this.rooms = items;\r\n\r\n    this.showsuggestions = this.rooms.length > 0;\r\n    console.log('Showsuggestions: ' + this.showsuggestions);\r\n  }\r\n\r\n  log(logstring: string) {\r\n    console.log('log: ' + logstring);\r\n  }\r\n\r\n  selectRoom(room: Room): void {\r\n    console.log('Select Room: ' + room.id + '#' + room.name);\r\n\r\n    this.currentSearchTerm = \"\";\r\n    this.searchTerms.next(this.currentSearchTerm);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/roomsearchmd/roomsearchmd.component.ts","import { Component, OnInit, Input } from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\nimport { TestmapComponent} from '../testmap/testmap.component';\n\n@Component({\n  selector: 'app-routetest',\n  templateUrl: './routetest.component.html',\n  styleUrls: ['./routetest.component.css']\n})\nexport class RoutetestComponent implements OnInit {\n\n  @Input()\n  mapComponentRef: TestmapComponent;\n\n  routeVisible: boolean = false;\n\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n  }\n\n  toogleroute(): void {\n    console.log('Toogle Route');\n\n    if (this.routeVisible) {\n      this.mapComponentRef.hideRoute();\n      this.routeVisible = false;\n    }\n    else {\n      //this.mapService.getRoute().then(route => this.showRoute(route));\n\n\n      this.mapService.addEdge(14, 16, 1.123, {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722198.6534343925, 5955261.05092735]\n        ]\r\n      }).\n        subscribe(\n        edge => this.edgeAdded(edge),\n        error => console.log(\"ERROR: \" + <any>error));\n\n      /*\n             this.mapService.deleteEdge(6).subscribe(\n                                  edge => this.edgeDeleted(edge),\n                                  error =>  console.log(\"ERROR deleteEdge: \" + <any>error ));\n      */\n\n    }\n  }\n\n  edgeAdded(edge: any): void {\n    console.log(\"edgeAdded... \" + JSON.stringify(edge));\n\n    edge.properties.destination = 19;\n    this.mapService.updateEdge(edge, edge.id).\n      subscribe(\n      edge => this.edgeUpdated(edge),\n      error => console.log(\"ERROR: \" + <any>error));\n  }\n\n  edgeDeleted(edge: any): void {\n    console.log(\"edgeDeleted... \" + JSON.stringify(edge));\n  }\n\n  edgeUpdated(edge: any): void {\n    console.log(\"edgeUpdated... \" + JSON.stringify(edge));\n  }\n\n\n  showRoute(route: Object[]): void {\n    this.mapComponentRef.showRoute(route);\n    this.routeVisible = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/routetest/routetest.component.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class NavigationMap {\r\n  private isActive: boolean = false;\r\n\r\n  private edgeLayer: any;\r\n  private edgeLayerSource: any;\r\n\r\n  private edgePathLayer: any;\r\n  private edgePathLayerSource: any;\r\n\r\n  select: any;\r\n\r\n  constructor(private mapService: MapService) { }\r\n\r\n  public Initialize(select: any): void {\r\n    this.select = select;\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': [{\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': []\r\n        }\r\n      }]\r\n    };\r\n\r\n    this.edgeLayerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    this.edgePathLayerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    let styleFunction = function(feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'green',\r\n          width: 1\r\n        })\r\n      })\r\n    };\r\n\r\n    let styleFunctionPath = function(feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'green',\r\n          lineDash: [5],\r\n          width: 3\r\n        })\r\n      })\r\n    };\r\n\r\n    this.edgeLayer = new ol.layer.Vector({\r\n      source: this.edgeLayerSource,\r\n      style: styleFunction\r\n    });\r\n\r\n    this.edgePathLayer = new ol.layer.Vector({\r\n      source: this.edgePathLayerSource,\r\n      style: styleFunctionPath,\r\n      zIndex: 10\r\n    });\r\n\r\n    this.edgePathLayer.set('isSelectable', true);\r\n  }\r\n\r\n  public getEdgeLayer(): any {\r\n    return this.edgeLayer;\r\n  }\r\n\r\n  public getEdgePathLayer(): any {\r\n    return this.edgePathLayer;\r\n  }\r\n\r\n  public addEdge(source: number, destination: number, length: number, path: any) {\r\n\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont add edge!\");\r\n      return;\r\n    }\r\n\r\n    this.mapService.addEdge(source, destination, length, path).\r\n      subscribe(\r\n      edge => this.updateAddEdge(edge)/*,\r\n      error => console.log(\"ERROR: \" + <any>error)*/);\r\n  }\r\n\r\n  public deleteSelectedEdge() {\r\n    //console.log(\"deleteSelectedEdges...\" + this.select.getFeatures().getArray().length);\r\n    for (let feature of this.select.getFeatures().getArray()) {\r\n      //console.log(\"deleteSelectedEdge: \" + JSON.stringify(feature.getId()));\r\n\r\n      if (!USEHTTPSERVICE) {\r\n        console.log(\"Offline mode, dont delete edge!\");\r\n        return;\r\n      }\r\n\r\n      this.mapService.deleteEdge(feature.getId()).subscribe(\r\n        edge => this.edgeDeleted(edge),\r\n        error => console.log(\"ERROR deleteEdge: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private edgeDeleted(edge: any): void {\r\n    console.log(\"edgeDeleted...\" + JSON.stringify(edge));\r\n    let feature = this.edgeLayerSource.getFeatureById(edge.id);\r\n    if (feature) {\r\n      this.edgeLayerSource.removeFeature(feature);\r\n    }\r\n    feature = this.edgePathLayerSource.getFeatureById(edge.id);\r\n    if (feature) {\r\n      this.edgePathLayerSource.removeFeature(feature);\r\n    }\r\n  }\r\n\r\n  public updateEdges(featureArray: any[]) {\r\n    console.log(\"updateEdges... \");\r\n\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont update edge!\");\r\n      return;\r\n    }\r\n\r\n    for (let feature of featureArray) {\r\n      console.log(\"updateEdge: \" + JSON.stringify(feature.getId()));\r\n\r\n      this.mapService.updateEdge((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n        subscribe(\r\n        edge => this.edgeUpdated(edge),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private edgeUpdated(edge: any): void {\r\n    console.log(\"edgeUpdated... \" + JSON.stringify(edge));\r\n  }\r\n\r\n  public showEdges(edges: Object): void {\r\n    console.log(\"showRoute called\");\r\n\r\n    this.edgeLayerSource.clear();\r\n    this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n\r\n    this.edgePathLayerSource.clear();\r\n    this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n  }\r\n\r\n  private updateAddEdge(edge: any) {\r\n    console.log(\"updateAddEdge! - \" + JSON.stringify(edge));\r\n\r\n    this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n    this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/navigationedges.ts","import { NavigationMap } from \"./navigationedges\";\r\n\r\ndeclare var ol: any;\r\n\r\nexport class RoomMap {\r\n  private isActive: boolean = false;\r\n\r\n  private roomLayer: any;\r\n\r\n  private roomLayerSource: any;\r\n\r\n\r\n  private highlight: any;\r\n  private featureOverlay: any = null;\r\n\r\n  private selectedRoomOverlay: any = null;\r\n\r\n  private selectedRoom: any = null;\r\n\r\n  private navigationMap: NavigationMap = null;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public Initialize(navigationMap: NavigationMap): void {\r\n\r\n    this.navigationMap = navigationMap;\r\n\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': [{\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': []\r\n        }\r\n      }]\r\n    };\r\n\r\n    console.log('Create Room LAYER SOURCE!!!');\r\n    this.roomLayerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    var styleFunction = function(feature) {\r\n      return new ol.style.Style({\r\n        fill: new ol.style.Fill({\r\n          color: 'rgba(128,0,255,0.5)'\r\n        })\r\n      })\r\n    };\r\n\r\n    this.roomLayer = new ol.layer.Vector({\r\n      source: this.roomLayerSource,\r\n      style: styleFunction\r\n    });\r\n\r\n  }\r\n\r\n  public getRoomLayer(): any {\r\n    return this.roomLayer;\r\n  }\r\n\r\n  public showRooms(rooms: Object): void {\r\n    //console.log(\"showRoom called\");\r\n    //console.log(\"Show Room!\" + JSON.stringify(rooms));\r\n\r\n    this.roomLayerSource.clear();\r\n    this.roomLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(rooms));\r\n  }\r\n\r\n  public mouseMoved(position: any, map: any) {\r\n    if (this.featureOverlay === null) {\r\n      this.initFeatureOverlay(map);\r\n    }\r\n\r\n    let feature = map.forEachFeatureAtPixel(position, function(feature) {\r\n      return feature;\r\n    });\r\n\r\n    if (feature !== this.highlight) {\r\n      if (this.highlight) {\r\n        this.featureOverlay.getSource().removeFeature(this.highlight);\r\n      }\r\n      if (feature) {\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n        this.featureOverlay.getSource().addFeature(feature);\r\n      }\r\n      this.highlight = feature;\r\n    }\r\n  }\r\n\r\n  public mouseClicked(position: any, map: any) {\r\n    if (this.highlight != null) {\r\n      //console.log('Select Room: ' + this.highlight.getId() + \"::\" + this.highlight.get('floor'));\r\n\r\n      if (this.selectedRoomOverlay == null) {\r\n        this.initSelectedRoomOverlay(map);\r\n      }\r\n\r\n      this.selectedRoom = this.highlight;\r\n      this.selectedRoomOverlay.getSource().clear();\r\n      this.selectedRoomOverlay.getSource().addFeature(this.highlight);\r\n    }\r\n  }\r\n\r\n  public mouseClickedCtrl(position: any, map: any) {\r\n    if (this.selectedRoom != null && this.highlight != null) {\r\n      console.log('Add Edge: ' + this.selectedRoom.getId() + \"/\" + this.highlight.getId());\r\n      this.addEdge(this.selectedRoom, this.highlight);\r\n    }\r\n  }\r\n\r\n  private addEdge(source: any, destination: any) {\r\n    let sourceId = source.getId();\r\n    let destinationId = destination.getId();\r\n    if (sourceId == destinationId) {\r\n      return;\r\n    }\r\n\r\n    let p1 = source.getGeometry().getInteriorPoint().B;\r\n    let p2 = destination.getGeometry().getInteriorPoint().B;\r\n    let line = new ol.geom.LineString([p1, p2]);\r\n    let distance = line.getLength();\r\n\r\n    console.log(\"RoomMap::addEdge \" + sourceId + \"/\" + destinationId + \"#\" + JSON.stringify(p1) + \"/ \" + JSON.stringify(p2) + \"--\" + distance);\r\n\r\n    let path = {\r\n      'type': 'LineString',\r\n      'coordinates': [\r\n        p1,\r\n        p2\r\n      ]\r\n    }\r\n\r\n    this.navigationMap.addEdge(sourceId, destinationId, distance, path);\r\n  }\r\n\r\n  public Clear(): void {\r\n    if (this.selectedRoomOverlay) {\r\n      this.selectedRoomOverlay.getSource().clear();\r\n    }\r\n    if (this.featureOverlay) {\r\n      this.featureOverlay.getSource().clear();\r\n    }\r\n    this.selectedRoom = null;\r\n    this.highlight = null;\r\n  }\r\n\r\n  private initFeatureOverlay(map: any) {\r\n    //console.log(\"Create Room Featureoverlay\");\r\n    this.featureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: '#f00',\r\n          width: 1\r\n        }),\r\n        fill: new ol.style.Fill({\r\n          color: 'rgba(255,0,0,0.8)'\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  private initSelectedRoomOverlay(map: any) {\r\n    //console.log(\"Create SelectedRoom Featureoverlay\");\r\n    this.selectedRoomOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: '#f00',\r\n          width: 1\r\n        }),\r\n        fill: new ol.style.Fill({\r\n          color: 'rgba(0,128,255,0.8)'\r\n        })\r\n      })\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/roommap.ts","declare var ol: any;\r\n\r\nexport class RouteMap {\r\n  private isActive: boolean = false;\r\n\r\n  private routeLayer: any;\r\n  private routeLayerHidden: any;\r\n\r\n  private routeLayerSource: any;\r\n  private routeLayerSourceHidden: any;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public Initialize(): void {\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': [{\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': []\r\n        }\r\n      }]\r\n    };\r\n\r\n    console.log('Create Route LAYER SOURCE!!!');\r\n    this.routeLayerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    this.routeLayerSourceHidden = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    let styleFunction = function(feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'blue',\r\n          lineDash: [5],\r\n          width: 2\r\n        })\r\n      })\r\n    };\r\n\r\n    let styleFunctionHidden = function(feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'blue',\r\n          width: 2\r\n        })\r\n      })\r\n    };\r\n\r\n    this.routeLayer = new ol.layer.Vector({\r\n      source: this.routeLayerSource,\r\n      style: styleFunction\r\n    });\r\n\r\n    this.routeLayerHidden = new ol.layer.Vector({\r\n      source: this.routeLayerSourceHidden,\r\n      style: styleFunctionHidden\r\n    });\r\n\r\n  }\r\n\r\n  public getRouteLayer(): any {\r\n    return this.routeLayer;\r\n  }\r\n\r\n  public getHiddenRouteLayer(): any {\r\n    return this.routeLayerHidden;\r\n  }\r\n\r\n  public showRoute(route: Object[]): void {\r\n    console.log(\"showRoute called\");\r\n\r\n    this.routeLayerSource.clear();\r\n    this.routeLayerSourceHidden.clear();\r\n\r\n    for (let i = 0; i < route.length; i++) {\r\n      if (route[i][\"layer\"] == 0) {\r\n        this.routeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n      }\r\n      else {\r\n        this.routeLayerSourceHidden.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n      }\r\n    }\r\n  }\r\n\r\n  public hideRoute(): void {\r\n    console.log(\"hideRoute called\");\r\n\r\n    this.routeLayerSource.clear();\r\n    this.routeLayerSourceHidden.clear();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/routemap.ts","export const environment = {\r\n  production: true\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.prod.ts","\r\nexport enum ApplicationModeT {\r\n  DEFAULT,\r\n  EDIT_NODES,\r\n  EDIT_POIS,\r\n  EDIT_BACKGROUND,\r\n  EDIT_BEACONS\r\n}\r\n\r\nexport class ApplicationMode {\r\n\r\n  constructor(\r\n    public mode: ApplicationModeT,\r\n    public name: string\r\n  )\r\n  { }\r\n\r\n  static CreateDefault(): ApplicationMode {\r\n    //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n    return new ApplicationMode(ApplicationModeT.EDIT_NODES, \"Navigationsmesh\");\r\n  }\r\n\r\n}\r\n\r\nexport const ApplicationModes = [\r\n  ApplicationMode.CreateDefault(),\r\n  new ApplicationMode(ApplicationModeT.EDIT_POIS, \"Points of Interest\"),\r\n  new ApplicationMode(ApplicationModeT.EDIT_BEACONS, \"Beacons\")//,\r\n  //new ApplicationMode(ApplicationModeT.EDIT_BACKGROUND, \"Hintergrund\")\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/applicationmode.ts","module.exports = \"\\r\\n\\r\\n.app-toolbar-filler{\\r\\n  -webkit-box-flex:1;\\r\\n      -ms-flex:1 1 auto;\\r\\n          flex:1 1 auto;\\r\\n  height:3em;\\r\\n}\\r\\n\\r\\n.header-toolbar{\\r\\n  position:absolute;\\r\\n  top:0em;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  background-color:#51ae32;\\r\\n  color:#ffffff;\\r\\n  height:3em;\\r\\n  margin:0;\\r\\n  z-index:1;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 880\n// module chunks = 0","module.exports = \".positionindicator{\\r\\n  position:fixed;\\r\\n  bottom:3.5em;\\r\\n  right:0.5em;\\r\\n}\\r\\n\\r\\n.positionbutton{\\r\\n  background-color:white;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconconnector/beaconconnector.component.css\n// module id = 881\n// module chunks = 0","module.exports = \".dialogDiv{\\r\\n  position:relative;\\r\\n  width:12em;\\r\\n}\\r\\n\\r\\n.closeDialogButton{\\r\\n  position:absolute;\\r\\n  top:-42px;\\r\\n  right:-22px;\\r\\n  padding:0 0;\\r\\n  min-width:3em;\\r\\n  color:#51AE32;\\r\\n}\\r\\n\\r\\n.NavigateButton{\\r\\n  padding:0 0;\\r\\n  min-width:5em;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.idInput{\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.nameInput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.batteryOutput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.controlButtonTable{\\r\\n  padding:0px;\\r\\n  margin:0px;\\r\\n  border:0px;\\r\\n  border-spacing:0;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.ScanButton{\\r\\n  padding:0 0;\\r\\n  width:100%;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.ControlButtonSpacer{\\r\\n  min-width:3em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.navigateDiv{\\r\\n  padding-top:1em;\\r\\n  padding-bottom:1em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beacondialog/beacondialog.component.css\n// module id = 882\n// module chunks = 0","module.exports = \".modecontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.modecontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  padding-left:0.5em;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.modecontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconmodeselector/beaconmodeselector.component.css\n// module id = 883\n// module chunks = 0","module.exports = \".map{\\r\\n  position:absolute; //top:3.5em;\\r\\n  top:0;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:#ffffff;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  padding:0.2em;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n  min-width:4em;\\r\\n  max-width:8em;\\r\\n  padding-right:0.2em;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after, .beacon-ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editablemap/editablemap.component.css\n// module id = 884\n// module chunks = 0","module.exports = \".floorselector{\\r\\n  position:absolute;\\r\\n  bottom:1.0em;\\r\\n  left:1.0em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n}\\r\\n\\r\\n.floormenutext{\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenuIcon{\\r\\n  color:#51AE32;\\r\\n  margin-right:0.2em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/floorselector/floorselector.component.css\n// module id = 885\n// module chunks = 0","module.exports = \".modeselector{\\r\\n  position:absolute;\\r\\n  top:1.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.modeselectormenu{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modeselector/modeselector.component.css\n// module id = 886\n// module chunks = 0","module.exports = \".poicontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.poicontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.poicontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\\r\\n.poicontrolmenuIcon{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  margin-right:0.2em;\\r\\n  float:left;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/poiselector/poiselector.component.css\n// module id = 887\n// module chunks = 0","module.exports = \".roomsearch{\\r\\n  position:absolute;\\r\\n  top:0.7em;\\r\\n  left:4.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.search-result{\\r\\n  border-bottom:1px solid gray;\\r\\n  border-left:1px solid gray;\\r\\n  border-right:1px solid gray;\\r\\n  width:195px;\\r\\n  height:20px;\\r\\n  padding:5px;\\r\\n  background-color:white;\\r\\n  cursor:pointer;\\r\\n}\\r\\n#search-box{\\r\\n  width:200px;\\r\\n  height:20px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearch/roomsearch.component.css\n// module id = 888\n// module chunks = 0","module.exports = \".placeholder-white{\\r\\n  color:#ffffff;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearchmd/roomsearchmd.component.css\n// module id = 889\n// module chunks = 0","module.exports = \".routetest{\\r\\n  position:absolute;\\r\\n  top:8.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.routetestbutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routetest/routetest.component.css\n// module id = 890\n// module chunks = 0","module.exports = \".map{\\r\\n  position:absolute;\\r\\n  top:3.5em;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:white;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\r\\n  padding:15px;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n}\\r\\n.ol-popup:after, .ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n.ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n.ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n.ol-popup-closer{\\r\\n  text-decoration:none;\\r\\n  position:absolute;\\r\\n  top:2px;\\r\\n  right:8px;\\r\\n}\\r\\n.ol-popup-closer:after{\\r\\n  content:\\\"\\\";\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/testmap/testmap.component.css\n// module id = 891\n// module chunks = 0","module.exports = \"<!--<app-testmap #mapComp [applicationMode]=\\\"currentAppMode\\\"></app-testmap>\\r\\n<app-routetest [mapComponentRef] = mapComp *ngIf=\\\"currentAppMode && currentAppMode.showDemoRoute\\\"></app-routetest>\\r\\n-->\\r\\n\\r\\n\\r\\n<app-editablemap #mapComp\\r\\n  [applicationMode]=\\\"currentAppMode\\\"\\r\\n  [currentFloor]=\\\"currentFloor\\\"\\r\\n  [poiTypes]=\\\"poiTypes\\\"\\r\\n  [currentPoiType]=\\\"currentPoiType\\\"\\r\\n  [beaconEditMode]=\\\"beaconEditMode\\\"\\r\\n  [setBeaconSignals]=\\\"beaconSignals\\\">\\r\\n</app-editablemap>\\r\\n<app-floorselector (currentFloorEvt)=\\\"floorChanged($event)\\\"></app-floorselector>\\r\\n<app-modeselector (currentAppModeEvt)=\\\"appModeChanged($event)\\\"></app-modeselector>\\r\\n<app-poiselector (currentSelectedPoiEvt)=\\\"currentPoiTypeChanged($event)\\\"\\r\\n                  (poiTypeReceivedEvt)=\\\"PoiTypesReceived($event)\\\"\\r\\n                  *ngIf=\\\"showPoiSelector\\\"></app-poiselector>\\r\\n<app-beaconmodeselector (currentSelectedModeEvt)=\\\"beaconEditModeChanged($event)\\\"\\r\\n                  *ngIf=\\\"showBeaconEditModeSelector\\\"></app-beaconmodeselector>\\r\\n<app-beaconconnector (updateSignalsEvent)=\\\"beaconSignalsChanged($event)\\\">\\r\\n  </app-beaconconnector>\\r\\n<!--\\r\\n<md-toolbar class = \\\"header-toolbar\\\">\\r\\n  <span>Medcampus</span>\\r\\n\\r\\n  <span class=\\\"app-toolbar-filler\\\"></span>\\r\\n\\r\\n  <app-roomsearchmd></app-roomsearchmd>\\r\\n\\r\\n</md-toolbar>\\r\\n-->\\r\\n<!--\\r\\n<md-toolbar>\\r\\n  TestToolbar\\r\\n</md-toolbar>\\r\\n\\r\\n\\r\\n\\r\\n<md-card>\\r\\n  <p>Last dialog result: {{lastDialogResult}}</p>\\r\\n  <button md-icon-button (click)=\\\"openDialog()\\\">\\r\\n     <md-icon>navigation</md-icon>\\r\\n  </button>\\r\\n</md-card>\\r\\n-->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 893\n// module chunks = 0","module.exports = \"<div class=\\\"positionindicator\\\" *ngIf=\\\"isActive\\\" >\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 0\\\" ><md-icon>location_disabled</md-icon></button>\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 1\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>location_searching</md-icon></button>\\r\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 2\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>gps_fixed</md-icon></button>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconconnector/beaconconnector.component.html\n// module id = 894\n// module chunks = 0","module.exports = \"<div class=\\\"dialogDiv\\\">\\r\\n  <input type=\\\"hidden\\\" tabindex=\\\"0\\\" autofocus/>\\r\\n\\r\\n  <div>\\r\\n    <h2>\\r\\n      Beacon\\r\\n    </h2>\\r\\n    <input class=\\\"idInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Id...\\\" mdInput [formControl]=\\\"macInputVal\\\" readonly>\\r\\n\\r\\n    <input class=\\\"nameInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Name...\\\" mdInput [formControl]=\\\"nameInputVal\\\">\\r\\n\\r\\n    <input class=\\\"batteryOutput\\\" autocomplete=\\\"off\\\" placeholder=\\\"battery...\\\" mdInput [formControl]=\\\"batteryOutputVal\\\" readonly>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class='navigateDiv'>\\r\\n    <button class='ScanButton' (click)=\\\"scan()\\\" md-button>\\r\\n      <span>Scan...</span>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <table class=\\\"controlButtonTable\\\">\\r\\n    <tr>\\r\\n      <td>\\r\\n        <button class='NavigateButton' (click)=\\\"closeDialog()\\\" md-button>\\r\\n          <span>Cancel</span>\\r\\n        </button>\\r\\n      </td>\\r\\n      <td >\\r\\n        <div class='ControlButtonSpacer'>\\r\\n        </div>\\r\\n      </td>\\r\\n      <td>\\r\\n        <button class='NavigateButton' (click)=\\\"save()\\\" [disabled]=\\\"okButtonDisabled\\\" md-button>\\r\\n          <span>Ok</span>\\r\\n        </button>\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n\\r\\n  <button class='closeDialogButton' (click)=\\\"closeDialog()\\\" md-button>\\r\\n    <md-icon>close</md-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beacondialog/beacondialog.component.html\n// module id = 895\n// module chunks = 0","module.exports = \"<div class=\\\"modecontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"modecontrolmenubutton\\\">\\r\\n     <span class=\\\"modecontrolmenutext\\\">{{selectedMode.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let mode of modes\\\" (click)=\\\"onSelect(mode)\\\" class=\\\"modecontrolmenubutton\\\">\\r\\n      <span class=\\\"modecontrolmenutext\\\">{{mode.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconmodeselector/beaconmodeselector.component.html\n// module id = 896\n// module chunks = 0","module.exports = \"<div id=\\\"map\\\" class=\\\"map\\\">\\r\\n\\r\\n  <div #beaconPopups>\\r\\n    <div *ngFor=\\\"let overlay of beaconOverlays\\\">\\r\\n      <div  class=\\\"beacon-ol-popup\\\">\\r\\n        <div class=\\\"beacon-popup-content\\\"><span class=\\\"beacon-popup-content-span\\\"></span></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<!--\\r\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">-->\\r\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\r\\n<!--    <div id=\\\"popup-content\\\">Hi!..........</div>\\r\\n</div> -->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editablemap/editablemap.component.html\n// module id = 897\n// module chunks = 0","module.exports = \"<div class=\\\"floorselector\\\" *ngIf=\\\"selectedFloor\\\">\\r\\n\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menufloors\\\" class=\\\"floormenu\\\">\\r\\n     <md-icon class=\\\"floormenuIcon\\\">layers</md-icon><span>{{selectedFloor.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menufloors=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let floor of floorList\\\" (click)=\\\"onSelect(floor)\\\" class=\\\"floormenutext\\\">{{floor.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/floorselector/floorselector.component.html\n// module id = 898\n// module chunks = 0","module.exports = \"<div class=\\\"modeselector\\\">\\r\\n  <!--\\r\\n  <md-button-toggle-group #group=\\\"mdButtonToggleGroup\\\" (change)=\\\"modechanged()\\\">\\r\\n    <table>\\r\\n      <tr *ngFor=\\\"let mode of modes\\\">\\r\\n        <td>\\r\\n          <md-button-toggle (change)=\\\"modechanged(mode)\\\">\\r\\n            {{mode.name}}\\r\\n          </md-button-toggle>\\r\\n        </td>\\r\\n      </tr>\\r\\n  </table>\\r\\n</md-button-toggle-group>\\r\\n-->\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuApplicationmodes\\\" class=\\\"modemenu\\\">\\r\\n     <md-icon>more_vert</md-icon><span>{{currentAppMode.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuApplicationmodes=\\\"mdMenu\\\">\\r\\n       <button md-menu-item  *ngFor=\\\"let mode of modes\\\" (click)=\\\"modechanged(mode)\\\">{{mode.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modeselector/modeselector.component.html\n// module id = 899\n// module chunks = 0","module.exports = \"<div class=\\\"poicontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n     <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{selectedPoiType.iconurl}}\\\" alt=\\\"{{selectedPoiType.name}}\\\"><span class=\\\"poicontrolmenutext\\\">{{selectedPoiType.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let poi of pois\\\" (click)=\\\"onSelect(poi)\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n      <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{poi.iconurl}}\\\" alt=\\\"{{poi.name}}\\\">\\r\\n      <span class=\\\"poicontrolmenutext\\\">{{poi.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/poiselector/poiselector.component.html\n// module id = 900\n// module chunks = 0","module.exports = \"\\r\\n<div class=\\\"roomsearch\\\">\\r\\n  <input #searchBox id=\\\"search-box\\\" (keyup)=\\\"search(searchBox.value)\\\"\\r\\n    placeholder=\\\"Suche Raum...\\\" [(ngModel)] = \\\"currentSearchTerm\\\" />\\r\\n  <div>\\r\\n    <div *ngFor=\\\"let room of rooms | async\\\"\\r\\n         (click)=\\\"selectRoom(room)\\\" class=\\\"search-result\\\" >\\r\\n      {{room.name}}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearch/roomsearch.component.html\n// module id = 901\n// module chunks = 0","module.exports = \"\\r\\n<table>\\r\\n  <tr>\\r\\n    <td>\\r\\n      <i class=\\\"material-icons app-input-icon\\\">search</i>\\r\\n    </td>\\r\\n    <td>\\r\\n      <md-input-container>\\r\\n        <input type=\\\"text\\\" mdInput [formControl]=\\\"term\\\" [mdAutocomplete]=\\\"auto\\\">\\r\\n      </md-input-container>\\r\\n    </td>\\r\\n  </tr>\\r\\n</table>\\r\\n\\r\\n<md-autocomplete #auto=\\\"mdAutocomplete\\\">\\r\\n   <md-option *ngFor=\\\"let room of rooms\\\" [value]=\\\"room.name\\\" (click)=\\\"selectRoom(room)\\\">\\r\\n      {{ room.name }}\\r\\n   </md-option>\\r\\n</md-autocomplete>\\r\\n\\r\\n\\r\\n<!--\\r\\n<i class=\\\"material-icons app-input-icon\\\">search</i>\\r\\n\\r\\n<md-input-container>\\r\\n  <input mdInput #searchBox  placeholder=\\\"Raumsuche\\\" class=\\\"placeholder-white\\\" floatingPlaceholder=true [formControl]=\\\"term\\\">\\r\\n</md-input-container>\\r\\n\\r\\n<div [hidden]=\\\"!showsuggestions\\\">\\r\\n  <div [hidden]=\\\"true\\\">\\r\\n    <button md-raised-button [mdMenuTriggerFor]=\\\"menusearch\\\" class=\\\"floormenu\\\">\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <md-menu #menusearch=\\\"mdMenu\\\" [hidden]=\\\"!showsuggestions\\\">\\r\\n       <button md-menu-item *ngFor=\\\"let room of rooms\\\" (click)=\\\"selectRoom(room)\\\">{{room.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n-->\\r\\n\\r\\n\\r\\n<!--\\r\\n<div class=\\\"suggestions\\\" *ngIf=\\\"rooms.length > 0\\\">\\r\\n    <ul>\\r\\n        <li *ngFor=\\\"let room of rooms\\\">\\r\\n            <a (click)=\\\"selectRoom(room)\\\">{{room.name}}</a>\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n-->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearchmd/roomsearchmd.component.html\n// module id = 902\n// module chunks = 0","module.exports = \"<div class=\\\"routetest\\\">\\r\\n  <button md-raised-button (click)=\\\"toogleroute()\\\" class=\\\"routetestbutton\\\">\\r\\n     <md-icon>directions</md-icon><span></span>\\r\\n  </button>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routetest/routetest.component.html\n// module id = 903\n// module chunks = 0","module.exports = \"<!--<p>\\r\\n  testmap works!\\r\\n</p>-->\\r\\n<div id=\\\"map\\\" class=\\\"map\\\">\\r\\n</div>\\r\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">\\r\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\r\\n    <div id=\\\"popup-content\\\">Hi!..........</div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/testmap/testmap.component.html\n// module id = 904\n// module chunks = 0"],"sourceRoot":""}