{"version":3,"sources":["webpack:///main.61c12fdfb25500bcbda3.bundle.js","webpack:///./src/app/base/floor.ts","webpack:///./src/app/base/beaconeditmode.ts","webpack:///./src/app/base/globalconstants.ts","webpack:///./src/app/base/poitype.ts","webpack:///./src/app/beacondialog/beacondialog.component.ts","webpack:///./src/app/testmap/testmap.component.ts","webpack:///./src/app/mapservice/map.service.ts","webpack:///./src async","webpack:///./src/app/editablemap/mapLayerBase.ts","webpack:///./src/main.ts","webpack:///./src/app/editablemap/openlayershelper.ts","webpack:///./src/app/mapservicehttp/mapservicehttp.service.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/base/point.ts","webpack:///./src/app/base/signal.ts","webpack:///./src/app/beaconconnector/beaconconnector.component.ts","webpack:///./src/app/beaconconnector/signalbuffer.ts","webpack:///./src/app/beaconconnector/signalbuffercollection.ts","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.ts","webpack:///./src/app/editablemap/editablemap.component.ts","webpack:///./src/app/editablemap/mapDoors.ts","webpack:///./src/app/editablemap/mapEdges.ts","webpack:///./src/app/editablemap/mapEditEdges.ts","webpack:///./src/app/editablemap/mapFloor.ts","webpack:///./src/app/editablemap/mapNodes.ts","webpack:///./src/app/editablemap/mapNodesStyles.ts","webpack:///./src/app/editablemap/mapRoom.ts","webpack:///./src/app/editablemap/mapRoute.ts","webpack:///./src/app/editablemap/mapRouteStyles.ts","webpack:///./src/app/editablemap/mapbeacons.ts","webpack:///./src/app/editablemap/mapbeaconstyles.ts","webpack:///./src/app/editablemap/mappois.ts","webpack:///./src/app/floorselector/floorselector.component.ts","webpack:///./src/app/mapcontrollerservice/mapcontrollerservice.service.ts","webpack:///./src/app/mapservice/mock-basemap01.ts","webpack:///./src/app/mapservice/mock-basemap02.ts","webpack:///./src/app/mapservice/mock-floors.ts","webpack:///./src/app/mapservice/mock-navigationedges.ts","webpack:///./src/app/mapservice/mock-rooms.ts","webpack:///./src/app/mapservice/mock-route.ts","webpack:///./src/app/modeselector/modeselector.component.ts","webpack:///./src/app/poiselector/poiselector.component.ts","webpack:///./src/app/roomsearch/roomsearch.component.ts","webpack:///./src/app/roomsearchmd/roomsearchmd.component.ts","webpack:///./src/app/routetest/routetest.component.ts","webpack:///./src/app/testmap/navigationedges.ts","webpack:///./src/app/testmap/roommap.ts","webpack:///./src/app/testmap/routemap.ts","webpack:///./src/environments/environment.prod.ts","webpack:///./src/app/base/applicationmode.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/beaconconnector/beaconconnector.component.css","webpack:///./src/app/beacondialog/beacondialog.component.css","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.css","webpack:///./src/app/editablemap/editablemap.component.css","webpack:///./src/app/floorselector/floorselector.component.css","webpack:///./src/app/modeselector/modeselector.component.css","webpack:///./src/app/poiselector/poiselector.component.css","webpack:///./src/app/roomsearch/roomsearch.component.css","webpack:///./src/app/roomsearchmd/roomsearchmd.component.css","webpack:///./src/app/routetest/routetest.component.css","webpack:///./src/app/testmap/testmap.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/beaconconnector/beaconconnector.component.html","webpack:///./src/app/beacondialog/beacondialog.component.html","webpack:///./src/app/beaconmodeselector/beaconmodeselector.component.html","webpack:///./src/app/editablemap/editablemap.component.html","webpack:///./src/app/floorselector/floorselector.component.html","webpack:///./src/app/modeselector/modeselector.component.html","webpack:///./src/app/poiselector/poiselector.component.html","webpack:///./src/app/roomsearch/roomsearch.component.html","webpack:///./src/app/roomsearchmd/roomsearchmd.component.html","webpack:///./src/app/routetest/routetest.component.html","webpack:///./src/app/testmap/testmap.component.html"],"names":["webpackJsonp","1153","module","exports","__webpack_require__","184","d","Floor","obj","this","id","name","building","getDefaultFloor","276","BeaconEditModeT","BeaconEditMode","BeaconEditModes","mode","CreateDefault","DEFAULT","ADD","MOVE","32","USEHTTPSERVICE","MODIFY_EDGE_MINSTARTPOINT_DISTANCE","448","PoiType","selected","iconurl","449","__WEBPACK_IMPORTED_MODULE_0__angular_core__","__WEBPACK_IMPORTED_MODULE_1__angular_forms__","__WEBPACK_IMPORTED_MODULE_2__angular_material__","BeacondialogComponent","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","dialogRef","macInputVal","nameInputVal","batteryOutputVal","mac","okButtonDisabled","nearestSignal","undefined","prototype","ngOnInit","_this","valueChanges","debounceTime","subscribe","term","updateOkButtonEnabled","scan","console","log","value","setValue","battery","closeDialog","close","save","setMacAndName","setNearestSignal","val","JSON","stringify","selector","template","styles","_a","450","__WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__","__WEBPACK_IMPORTED_MODULE_4__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_5__routemap__","__WEBPACK_IMPORTED_MODULE_6__roommap__","__WEBPACK_IMPORTED_MODULE_7__navigationedges__","TestmapComponent","mapServiceHttp","mapService","_applicationMode","testString","ngAfterViewInit","loadPOIs","loadBaseMap","createOverlay","select","ol","interaction","Select","wrapX","layers","layer","allowOLSelection","routemap","Initialize","navigationmap","roommap","modify","Modify","features","getFeatures","condition","evt","allowOLModify","extent","proj","Projection","code","units","imageExtent","map","Map","controls","control","defaults","attributionOptions","collapsible","zoom","interactions","extend","Tile","source","OSM","poiLayer","baseMapLayer","getRouteLayer","getHiddenRouteLayer","getRoomLayer","getEdgeLayer","getEdgePathLayer","overlays","roomOverlay","view","View","projection","center","fromLonLat","maxZoom","minZoom","on","mapClicked","mapMouseMoved","selectionChanged","set","applicationMode","selected_collection","EDIT_NODES","getArray","updateEdges","clear","Clear","enumerable","configurable","keyboardInput","event","keyCode","deleteSelectedEdge","get","deselectedFeatures","deselected","selectedFeatures","_i","selectedFeatures_1","feature","geometry","getGeometry","startPoint","getFirstCoordinate","endPoint","getLastCoordinate","getDistance","coordinate","p1","p2","xdiff","ydiff","Math","sqrt","iconFeature","Feature","geom","Point","description","iconStyle","style","Style","image","Icon","anchor","anchorXUnits","anchorYUnits","src","setStyle","vectorSource","Vector","geojsonObject","type","crs","properties","coordinates","baseMapVectorSource","format","GeoJSON","readFeatures","styleFunction","stroke","Stroke","color","width","fill","Fill","getBaseMap","then","basemap","updateBaseMap","baseMap","addFeatures","roomPopup","document","getElementById","Overlay","element","autoPan","autoPanAnimation","duration","showRoute","route","hideRoute","showRooms","rooms","showNavigationEdges","edges","showEdges","dragging","pixel","getEventPixel","originalEvent","mouseMoved","transform","ctrlKey","mouseClickedCtrl","mouseClicked","_b","Function","_c","_d","50","__WEBPACK_IMPORTED_MODULE_1__mock_basemap02__","__WEBPACK_IMPORTED_MODULE_2__mock_basemap01__","__WEBPACK_IMPORTED_MODULE_3__mock_floors__","__WEBPACK_IMPORTED_MODULE_4__mock_rooms__","__WEBPACK_IMPORTED_MODULE_5__mock_route__","__WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__","__WEBPACK_IMPORTED_MODULE_7_rxjs__","n","MapService","getBaseMapIntern","Promise","resolve","setTimeout","getFloorNames","of","getRooms","getDoors","getFloors","getNavigationEdges","getNavigationEdgesIntern","getRoute","sourceNodeId","destinationNodeId","getPoiTypes","getPoiInstances","getBeacons","searchRoom","startsWith","push","getNavigationNodes","geojson","addNode","floor","addEdge","destination","path","addPoiInstance","poitypeid","addBeacon","deleteNode","deleteEdge","deletePoi","deleteBeacon","updateNode","node","updateEdge","edge","updatePoi","updateBeacon","beacon","529","webpackEmptyContext","req","Error","keys","53","MapLayerBase","subscription","isActive","getLayer","setActive","active","setVisible","clearSelection","layerSource","subscribeNewRequest","sub","unsubscribe","530","__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__","__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__","__WEBPACK_IMPORTED_MODULE_2__angular_core__","__WEBPACK_IMPORTED_MODULE_3__environments_environment__","__WEBPACK_IMPORTED_MODULE_4__app_app_module__","production","bootstrapModule","54","__WEBPACK_IMPORTED_MODULE_0__base_applicationmode__","OpenlayersHelper","CreateBasicLayer","CurrentApplicationMode","55","__WEBPACK_IMPORTED_MODULE_1__angular_http__","__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_6__base_floor__","__WEBPACK_IMPORTED_MODULE_7__base_poitype__","MapHttpService","__extends","b","__","constructor","p","hasOwnProperty","create","_super","http","call","baseUrl","roomUrl","edgeUrl","floorUrl","nodeUrl","doorUrl","levelUrl","routeUrl","poiTypeUrl","poiInstanceUrl","beaconUrl","extractData","catch","handleError","extractDataFloors","extractDataPoiTypes","headers","Content-Type","options","data","category","post","extractDataAdd","level","position","delete","response","extractDataDel","put","res","body","json","results","floors","body_1","poitypes","body_2","error","errMsg","err","status","statusText","message","toString","throw","677","__WEBPACK_IMPORTED_MODULE_1__angular_material__","__WEBPACK_IMPORTED_MODULE_2__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_3__base_floor__","AppComponent","DialogContent","__param","paramIndex","decorator","_dialog","currentAppMode","currentFloor","currentPoiType","poiTypes","beaconEditMode","beaconSignals","showPoiSelector","showBeaconEditModeSelector","openDialog","open","afterClosed","result","lastDialogResult","sayHi","info","appModeChanged","EDIT_POIS","EDIT_BEACONS","floorChanged","currentPoiTypeChanged","poiType","PoiTypesReceived","beaconEditModeChanged","beaconSignalsChanged","signal","678","__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","__WEBPACK_IMPORTED_MODULE_2__angular_forms__","__WEBPACK_IMPORTED_MODULE_3__angular_http__","__WEBPACK_IMPORTED_MODULE_4__angular_material__","__WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__","__WEBPACK_IMPORTED_MODULE_8__app_component__","__WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__","__WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__","__WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__","__WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__","__WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__","__WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__","__WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__","__WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__","__WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__","__WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__","__WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__","AppModule","declarations","imports","forRoot","providers","entryComponents","bootstrap","679","x","y","createFromAr","ar","getAr","680","Signal","origSignal","681","__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__","__WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__","BeaconconnectorComponent","PositionStatus","demoMode","zone","updateSignalsEvent","positionStatus","InActive","positioningStarted","signalBufferCollection","window","componentFn","signalDataChanged","component","hasAppInterface","appInterfaceObject","testapp","startCheckTimer","scanButtonClickedPosition","updatePositionStatus","startScan","stopScan","Active","addValues","start","startPosUpdateTimer","demo","stopPosUpdateTimer","stop","emit","posUpdateTimerSubscription","timer","t","posUpdateEvent","signals","getAllSignals","checkTimerSubscription","stopCheckTimer","checkTimerEvent","check","Paused","682","SignalBuffer","filterValue","minValue","lastOrigValue","milliseconds","Date","getTime","lastValueTimeStamp","filteredValue","lastValue","checkClearValue","683","__WEBPACK_IMPORTED_MODULE_0__signalbuffer__","__WEBPACK_IMPORTED_MODULE_2__base_signal__","SignalBufferCollection","stopClearTimer","startClearTimer","valuestring","parse","data_1","addValue","getNearestBeacon","bestValue","bestID","getJSONString","getURLString","urlString","index","clearTimerSubscription","clearTimerEvent","keysToDelete","684","__WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__","__WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_4__base_globalconstants__","BeaconmodeselectorComponent","modes","showControl","selectedMode","currentSelectedModeEvt","onSelect","selectMode","685","__WEBPACK_IMPORTED_MODULE_5__base_floor__","__WEBPACK_IMPORTED_MODULE_6__base_poitype__","__WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__","__WEBPACK_IMPORTED_MODULE_8__mapNodes__","__WEBPACK_IMPORTED_MODULE_9__mapDoors__","__WEBPACK_IMPORTED_MODULE_10__mapRoom__","__WEBPACK_IMPORTED_MODULE_11__mapFloor__","__WEBPACK_IMPORTED_MODULE_12__mapEdges__","__WEBPACK_IMPORTED_MODULE_13__mapEditEdges__","__WEBPACK_IMPORTED_MODULE_14__mapRoute__","__WEBPACK_IMPORTED_MODULE_15__mappois__","__WEBPACK_IMPORTED_MODULE_16__mapbeacons__","__WEBPACK_IMPORTED_MODULE_17__openlayershelper__","__WEBPACK_IMPORTED_MODULE_18__angular_material__","EditablemapComponent","maxNumberOfBeaconOverlays","dialog","beaconOverlays","mapNodes","mapDoors","mapRooms","mapFloor","mapEdges","mapEditEdges","mapRoute","mapPois","mapBeacons","ctlPressed","Array","beaconPopUps","extendMap","updateLayers","updateData","setCurrentFloor","poitype","setCurrentSelectedPoiType","setPoiTypes","setBeaconEditMode","setBeaconSignals","shiftPressed","keyboardKeyUp","ctlReleased","deleteSelectedNodes","deleteSelectedEdges","deleteSelectedPoi","shiftReleased","addOverlay","overlay","shiftKey","setLayerActive","_e","_f","_g","_h","_j","_k","_l","_m","686","__WEBPACK_IMPORTED_MODULE_0__openlayershelper__","__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__","MapDoors","floorId","doors","showDoors","getDummyDoors","687","__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__","__WEBPACK_IMPORTED_MODULE_2__openlayershelper__","MapEdges","highlightedFeature","highlightFeatureOverlay","selectFeature","selectFeatureOverlay","lineDash","getHighlightedEdgeId","getId","getEdgeForId","getFeatureById","updateMouseMoved","allowHighlight","initHighlightFeatureOverlay","layerFilter","testLayer","forEachFeatureAtPixel","getSource","removeFeature","addFeature","updateMouseClicked","initSelectFeatureOverlay","edgeDeleted","deleteEdgeById","addNewEdge","end","sourceId","destinationId","getCoordinates","line","LineString","distance","getLength","edgeAdded","getEdgesForNode","nodeId","filter","removeEdgesForNode","edges_1","688","__WEBPACK_IMPORTED_MODULE_0__base_point__","MapEditEdges","startPositions","lineAr","multiLineString","MultiLineString","multiLineFeature","setNewStartPos","point","setNewStartPositionsForEdgeFeatures","startnodeId","pos","setNewEndPos","setCoordinates","setNewLine","updatedNode","coord","edges_2","geo","writeFeature","edgeUpdated","689","MapFloor","floorid","buildings","showFloors","getDummyFloor","690","__WEBPACK_IMPORTED_MODULE_1__base_applicationmode__","__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__","__WEBPACK_IMPORTED_MODULE_3__openlayershelper__","__WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__","MapNodes","displayEditLines","isModifying","lastMousePostion","currentFloorId","ctrlPressed","lastSelectedNode","VirtualNodeStyle","PoiNodeStyle","DefaultNodeStyle","testSelect","toggleCondition","events","never","addInteraction","testModify","featureSelected","featureModifyStart","featureModified","nodes","showNodes","worldposition","selectedFeature","selectNewNode","addNewNodeOnPos","updateAddNode","selectedStartNodeFeature","edgeToSplitId","endNode","edgeToSplit","node1","node2","nodeDeleted","highlightedEdgeId","higlightStyle","doShowRoute","generateRoute","features_1","nodeUpdated","selFeatures","691","MapNodesStyles","higlightImage","Circle","radius","DefaultNodeImage","VirtualNodeImage","PoiNodeImage","692","MapRoom","olFeatures","getDummyRoom","693","__WEBPACK_IMPORTED_MODULE_0__mapLayerBase__","__WEBPACK_IMPORTED_MODULE_1__openlayershelper__","__WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__","MapRoute","currentStartNodeId","createRoute","routeCurrentFloor","e","routeHiddenFloor","destinationNode","updateRoute","refresh","694","MapRouteStyles","695","__WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__","__WEBPACK_IMPORTED_MODULE_4__mapbeaconstyles__","MapBeacons","beaconPopUpBaseElem","mapComponent","lastMouseClickPosition","editMode","currentSelectedBeacon","highlightFeaturePoint","highlightFeature","highlightFeatureAdded","beaconFeatures","lastOverlaysUsed","beaconTextFields","GetStyle","InitStyles","beacons","showBeacons","initBeaconOverlays","hSignal","componentInstance","resetBeaconOverlays","setProperties","j","setBeaconOverlay","orgvalue","setPosition","innerHTML","toFixed","base","nativeElement","childs","children","elemCount","overlayDivs","OverlayDiv","innerDiv","span","pixelPos","CreateNewBeacon","isSelected","selectBeacon","showSelectedBeaconInfo","moveCurrentBeacon","testOnly","poi","beaconUpdated","beaconDialogClosed","dialogComp","addOrUpdateBeacon","updateAddBeacon","higlightObject","696","MapBeaconStyles","getMaxIndex","getRValue","g","getGValue","circle","signalValue","minSignalValue","maxSignalValue","getIndex","getHalfIndex","697","MapPois","iconStyleMap","currentSelectedPoi","featureAdded","showPois","strgPressed","createNewPoi","moveCurrentPoi","selectPoi","poiDeleted","poiUpdated","updateAddPoi","showPoisWithStyles","poiTypeId","698","FloorselectorComponent","floorList","selectedFloor","currentFloorEvt","updateFloors","selectFloor","699","MapcontrollerserviceService","700","BASEMAP_1","701","BASEMAP","702","__WEBPACK_IMPORTED_MODULE_0__base_floor__","FLOORS","703","NAVIGATIONEDGES_DEMO","704","ROOMS","705","DEMOROUTE","706","ModeselectorComponent","currentAppModeEvt","modechanged","707","PoiselectorComponent","pois","selectedPoiType","currentSelectedPoiEvt","poiTypeReceivedEvt","updatePois","poilist","708","__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__","__WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__","__WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__","__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__","RoomsearchComponent","searchTerms","currentSearchTerm","distinctUntilChanged","switchMap","search","next","selectRoom","room","709","RoomsearchmdComponent","showsuggestions","flatMap","items","searchResults","logstring","710","__WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__","RoutetestComponent","routeVisible","toogleroute","mapComponentRef","711","NavigationMap","edgeLayerSource","edgePathLayerSource","styleFunctionPath","edgeLayer","edgePathLayer","zIndex","updateAddEdge","featureArray","featureArray_1","712","RoomMap","featureOverlay","selectedRoomOverlay","selectedRoom","navigationMap","roomLayerSource","roomLayer","initFeatureOverlay","highlight","initSelectedRoomOverlay","getInteriorPoint","B","713","RouteMap","routeLayerSource","routeLayerSourceHidden","styleFunctionHidden","routeLayer","routeLayerHidden","714","environment","715","__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__","__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__","__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__","__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__","__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__","__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__","__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__","__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__","__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__","__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__","__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__","__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__","__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__","__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__","__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__","__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__","74","ApplicationModeT","ApplicationMode","ApplicationModes","869","870","871","872","873","874","875","876","877","878","879","880","882","883","884","885","886","887","888","889","890","891","892","893"],"mappings":"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","file":"main.61c12fdfb25500bcbda3.bundle.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 1153:\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(530);\n\n\n/***/ },\n\n/***/ 184:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Floor; });\nvar Floor = (function () {\r\n    function Floor(obj) {\r\n        //console.log(\"Create new floor: \" + JSON.stringify(obj));\r\n        this.id = obj[\"id\"];\r\n        this.name = obj[\"name\"];\r\n        this.building = obj[\"building\"];\r\n    }\r\n    Floor.getDefaultFloor = function () {\r\n        return new Floor({\r\n            \"id\": -1,\r\n            \"name\": \"EG\",\r\n            \"building\": 1\r\n        });\r\n    };\r\n    return Floor;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/floor.js.map\n\n/***/ },\n\n/***/ 276:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return BeaconEditModeT; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconEditMode; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"c\", function() { return BeaconEditModes; });\nvar BeaconEditModeT;\r\n(function (BeaconEditModeT) {\r\n    BeaconEditModeT[BeaconEditModeT[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    BeaconEditModeT[BeaconEditModeT[\"ADD\"] = 1] = \"ADD\";\r\n    BeaconEditModeT[BeaconEditModeT[\"MOVE\"] = 2] = \"MOVE\";\r\n})(BeaconEditModeT || (BeaconEditModeT = {}));\r\nvar BeaconEditMode = (function () {\r\n    function BeaconEditMode(mode, name) {\r\n        this.mode = mode;\r\n        this.name = name;\r\n    }\r\n    BeaconEditMode.CreateDefault = function () {\r\n        //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n        return new BeaconEditMode(BeaconEditModeT.DEFAULT, \"Select\");\r\n    };\r\n    return BeaconEditMode;\r\n}());\r\nvar BeaconEditModes = [\r\n    BeaconEditMode.CreateDefault(),\r\n    new BeaconEditMode(BeaconEditModeT.ADD, \"Add\"),\r\n    new BeaconEditMode(BeaconEditModeT.MOVE, \"Move\") //,\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/beaconeditmode.js.map\n\n/***/ },\n\n/***/ 32:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return USEHTTPSERVICE; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return MODIFY_EDGE_MINSTARTPOINT_DISTANCE; });\nvar USEHTTPSERVICE = true;\r\nvar MODIFY_EDGE_MINSTARTPOINT_DISTANCE = 1.0;\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/globalconstants.js.map\n\n/***/ },\n\n/***/ 448:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return PoiType; });\nvar PoiType = (function () {\r\n    function PoiType(obj) {\r\n        this.id = obj[\"id\"];\r\n        this.name = obj[\"name\"];\r\n        this.selected = obj[\"selected\"];\r\n        this.iconurl = obj[\"icon\"];\r\n    }\r\n    return PoiType;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/poitype.js.map\n\n/***/ },\n\n/***/ 449:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_material__ = __webpack_require__(180);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeacondialogComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nvar BeacondialogComponent = (function () {\r\n    function BeacondialogComponent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.macInputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.nameInputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.batteryOutputVal = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n        this.mac = \"\";\r\n        this.name = \"\";\r\n        this.okButtonDisabled = true;\r\n        this.nearestSignal = undefined;\r\n    }\r\n    BeacondialogComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.macInputVal.valueChanges\r\n            .debounceTime(400).subscribe(function (term) { return _this.updateOkButtonEnabled(); });\r\n        this.nameInputVal.valueChanges\r\n            .debounceTime(400).subscribe(function (term) { return _this.updateOkButtonEnabled(); });\r\n    };\r\n    BeacondialogComponent.prototype.scan = function () {\r\n        console.log(\"BeacondialogComponent::scan()\");\r\n        if (this.nearestSignal && this.nearestSignal.value > -80) {\r\n            this.macInputVal.setValue(this.nearestSignal.mac);\r\n            this.nameInputVal.setValue(this.nearestSignal.name);\r\n            this.batteryOutputVal.setValue(this.nearestSignal.battery + \"%\");\r\n        }\r\n        else {\r\n            this.macInputVal.setValue(\"\");\r\n            this.nameInputVal.setValue(\"\");\r\n        }\r\n    };\r\n    BeacondialogComponent.prototype.closeDialog = function () {\r\n        console.log(\"BeacondialogComponent::closeDialog()\");\r\n        this.dialogRef.close('Closed...');\r\n    };\r\n    BeacondialogComponent.prototype.save = function () {\r\n        console.log(\"BeacondialogComponent::save()\");\r\n        this.mac = this.macInputVal.value;\r\n        this.name = this.nameInputVal.value;\r\n        this.dialogRef.close('Save');\r\n    };\r\n    BeacondialogComponent.prototype.setMacAndName = function (mac, name) {\r\n        this.mac = mac;\r\n        this.name = name;\r\n        this.macInputVal.setValue(this.mac);\r\n        this.nameInputVal.setValue(this.name);\r\n    };\r\n    BeacondialogComponent.prototype.setNearestSignal = function (val) {\r\n        console.log(\"BeacondialogComponent::setNearestSignal() \" + +JSON.stringify(val));\r\n        this.nearestSignal = val;\r\n    };\r\n    BeacondialogComponent.prototype.updateOkButtonEnabled = function () {\r\n        this.okButtonDisabled = this.nameInputVal.value.length <= 0;\r\n    };\r\n    BeacondialogComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-beacondialog',\r\n            template: __webpack_require__(884),\r\n            styles: [__webpack_require__(871)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_material__[\"b\" /* MdDialogRef */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__angular_material__[\"b\" /* MdDialogRef */]) === 'function' && _a) || Object])\r\n    ], BeacondialogComponent);\r\n    return BeacondialogComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/beacondialog.component.js.map\n\n/***/ },\n\n/***/ 450:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__routemap__ = __webpack_require__(713);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__roommap__ = __webpack_require__(712);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__navigationedges__ = __webpack_require__(711);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return TestmapComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//https://openlayers.org/en/latest/examples/icon.html\r\n//https://openlayers.org/en/latest/examples/vector-layer.html\r\n//http://openlayers.org/en/v3.4.0/examples/popup.html\r\n//https://scotch.io/tutorials/routing-angular-2-single-page-apps-with-the-component-router\r\n//https://github.com/angular/angular-cli\r\n//https://github.com/angular/material2/blob/master/docs/theming.md\r\nvar TestmapComponent = (function () {\r\n    function TestmapComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this._applicationMode = __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.testString = 'Hi';\r\n    }\r\n    //content = document.getElementById('popup-content');\r\n    //closer = document.getElementById('popup-closer');\r\n    TestmapComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        console.log(\"INIT!!!\");\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.testString += '.................';\r\n        this.loadPOIs();\r\n        this.loadBaseMap();\r\n        this.createOverlay();\r\n        this.select = new ol.interaction.Select({\r\n            wrapX: false,\r\n            /*\r\n            layers: function(layer) {\r\n                return false;\r\n                //return this.allowOLSelection(layer);\r\n              }*/\r\n            layers: (function (layer) { return _this.allowOLSelection(layer); })\r\n        });\r\n        this.routemap = new __WEBPACK_IMPORTED_MODULE_5__routemap__[\"a\" /* RouteMap */]();\r\n        this.routemap.Initialize();\r\n        this.navigationmap = new __WEBPACK_IMPORTED_MODULE_7__navigationedges__[\"a\" /* NavigationMap */](this.mapService);\r\n        this.navigationmap.Initialize(this.select);\r\n        this.roommap = new __WEBPACK_IMPORTED_MODULE_6__roommap__[\"a\" /* RoomMap */]();\r\n        this.roommap.Initialize(this.navigationmap);\r\n        this.modify = new ol.interaction.Modify({\r\n            features: this.select.getFeatures(),\r\n            condition: (function (evt) { return _this.allowOLModify(evt); })\r\n        });\r\n        var extent = [0, 0, 51200, 25600];\r\n        var projection = new ol.proj.Projection({\r\n            code: 'static-image',\r\n            units: 'pixels',\r\n            imageExtent: extent\r\n        });\r\n        this.map = new ol.Map({\r\n            controls: ol.control.defaults({\r\n                attributionOptions: ({\r\n                    collapsible: true,\r\n                }),\r\n                zoom: false\r\n            }),\r\n            interactions: ol.interaction.defaults().extend([this.select, this.modify]),\r\n            //controls: [],\r\n            layers: [\r\n                new ol.layer.Tile({\r\n                    source: new ol.source.OSM()\r\n                }),\r\n                this.poiLayer,\r\n                this.baseMapLayer,\r\n                this.routemap.getRouteLayer(),\r\n                this.routemap.getHiddenRouteLayer(),\r\n                this.roommap.getRoomLayer(),\r\n                this.navigationmap.getEdgeLayer(),\r\n                this.navigationmap.getEdgePathLayer()\r\n            ],\r\n            overlays: [this.roomOverlay],\r\n            target: 'map',\r\n            view: new ol.View({\r\n                projection: 'EPSG:900913',\r\n                center: ol.proj.fromLonLat([15.47, 47.0805]),\r\n                //center: ol.extent.getCenter(extent),\r\n                zoom: 18,\r\n                maxZoom: 22,\r\n                minZoom: 1 //16\r\n            })\r\n        });\r\n        this.map.on('click', function (evt) { return _this.mapClicked(evt); });\r\n        this.map.on('pointermove', function (evt) { return _this.mapMouseMoved(evt); });\r\n        //this.mapService.getRoomMap(0).then(rooms => this.showRooms(rooms));\r\n        //this.mapService.getRoomMap(0).subscribe(rooms => this.showRooms(rooms));\r\n        //this.mapService.getNavigationEdges(0).subscribe(edges => this.showNavigationEdges(edges));\r\n        this.select.on('select', function (evt) { return _this.selectionChanged(evt); });\r\n    };\r\n    TestmapComponent.prototype.ngOnInit = function () {\r\n    };\r\n    Object.defineProperty(TestmapComponent.prototype, \"applicationMode\", {\r\n        set: function (applicationMode) {\r\n            if (this.select) {\r\n                //console.log(\"Clear selection...\" + this.select.getFeatures().getArray().length);\r\n                var selected_collection = this.select.getFeatures();\r\n                if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES &&\r\n                    selected_collection.getArray().length > 0) {\r\n                    this.navigationmap.updateEdges(selected_collection.getArray());\r\n                }\r\n                selected_collection.clear();\r\n            }\r\n            if (this.roommap) {\r\n                this.roommap.Clear();\r\n            }\r\n            this._applicationMode = applicationMode;\r\n            console.log(\"TestmapComponent::Set applicationMode - New App Mode: \" + this._applicationMode.name);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TestmapComponent.prototype.keyboardInput = function (event) {\r\n        console.log(\"KEYDOWN: \" + event.keyCode);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 46) {\r\n            console.log(\"KEYDOWN - Delete Edge \" + event.keyCode + \"#\" + this.select.getFeatures().getArray().length);\r\n            this.navigationmap.deleteSelectedEdge();\r\n            var selected_collection = this.select.getFeatures();\r\n            selected_collection.clear();\r\n        }\r\n    };\r\n    TestmapComponent.prototype.allowOLSelection = function (layer) {\r\n        //layer.set('dummy', 'xxxsaef');\r\n        //console.log(\"allowOLSelection...\" + JSON.stringify(layer.get('dummy')));\r\n        //console.log(\"allowOLSelection... isSelectable ...\" + JSON.stringify(layer.get('isSelectable')));\r\n        if (layer.get('isSelectable') && this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    TestmapComponent.prototype.selectionChanged = function (evt) {\r\n        var selectedFeatures = evt.selected;\r\n        var deselectedFeatures = evt.deselected;\r\n        //console.log(\"Selection changed:  newFeatures: \" + selectedFeatures.length +\r\n        //  \"  unselectedFeatures: \" + deselectedFeatures.length +\r\n        //  \"  mode: \" + this._applicationMode.name);\r\n        if (deselectedFeatures.length > 0) {\r\n            this.navigationmap.updateEdges(deselectedFeatures);\r\n        }\r\n    };\r\n    TestmapComponent.prototype.allowOLModify = function (evt) {\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            //console.log(\"allowOLModify: Length: \" + selectedFeatures.length);\r\n            if (selectedFeatures.length > 0) {\r\n                for (var _i = 0, selectedFeatures_1 = selectedFeatures; _i < selectedFeatures_1.length; _i++) {\r\n                    var feature = selectedFeatures_1[_i];\r\n                    var geometry = feature.getGeometry();\r\n                    var startPoint = geometry.getFirstCoordinate();\r\n                    var endPoint = geometry.getLastCoordinate();\r\n                    //console.log(\"allowOLModify: \" + JSON.stringify(evt.coordinate) +\r\n                    //  \"::\" + JSON.stringify(startPoint) +\r\n                    //  \"::\" + JSON.stringify(endPoint) +\r\n                    //  \"d1:\" + this.getDistance(startPoint, evt.coordinate) +\r\n                    //  \"d2:\" + this.getDistance(endPoint, evt.coordinate)\r\n                    //);\r\n                    if (this.getDistance(startPoint, evt.coordinate) < __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* MODIFY_EDGE_MINSTARTPOINT_DISTANCE */] ||\r\n                        this.getDistance(endPoint, evt.coordinate) < __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"b\" /* MODIFY_EDGE_MINSTARTPOINT_DISTANCE */]) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TestmapComponent.prototype.getDistance = function (p1, p2) {\r\n        var xdiff = p2[0] - p1[0];\r\n        var ydiff = p2[1] - p1[1];\r\n        return Math.sqrt(xdiff * xdiff + ydiff * ydiff);\r\n    };\r\n    TestmapComponent.prototype.loadPOIs = function () {\r\n        var iconFeature = new ol.Feature({\r\n            geometry: new ol.geom.Point(ol.proj.fromLonLat([15.470230579376215, 47.0812626175388])),\r\n            name: 'Test Point',\r\n            description: 'dummy description'\r\n        });\r\n        var iconStyle = new ol.style.Style({\r\n            image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({\r\n                anchor: [0.5, 1],\r\n                anchorXUnits: 'fraction',\r\n                anchorYUnits: 'fraction',\r\n                src: 'assets/testicon.png'\r\n            }))\r\n        });\r\n        iconFeature.setStyle(iconStyle);\r\n        var vectorSource = new ol.source.Vector({\r\n            features: [iconFeature]\r\n        });\r\n        this.poiLayer = new ol.layer.Vector({\r\n            source: vectorSource\r\n        });\r\n    };\r\n    TestmapComponent.prototype.loadBaseMap = function () {\r\n        var _this = this;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'Polygon',\r\n                        'coordinates': [[\r\n                                [1722183.8736183767, 5955368.127460353],\r\n                                [1722202.0871290227, 5955358.871413959],\r\n                                [1722195.2197397628, 5955345.435217581]\r\n                            ]]\r\n                    }\r\n                }]\r\n        };\r\n        this.baseMapVectorSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'red',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(255,0,0,0.1)'\r\n                })\r\n            });\r\n        };\r\n        this.baseMapLayer = new ol.layer.Vector({\r\n            source: this.baseMapVectorSource,\r\n            style: styleFunction\r\n        });\r\n        //this.heroService.getHeroesSlowly().then(heroes => this.heroesList = heroes);\r\n        this.mapService.getBaseMap(0).then(function (basemap) { return _this.updateBaseMap(basemap); });\r\n    };\r\n    TestmapComponent.prototype.updateBaseMap = function (baseMap) {\r\n        this.baseMapVectorSource.clear();\r\n        this.baseMapVectorSource.addFeatures((new ol.format.GeoJSON()).readFeatures(baseMap));\r\n    };\r\n    TestmapComponent.prototype.createOverlay = function () {\r\n        this.roomPopup = document.getElementById('roomPopup');\r\n        console.log(this.roomPopup);\r\n        this.roomOverlay = new ol.Overlay(/** @type {olx.OverlayOptions} */ ({\r\n            element: this.roomPopup,\r\n            autoPan: true,\r\n            autoPanAnimation: {\r\n                duration: 250\r\n            }\r\n        }));\r\n        //this.roomOverlay.setPosition([0, 0]);\r\n    };\r\n    TestmapComponent.prototype.showRoute = function (route) {\r\n        //console.log(\"showRoute called\" + this.testString);\r\n        this.routemap.showRoute(route);\r\n    };\r\n    TestmapComponent.prototype.hideRoute = function () {\r\n        //console.log(\"hideRoute called\");\r\n        this.routemap.hideRoute();\r\n    };\r\n    TestmapComponent.prototype.showRooms = function (rooms) {\r\n        this.roommap.showRooms(rooms);\r\n    };\r\n    TestmapComponent.prototype.showNavigationEdges = function (edges) {\r\n        this.navigationmap.showEdges(edges);\r\n    };\r\n    TestmapComponent.prototype.mapMouseMoved = function (evt) {\r\n        if (evt.dragging) {\r\n            return;\r\n        }\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.roommap.mouseMoved(pixel, this.map);\r\n        }\r\n    };\r\n    TestmapComponent.prototype.mapClicked = function (evt) {\r\n        //console.log(\"mapClicked called\");\r\n        var lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\r\n        //console.log(\"Coord: \" + lonlat);\r\n        console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey);\r\n        console.log(\"Number of selected features: \" + this.select.getFeatures().getArray().length);\r\n        if (this._applicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            if (evt.originalEvent.ctrlKey) {\r\n                this.roommap.mouseClickedCtrl(evt.coordinate, this.map);\r\n            }\r\n            else {\r\n                this.roommap.mouseClicked(evt.coordinate, this.map);\r\n            }\r\n        }\r\n        var coordinate = evt.coordinate;\r\n        //var hdms = ol.coordinate.toStringHDMS(ol.proj.transform(coordinate, 'EPSG:3857', 'EPSG:4326'));\r\n        //this.roomOverlay.setPosition(coordinate);\r\n        /*\r\n          var feature = this.map.forEachFeatureAtPixel(evt.pixel,\r\n            function(feature) {\r\n              return feature;\r\n            });\r\n    \r\n    \r\n          if (feature) {\r\n            var coordinates = feature.getGeometry().getCoordinates();\r\n            console.log(\"Feature Coord: \" + coordinates);\r\n          }\r\n          else {\r\n            var coordinates = feature.getGeometry().getCoordinates();\r\n            console.log(\"Map Coord: \" + coordinates);\r\n          }*/\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _a) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _b) || Object])\r\n    ], TestmapComponent.prototype, \"applicationMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"E\" /* HostListener */])('window:keydown', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], TestmapComponent.prototype, \"keyboardInput\", null);\r\n    TestmapComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-testmap',\r\n            template: __webpack_require__(893),\r\n            styles: [__webpack_require__(880)]\r\n        }),\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"R\" /* Injectable */])(), \r\n        __metadata('design:paramtypes', [(typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _c) || Object, (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _d) || Object])\r\n    ], TestmapComponent);\r\n    return TestmapComponent;\r\n    var _a, _b, _c, _d;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/testmap.component.js.map\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mock_basemap02__ = __webpack_require__(701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mock_basemap01__ = __webpack_require__(700);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mock_floors__ = __webpack_require__(702);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mock_rooms__ = __webpack_require__(704);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mock_route__ = __webpack_require__(705);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__ = __webpack_require__(703);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs__ = __webpack_require__(895);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MapService = (function () {\r\n    function MapService() {\r\n    }\r\n    MapService.prototype.getBaseMapIntern = function (layer) {\r\n        if (layer == 1) {\r\n            return Promise.resolve(__WEBPACK_IMPORTED_MODULE_1__mock_basemap02__[\"a\" /* BASEMAP */]);\r\n        }\r\n        return Promise.resolve(__WEBPACK_IMPORTED_MODULE_2__mock_basemap01__[\"a\" /* BASEMAP_1 */]);\r\n    };\r\n    MapService.prototype.getBaseMap = function (layer) {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            return setTimeout(resolve, 200);\r\n        }) // delay 2 seconds\r\n            .then(function () { return _this.getBaseMapIntern(layer); });\r\n    };\r\n    MapService.prototype.getFloorNames = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_3__mock_floors__[\"a\" /* FLOORS */]);\r\n    };\r\n    MapService.prototype.getRooms = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getDoors = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getFloors = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getNavigationEdges = function (layer) {\r\n        return this.getNavigationEdgesIntern(layer);\r\n    };\r\n    MapService.prototype.getNavigationEdgesIntern = function (layer) {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_6__mock_navigationedges__[\"a\" /* NAVIGATIONEDGES_DEMO */]);\r\n    };\r\n    MapService.prototype.getRoute = function (sourceNodeId, destinationNodeId) {\r\n        console.log(\"Get Route Local!\");\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(__WEBPACK_IMPORTED_MODULE_5__mock_route__[\"a\" /* DEMOROUTE */]);\r\n    };\r\n    MapService.prototype.getPoiTypes = function () {\r\n        return null;\r\n    };\r\n    MapService.prototype.getPoiInstances = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.getBeacons = function (layer) {\r\n        return null;\r\n    };\r\n    MapService.prototype.searchRoom = function (term) {\r\n        //https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\r\n        var rooms = [];\r\n        //console.log('searchRoom...');\r\n        if (term.length == 0) {\r\n            return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(rooms);\r\n        }\r\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */].length; i++) {\r\n            if (__WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */][i].name.startsWith(term)) {\r\n                rooms.push(__WEBPACK_IMPORTED_MODULE_4__mock_rooms__[\"a\" /* ROOMS */][i]);\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of(rooms);\r\n    };\r\n    MapService.prototype.getNavigationNodes = function (layer) {\r\n        return __WEBPACK_IMPORTED_MODULE_7_rxjs__[\"Observable\"].of({\r\n            'geojson': {\r\n                'type': 'FeatureCollection',\r\n                'crs': {\r\n                    'type': 'name',\r\n                    'properties': {\r\n                        'name': 'EPSG:3857'\r\n                    }\r\n                },\r\n                'features': [{\r\n                        'type': 'Feature',\r\n                        'geometry': {\r\n                            'type': 'LineString',\r\n                            'coordinates': []\r\n                        }\r\n                    }]\r\n            }\r\n        });\r\n    };\r\n    MapService.prototype.addNode = function (floor, center) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addEdge = function (source, destination, length, path) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addPoiInstance = function (floor, center, poitypeid) {\r\n        return null;\r\n    };\r\n    MapService.prototype.addBeacon = function (floor, center, name) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteNode = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteEdge = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deletePoi = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.deleteBeacon = function (id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateNode = function (node, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateEdge = function (edge, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updatePoi = function (node, id) {\r\n        return null;\r\n    };\r\n    MapService.prototype.updateBeacon = function (beacon, id) {\r\n        return null;\r\n    };\r\n    MapService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"R\" /* Injectable */])(), \r\n        __metadata('design:paramtypes', [])\r\n    ], MapService);\r\n    return MapService;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/map.service.js.map\n\n/***/ },\n\n/***/ 529:\n/***/ function(module, exports) {\n\nfunction webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 529;\n\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapLayerBase; });\nvar MapLayerBase = (function () {\r\n    function MapLayerBase() {\r\n        this.subscription = null;\r\n        this.isActive = false;\r\n    }\r\n    MapLayerBase.prototype.getLayer = function () {\r\n        return this.layer;\r\n    };\r\n    MapLayerBase.prototype.setActive = function (active) {\r\n        this.layer.setVisible(active);\r\n        if (!active) {\r\n            this.clearSelection();\r\n        }\r\n        this.isActive = active;\r\n    };\r\n    MapLayerBase.prototype.clear = function () {\r\n        this.clearSelection();\r\n        this.layerSource.clear();\r\n    };\r\n    MapLayerBase.prototype.clearSelection = function () {\r\n        //overwrite in subclass...\r\n    };\r\n    MapLayerBase.prototype.subscribeNewRequest = function (sub) {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n            this.subscription = null;\r\n        }\r\n        this.subscription = sub;\r\n    };\r\n    return MapLayerBase;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapLayerBase.js.map\n\n/***/ },\n\n/***/ 530:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts__ = __webpack_require__(715);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__polyfills_ts__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__(657);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__(714);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_app_module__ = __webpack_require__(678);\n\r\n\r\n\r\n\r\n\r\nif (__WEBPACK_IMPORTED_MODULE_3__environments_environment__[\"a\" /* environment */].production) {\r\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"_37\" /* enableProdMode */])();\r\n}\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__[\"a\" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_4__app_app_module__[\"a\" /* AppModule */]);\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/main.js.map\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_applicationmode__ = __webpack_require__(74);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return OpenlayersHelper; });\n\r\nvar OpenlayersHelper = (function () {\r\n    function OpenlayersHelper() {\r\n    }\r\n    OpenlayersHelper.CreateBasicLayer = function (style) {\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': []\r\n        };\r\n        //console.log('Create layer source!');\r\n        var layerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var layer = new ol.layer.Vector({\r\n            source: layerSource,\r\n            style: style\r\n        });\r\n        return {\r\n            layer: layer,\r\n            layerSource: layerSource\r\n        };\r\n    };\r\n    OpenlayersHelper.CurrentApplicationMode = __WEBPACK_IMPORTED_MODULE_0__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n    return OpenlayersHelper;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/openlayershelper.js.map\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__ = __webpack_require__(298);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_floor__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_poitype__ = __webpack_require__(448);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapHttpService; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MapHttpService = (function (_super) {\r\n    __extends(MapHttpService, _super);\r\n    function MapHttpService(http) {\r\n        _super.call(this);\r\n        this.http = http;\r\n        this.baseUrl = '/v1';\r\n        this.roomUrl = this.baseUrl + '/geo/rooms/'; // URL to web API\r\n        this.edgeUrl = this.baseUrl + '/geo/edges/';\r\n        this.floorUrl = this.baseUrl + '/geo/floors/';\r\n        this.nodeUrl = this.baseUrl + '/geo/nodes/';\r\n        this.doorUrl = this.baseUrl + '/geo/doors/';\r\n        this.levelUrl = this.baseUrl + '/geo/level/';\r\n        this.routeUrl = this.baseUrl + '/geo/routing/edges/';\r\n        this.poiTypeUrl = this.baseUrl + '/geo/pointofinterest/';\r\n        this.poiInstanceUrl = this.baseUrl + '/geo/pointofinterestinstance/';\r\n        this.beaconUrl = this.baseUrl + '/positioning/beacons/';\r\n    }\r\n    MapHttpService.prototype.getRooms = function (layer) {\r\n        return this.http.get(this.roomUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getNavigationEdges = function (layer) {\r\n        return this.http.get(this.edgeUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getNavigationNodes = function (layer) {\r\n        return this.http.get(this.nodeUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getFloorNames = function () {\r\n        return this.http.get(this.levelUrl)\r\n            .map(this.extractDataFloors)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getDoors = function (layer) {\r\n        //return this.http.get(this.roomUrl + '?floor=' + layer)\r\n        return this.http.get(this.doorUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getFloors = function (layer) {\r\n        //return this.http.get(this.roomUrl + '?floor=' + layer)\r\n        return this.http.get(this.floorUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getRoute = function (sourceNodeId, destinationNodeId) {\r\n        console.log(\"Get Route HTTP!\");\r\n        return this.http.get(this.routeUrl + '?from=' + sourceNodeId + '&to=' + destinationNodeId)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getPoiTypes = function () {\r\n        return this.http.get(this.poiTypeUrl)\r\n            .map(this.extractDataPoiTypes)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getPoiInstances = function (layer) {\r\n        return this.http.get(this.poiInstanceUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.getBeacons = function (layer) {\r\n        return this.http.get(this.beaconUrl + '?level=' + layer)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addEdge = function (source, destination, length, path) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        var data = {\r\n            \"category\": 1,\r\n            \"source\": source,\r\n            \"destination\": destination,\r\n            \"path\": JSON.stringify(path),\r\n            \"length\": length\r\n        };\r\n        //console.log(\"Send Edge: \" + JSON.stringify(data));\r\n        return this.http.post(this.edgeUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addNode = function (floor, center) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"center\": JSON.stringify(center)\r\n        };\r\n        console.log(\"Send Node: \" + JSON.stringify(data));\r\n        return this.http.post(this.nodeUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addPoiInstance = function (floor, center, poitypeid) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"name\": poitypeid,\r\n            \"center\": JSON.stringify(center)\r\n        };\r\n        console.log(\"Send PoiInstance: \" + JSON.stringify(data));\r\n        return this.http.post(this.poiInstanceUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.addBeacon = function (floor, center, name) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        var data = {\r\n            \"level\": floor,\r\n            \"name\": name,\r\n            \"position\": JSON.stringify(center),\r\n            \"active\": true\r\n        };\r\n        console.log(\"Send Beacon: \" + JSON.stringify(data));\r\n        return this.http.post(this.beaconUrl, data, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteNode = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({});\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.nodeUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteEdge = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({});\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.edgeUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deletePoi = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({});\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.poiInstanceUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.deleteBeacon = function (id) {\r\n        var _this = this;\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({});\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({\r\n            headers: headers,\r\n        });\r\n        return this.http.delete(this.beaconUrl + id + \"/\", options)\r\n            .map(function (response) { return _this.extractDataDel(response, id); })\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateEdge = function (edge, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        //console.log(\"Update Edge: \" + id + \"::\" + JSON.stringify(edge));\r\n        return this.http.put(this.edgeUrl + id + \"/\", edge, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateNode = function (node, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        //console.log(\"Update Node: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.nodeUrl + id + \"/\", node, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updatePoi = function (node, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.poiInstanceUrl + id + \"/\", node, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.updateBeacon = function (beacon, id) {\r\n        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* Headers */]({ 'Content-Type': 'application/json' });\r\n        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\r\n        //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\r\n        return this.http.put(this.beaconUrl + id + \"/\", beacon, options)\r\n            .map(this.extractDataAdd)\r\n            .catch(this.handleError);\r\n    };\r\n    MapHttpService.prototype.extractData = function (res) {\r\n        //console.log(\"RESPONSE DATA...\");\r\n        var body = res.json();\r\n        //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\r\n        if (body.results) {\r\n            return body.results || {};\r\n        }\r\n        return body || {};\r\n    };\r\n    MapHttpService.prototype.extractDataAdd = function (res) {\r\n        var body = res.json();\r\n        //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\r\n        return body || {};\r\n    };\r\n    MapHttpService.prototype.extractDataDel = function (res, id) {\r\n        //console.log(\"RESPONSE DATA org: \" + JSON.stringify(res));\r\n        return { id: id };\r\n    };\r\n    MapHttpService.prototype.extractDataFloors = function (res) {\r\n        var body = res.json();\r\n        if (body.results) {\r\n            body = body.results;\r\n        }\r\n        console.log(\"RESPONSE DATA FLOORS: \" + JSON.stringify(body));\r\n        var floors = [];\r\n        for (var _i = 0, body_1 = body; _i < body_1.length; _i++) {\r\n            var obj = body_1[_i];\r\n            floors.push(new __WEBPACK_IMPORTED_MODULE_6__base_floor__[\"a\" /* Floor */](obj));\r\n        }\r\n        return floors;\r\n    };\r\n    MapHttpService.prototype.extractDataPoiTypes = function (res) {\r\n        var body = res.json();\r\n        if (body.results) {\r\n            body = body.results;\r\n        }\r\n        console.log(\"RESPONSE DATA POITYPES: \" + JSON.stringify(body));\r\n        var poitypes = [];\r\n        for (var _i = 0, body_2 = body; _i < body_2.length; _i++) {\r\n            var obj = body_2[_i];\r\n            poitypes.push(new __WEBPACK_IMPORTED_MODULE_7__base_poitype__[\"a\" /* PoiType */](obj));\r\n        }\r\n        return poitypes;\r\n    };\r\n    MapHttpService.prototype.handleError = function (error) {\r\n        // In a real world app, we might use a remote logging infrastructure\r\n        var errMsg;\r\n        if (error instanceof __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"e\" /* Response */]) {\r\n            var body = error.json() || '';\r\n            var err = body.error || JSON.stringify(body);\r\n            errMsg = error.status + \" - \" + (error.statusText || '') + \" \" + err;\r\n        }\r\n        else {\r\n            errMsg = error.message ? error.message : error.toString();\r\n        }\r\n        console.error(\"handleError: \" + errMsg);\r\n        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"].throw(errMsg);\r\n    };\r\n    MapHttpService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"R\" /* Injectable */])(), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Http */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Http */]) === 'function' && _a) || Object])\r\n    ], MapHttpService);\r\n    return MapHttpService;\r\n    var _a;\r\n}(__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__[\"a\" /* MapService */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapservicehttp.service.js.map\n\n/***/ },\n\n/***/ 677:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_floor__ = __webpack_require__(184);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppComponent; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return DialogContent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\n\r\n\r\n\r\n\r\nvar AppComponent = (function () {\r\n    function AppComponent(_dialog) {\r\n        this._dialog = _dialog;\r\n        this.currentAppMode = __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.currentFloor = __WEBPACK_IMPORTED_MODULE_3__base_floor__[\"a\" /* Floor */].getDefaultFloor();\r\n        this.currentPoiType = null;\r\n        this.poiTypes = null;\r\n        this.beaconEditMode = null;\r\n        this.beaconSignals = null;\r\n        this.showPoiSelector = false;\r\n        this.showBeaconEditModeSelector = false;\r\n    }\r\n    AppComponent.prototype.ngOnInit = function () {\r\n        /*\r\n        angular.module('myApp', ['ngMaterial'])\r\n          .config(function($mdThemingProvider) {\r\n            $mdThemingProvider.theme('altTheme')\r\n              .primaryPalette('purple') // specify primary color, all\r\n            // other color intentions will be inherited\r\n            // from default\r\n          });*/\r\n    };\r\n    AppComponent.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogRef = this._dialog.open(DialogContent);\r\n        dialogRef.afterClosed().subscribe(function (result) {\r\n            _this.lastDialogResult = result;\r\n        });\r\n    };\r\n    AppComponent.prototype.sayHi = function () {\r\n        console.info(\"Hi\");\r\n    };\r\n    AppComponent.prototype.appModeChanged = function (mode) {\r\n        console.log(\"AppComponent --- appModeChanged: \" + mode.name);\r\n        this.currentAppMode = mode;\r\n        this.showPoiSelector = (this.currentAppMode.mode == __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS);\r\n        this.showBeaconEditModeSelector = (this.currentAppMode.mode == __WEBPACK_IMPORTED_MODULE_2__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS);\r\n    };\r\n    AppComponent.prototype.floorChanged = function (floor) {\r\n        if (floor) {\r\n            console.log(\"AppComponent --- floorChanged: \" + floor.name);\r\n            this.currentFloor = floor;\r\n        }\r\n    };\r\n    AppComponent.prototype.currentPoiTypeChanged = function (poiType) {\r\n        if (poiType) {\r\n            console.log(\"AppComponent --- currentPoiType: \" + poiType.name);\r\n            this.currentPoiType = poiType;\r\n        }\r\n    };\r\n    AppComponent.prototype.PoiTypesReceived = function (poiTypes) {\r\n        if (poiTypes) {\r\n            console.log(\"AppComponent --- PoiTypesReceived: \" + poiTypes.length);\r\n            this.poiTypes = poiTypes;\r\n        }\r\n    };\r\n    AppComponent.prototype.beaconEditModeChanged = function (mode) {\r\n        if (mode) {\r\n            console.log(\"AppComponent --- BeaconEditMode: \" + mode.name);\r\n            this.beaconEditMode = mode;\r\n        }\r\n    };\r\n    AppComponent.prototype.beaconSignalsChanged = function (signal) {\r\n        if (signal) {\r\n            //console.log(\"AppComponent --- beaconSignalsChanged: \" + JSON.stringify(signal));\r\n            this.beaconSignals = signal;\r\n        }\r\n    };\r\n    AppComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-root',\r\n            template: __webpack_require__(882),\r\n            styles: [__webpack_require__(869)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"a\" /* MdDialog */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"a\" /* MdDialog */]) === 'function' && _a) || Object])\r\n    ], AppComponent);\r\n    return AppComponent;\r\n    var _a;\r\n}());\r\nvar DialogContent = (function () {\r\n    function DialogContent(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n    }\r\n    DialogContent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            template: \"\\n    <p>This is a dialog</p>\\n    <p>\\n      <label>\\n        This is a text box inside of a dialog.\\n        <input #dialogInput>\\n      </label>\\n    </p>\\n    <p> <button md-button (click)=\\\"dialogRef.close(dialogInput.value)\\\">CLOSE</button> </p>\\n  \",\r\n        }),\r\n        __param(0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"x\" /* Optional */])()), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"b\" /* MdDialogRef */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"b\" /* MdDialogRef */]) === 'function' && _a) || Object])\r\n    ], DialogContent);\r\n    return DialogContent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/app.component.js.map\n\n/***/ },\n\n/***/ 678:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_material__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__ = __webpack_require__(699);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_component__ = __webpack_require__(677);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__ = __webpack_require__(450);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__ = __webpack_require__(708);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__ = __webpack_require__(698);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__ = __webpack_require__(709);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__ = __webpack_require__(710);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__ = __webpack_require__(706);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__ = __webpack_require__(685);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__ = __webpack_require__(707);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__ = __webpack_require__(684);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__ = __webpack_require__(449);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__ = __webpack_require__(681);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AppModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"I\" /* NgModule */])({\r\n            declarations: [\r\n                __WEBPACK_IMPORTED_MODULE_8__app_component__[\"a\" /* AppComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_8__app_component__[\"b\" /* DialogContent */],\r\n                __WEBPACK_IMPORTED_MODULE_9__testmap_testmap_component__[\"a\" /* TestmapComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_10__roomsearch_roomsearch_component__[\"a\" /* RoomsearchComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_11__floorselector_floorselector_component__[\"a\" /* FloorselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_12__roomsearchmd_roomsearchmd_component__[\"a\" /* RoomsearchmdComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_13__routetest_routetest_component__[\"a\" /* RoutetestComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_14__modeselector_modeselector_component__[\"a\" /* ModeselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_15__editablemap_editablemap_component__[\"a\" /* EditablemapComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_16__poiselector_poiselector_component__[\"a\" /* PoiselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_17__beaconmodeselector_beaconmodeselector_component__[\"a\" /* BeaconmodeselectorComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_19__beaconconnector_beaconconnector_component__[\"a\" /* BeaconconnectorComponent */]\r\n            ],\r\n            imports: [\r\n                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__[\"e\" /* BrowserModule */],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"b\" /* FormsModule */],\r\n                __WEBPACK_IMPORTED_MODULE_3__angular_http__[\"b\" /* HttpModule */],\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_forms__[\"e\" /* ReactiveFormsModule */],\r\n                __WEBPACK_IMPORTED_MODULE_4__angular_material__[\"c\" /* MaterialModule */].forRoot()\r\n            ],\r\n            providers: [__WEBPACK_IMPORTED_MODULE_5__mapservice_map_service__[\"a\" /* MapService */], __WEBPACK_IMPORTED_MODULE_7__mapcontrollerservice_mapcontrollerservice_service__[\"a\" /* MapcontrollerserviceService */], __WEBPACK_IMPORTED_MODULE_6__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]],\r\n            entryComponents: [__WEBPACK_IMPORTED_MODULE_8__app_component__[\"b\" /* DialogContent */], __WEBPACK_IMPORTED_MODULE_18__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */]],\r\n            bootstrap: [__WEBPACK_IMPORTED_MODULE_8__app_component__[\"a\" /* AppComponent */]]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/app.module.js.map\n\n/***/ },\n\n/***/ 679:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Point; });\nvar Point = (function () {\r\n    function Point() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    Point.prototype.createFromAr = function (ar) {\r\n        this.x = ar[0];\r\n        this.y = ar[1];\r\n    };\r\n    Point.prototype.getAr = function () {\r\n        return [this.x, this.y];\r\n    };\r\n    return Point;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/point.js.map\n\n/***/ },\n\n/***/ 680:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return Signal; });\nvar Signal = (function () {\r\n    function Signal(mac, value, name, battery, origSignal) {\r\n        this.mac = mac;\r\n        this.value = value;\r\n        this.name = name;\r\n        this.battery = battery;\r\n        this.origSignal = origSignal;\r\n    }\r\n    return Signal;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/signal.js.map\n\n/***/ },\n\n/***/ 681:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__ = __webpack_require__(301);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__ = __webpack_require__(683);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconconnectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nvar PositionStatus;\r\n(function (PositionStatus) {\r\n    PositionStatus[PositionStatus[\"InActive\"] = 0] = \"InActive\";\r\n    PositionStatus[PositionStatus[\"Paused\"] = 1] = \"Paused\";\r\n    PositionStatus[PositionStatus[\"Active\"] = 2] = \"Active\";\r\n})(PositionStatus || (PositionStatus = {}));\r\nvar demoMode = false;\r\nvar BeaconconnectorComponent = (function () {\r\n    function BeaconconnectorComponent(zone) {\r\n        var _this = this;\r\n        this.zone = zone;\r\n        this.updateSignalsEvent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n        this.isActive = demoMode;\r\n        this.positionStatus = PositionStatus.InActive;\r\n        this.positioningStarted = false;\r\n        this.signalBufferCollection = new __WEBPACK_IMPORTED_MODULE_2__signalbuffercollection__[\"a\" /* SignalBufferCollection */]();\r\n        window[\"angularComponentRef\"] = {\r\n            zone: this.zone,\r\n            componentFn: function (value) { return _this.signalDataChanged(value); },\r\n            component: this\r\n        };\r\n    }\r\n    BeaconconnectorComponent.prototype.ngOnInit = function () {\r\n        var hasAppInterface = appInterfaceObject.testapp();\r\n        //hasAppInterface = true;\r\n        if (hasAppInterface) {\r\n            this.isActive = true;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.ngAfterViewInit = function () {\r\n        this.startCheckTimer();\r\n    };\r\n    BeaconconnectorComponent.prototype.scanButtonClickedPosition = function () {\r\n        console.log(\"BeaconconnectorComponent::scanButtonClickedPosition()\");\r\n        this.positioningStarted = !this.positioningStarted;\r\n        this.updatePositionStatus();\r\n        if (this.positioningStarted) {\r\n            this.startScan();\r\n        }\r\n        else {\r\n            this.stopScan();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.signalDataChanged = function (value) {\r\n        if (this.positionStatus == PositionStatus.Active) {\r\n            //console.log(\"BeaconconnectorComponent::signalDataChanged() - \" + JSON.stringify(value));\r\n            this.signalBufferCollection.addValues(value);\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.startScan = function () {\r\n        this.signalBufferCollection.clear();\r\n        this.signalBufferCollection.start();\r\n        this.startPosUpdateTimer();\r\n        appInterfaceObject.start();\r\n        if (demoMode) {\r\n            appInterfaceObject.demo();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.stopScan = function () {\r\n        this.stopPosUpdateTimer();\r\n        appInterfaceObject.stop();\r\n        this.signalBufferCollection.clear();\r\n        this.updateSignalsEvent.emit([]);\r\n    };\r\n    /**********************************************************\r\n    POSTION UPDATE\r\n    **********************************************************/\r\n    BeaconconnectorComponent.prototype.startPosUpdateTimer = function () {\r\n        //console.log(\"BeaconconnectorComponent::startPosUpdateTimer()\");\r\n        var _this = this;\r\n        if (this.posUpdateTimerSubscription != null) {\r\n            this.stopPosUpdateTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(1000);\r\n        this.posUpdateTimerSubscription = timer.subscribe(function (t) {\r\n            _this.posUpdateEvent();\r\n        });\r\n    };\r\n    BeaconconnectorComponent.prototype.stopPosUpdateTimer = function () {\r\n        //console.log(\"BeaconconnectorComponent::stopPosUpdateTimer()\");\r\n        if (this.posUpdateTimerSubscription != null) {\r\n            this.posUpdateTimerSubscription.unsubscribe();\r\n            this.posUpdateTimerSubscription = null;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.posUpdateEvent = function () {\r\n        //console.log(\"BeaconconnectorComponent::posUpdateEvent()\");\r\n        var signals = this.signalBufferCollection.getAllSignals();\r\n        this.updateSignalsEvent.emit(signals);\r\n        //LOG POSITION DATA\r\n        //appInterfaceObject.log(\"\" + new Date().getTime() + \";\" + nearestBeacon + \";\" + this.signalBufferCollection.getJSONString());\r\n        this.stopPosUpdateTimer();\r\n        if (this.isActive) {\r\n            this.startPosUpdateTimer();\r\n        }\r\n    };\r\n    /**********************************************************\r\n    CHECK STATUS\r\n    **********************************************************/\r\n    BeaconconnectorComponent.prototype.startCheckTimer = function () {\r\n        //console.log(\"PositionComponent::startCheckTimer()\");\r\n        var _this = this;\r\n        if (this.checkTimerSubscription != null) {\r\n            this.stopCheckTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(2500);\r\n        this.checkTimerSubscription = timer.subscribe(function (t) {\r\n            _this.checkTimerEvent();\r\n        });\r\n    };\r\n    BeaconconnectorComponent.prototype.stopCheckTimer = function () {\r\n        //console.log(\"PositionComponent::stopCheckTimer()\");\r\n        if (this.checkTimerSubscription != null) {\r\n            this.checkTimerSubscription.unsubscribe();\r\n            this.checkTimerSubscription = null;\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.checkTimerEvent = function () {\r\n        //console.log(\"PositionComponent::checkTimerEvent()\");\r\n        this.updatePositionStatus();\r\n        this.stopCheckTimer();\r\n        if (this.isActive) {\r\n            this.startCheckTimer();\r\n        }\r\n    };\r\n    BeaconconnectorComponent.prototype.updatePositionStatus = function () {\r\n        //console.log(\"PositionComponent::updatePositionStatus()\" + appInterfaceObject.check());\r\n        if (appInterfaceObject.check() != 0 && !demoMode) {\r\n            this.positionStatus = PositionStatus.InActive;\r\n        }\r\n        else {\r\n            if (this.positioningStarted) {\r\n                this.positionStatus = PositionStatus.Active;\r\n            }\r\n            else {\r\n                this.positionStatus = PositionStatus.Paused;\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], BeaconconnectorComponent.prototype, \"updateSignalsEvent\", void 0);\r\n    BeaconconnectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-beaconconnector',\r\n            template: __webpack_require__(883),\r\n            styles: [__webpack_require__(870)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_26\" /* NgZone */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_26\" /* NgZone */]) === 'function' && _a) || Object])\r\n    ], BeaconconnectorComponent);\r\n    return BeaconconnectorComponent;\r\n    var _a;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/beaconconnector.component.js.map\n\n/***/ },\n\n/***/ 682:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SignalBuffer; });\nvar SignalBuffer = (function () {\r\n    function SignalBuffer(id) {\r\n        this.filterValue = 0.5;\r\n        this.minValue = -90;\r\n        this.id = id;\r\n        this.clear();\r\n    }\r\n    SignalBuffer.prototype.setValue = function (mac, value, name, battery) {\r\n        if (!value) {\r\n            this.clear();\r\n        }\r\n        this.lastOrigValue = value;\r\n        if (value > 0) {\r\n            var milliseconds = new Date().getTime();\r\n            this.lastValueTimeStamp = milliseconds;\r\n        }\r\n        else {\r\n            var filteredValue = (1 - this.filterValue) * this.lastValue + this.filterValue * value;\r\n            this.lastValue = filteredValue;\r\n            if (this.lastValue < this.minValue) {\r\n                this.lastValue = this.minValue;\r\n            }\r\n            var milliseconds = new Date().getTime();\r\n            this.lastValueTimeStamp = milliseconds;\r\n            this.name = name;\r\n            this.mac = mac;\r\n            this.battery = battery;\r\n        }\r\n        //console.log(\"SignalBuffer::setValue Set value: \" + this.lastValue + \"/\" + this.lastValueTimeStamp);\r\n    };\r\n    SignalBuffer.prototype.checkClearValue = function () {\r\n        var milliseconds = new Date().getTime();\r\n        if (!this.lastValue || !this.lastValueTimeStamp) {\r\n            return true;\r\n        }\r\n        if (milliseconds - this.lastValueTimeStamp > 1000) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    SignalBuffer.prototype.clear = function () {\r\n        this.lastValue = this.minValue;\r\n        this.lastValueTimeStamp = undefined;\r\n    };\r\n    return SignalBuffer;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/signalbuffer.js.map\n\n/***/ },\n\n/***/ 683:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signalbuffer__ = __webpack_require__(682);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__ = __webpack_require__(301);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_signal__ = __webpack_require__(680);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SignalBufferCollection; });\n\r\n\r\n\r\nvar SignalBufferCollection = (function () {\r\n    function SignalBufferCollection() {\r\n        this.map = {};\r\n    }\r\n    SignalBufferCollection.prototype.clear = function () {\r\n        this.map = {};\r\n        this.stopClearTimer();\r\n    };\r\n    SignalBufferCollection.prototype.start = function () {\r\n        this.startClearTimer();\r\n    };\r\n    SignalBufferCollection.prototype.addValues = function (valuestring) {\r\n        if (valuestring) {\r\n            var data = JSON.parse(valuestring);\r\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n                var signal = data_1[_i];\r\n                //console.log('set signal: ' + JSON.stringify(signal));\r\n                this.addValue(signal[\"ID\"], signal[\"Value\"], signal[\"Name\"], signal[\"Batterie\"]);\r\n            }\r\n        }\r\n    };\r\n    SignalBufferCollection.prototype.getNearestBeacon = function () {\r\n        //console.log(\"SignalBufferCollection::getNearestBeacon() - \" + JSON.stringify(this.map));\r\n        var bestValue = -9999;\r\n        var bestID = undefined;\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (value) {\r\n                if (value > bestValue) {\r\n                    bestValue = value;\r\n                    bestID = key;\r\n                }\r\n            }\r\n        }\r\n        return bestID;\r\n    };\r\n    SignalBufferCollection.prototype.getAllSignals = function () {\r\n        var signals = [];\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (value) {\r\n                signals.push(new __WEBPACK_IMPORTED_MODULE_2__base_signal__[\"a\" /* Signal */](this.map[key].mac, value, this.map[key].name, this.map[key].battery, this.map[key].lastOrigValue));\r\n            }\r\n        }\r\n        return signals;\r\n    };\r\n    SignalBufferCollection.prototype.getJSONString = function () {\r\n        return JSON.stringify(this.map);\r\n    };\r\n    SignalBufferCollection.prototype.getURLString = function () {\r\n        var urlString = \"\";\r\n        var index = 0;\r\n        for (var key in this.map) {\r\n            var value = this.map[key].lastValue;\r\n            if (index > 0) {\r\n                urlString += \"&\";\r\n            }\r\n            urlString += 'name[' + key + ']=' + value;\r\n            index++;\r\n        }\r\n        return urlString;\r\n    };\r\n    SignalBufferCollection.prototype.addValue = function (mac, value, name, battery) {\r\n        if (!this.map[name]) {\r\n            this.map[name] = new __WEBPACK_IMPORTED_MODULE_0__signalbuffer__[\"a\" /* SignalBuffer */](name);\r\n        }\r\n        this.map[name].setValue(mac, value, name, battery);\r\n    };\r\n    SignalBufferCollection.prototype.startClearTimer = function () {\r\n        //console.log(\"SignalBufferCollection::startClearTimer()\");\r\n        var _this = this;\r\n        if (this.clearTimerSubscription != null) {\r\n            this.stopClearTimer();\r\n        }\r\n        var timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_observable_TimerObservable__[\"TimerObservable\"].create(666);\r\n        this.clearTimerSubscription = timer.subscribe(function (t) {\r\n            _this.clearTimerEvent();\r\n        });\r\n    };\r\n    SignalBufferCollection.prototype.stopClearTimer = function () {\r\n        //console.log(\"SignalBufferCollection::stopClearTimer()\");\r\n        if (this.clearTimerSubscription != null) {\r\n            this.clearTimerSubscription.unsubscribe();\r\n            this.clearTimerSubscription = null;\r\n        }\r\n    };\r\n    SignalBufferCollection.prototype.clearTimerEvent = function () {\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - \" + JSON.stringify(this.map));\r\n        var keysToDelete = [];\r\n        for (var key in this.map) {\r\n            if (this.map[key].checkClearValue()) {\r\n                //console.log(\"SignalBufferCollection::clearTimerEvent() - Clear Signal: \" + key);\r\n                keysToDelete.push(key);\r\n            }\r\n        }\r\n        for (var i = 0; i < keysToDelete.length; i++) {\r\n            delete this.map[keysToDelete[i]];\r\n        }\r\n        this.startClearTimer();\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - END: \" + JSON.stringify(this.map));\r\n    };\r\n    return SignalBufferCollection;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/signalbuffercollection.js.map\n\n/***/ },\n\n/***/ 684:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__ = __webpack_require__(276);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BeaconmodeselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar BeaconmodeselectorComponent = (function () {\r\n    function BeaconmodeselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.modes = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"c\" /* BeaconEditModes */];\r\n        this.showControl = true;\r\n        this.selectedMode = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"a\" /* BeaconEditMode */].CreateDefault();\r\n        this.currentSelectedModeEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n    }\r\n    BeaconmodeselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_4__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n    };\r\n    BeaconmodeselectorComponent.prototype.onSelect = function (mode) {\r\n        this.selectMode(mode);\r\n    };\r\n    BeaconmodeselectorComponent.prototype.selectMode = function (mode) {\r\n        this.selectedMode = mode;\r\n        this.currentSelectedModeEvt.emit(this.selectedMode);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], BeaconmodeselectorComponent.prototype, \"currentSelectedModeEvt\", void 0);\r\n    BeaconmodeselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-beaconmodeselector',\r\n            template: __webpack_require__(885),\r\n            styles: [__webpack_require__(872)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], BeaconmodeselectorComponent);\r\n    return BeaconmodeselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/beaconmodeselector.component.js.map\n\n/***/ },\n\n/***/ 685:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_floor__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_poitype__ = __webpack_require__(448);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__ = __webpack_require__(276);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mapNodes__ = __webpack_require__(690);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__mapDoors__ = __webpack_require__(686);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__mapRoom__ = __webpack_require__(692);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__mapFloor__ = __webpack_require__(689);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mapEdges__ = __webpack_require__(687);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__mapEditEdges__ = __webpack_require__(688);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mapRoute__ = __webpack_require__(693);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__mappois__ = __webpack_require__(697);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__mapbeacons__ = __webpack_require__(695);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__angular_material__ = __webpack_require__(180);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return EditablemapComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar maxNumberOfBeaconOverlays = 100;\r\nvar EditablemapComponent = (function () {\r\n    function EditablemapComponent(dialog, mapServiceHttp, mapService) {\r\n        this.dialog = dialog;\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.beaconOverlays = null;\r\n        this.mapNodes = null;\r\n        this.mapDoors = null;\r\n        this.mapRooms = null;\r\n        this.mapFloor = null;\r\n        this.mapEdges = null;\r\n        this.mapEditEdges = null;\r\n        this.mapRoute = null;\r\n        this.mapPois = null;\r\n        this.mapBeacons = null;\r\n        this.ctlPressed = false;\r\n        this.beaconOverlays = new Array(maxNumberOfBeaconOverlays);\r\n        for (var i = 0; i < maxNumberOfBeaconOverlays; i++) {\r\n            this.beaconOverlays[i] = i;\r\n        }\r\n    }\r\n    EditablemapComponent.prototype.ngOnInit = function () {\r\n    };\r\n    EditablemapComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.mapFloor = new __WEBPACK_IMPORTED_MODULE_11__mapFloor__[\"a\" /* MapFloor */](this.mapService);\r\n        this.mapDoors = new __WEBPACK_IMPORTED_MODULE_9__mapDoors__[\"a\" /* MapDoors */](this.mapService);\r\n        this.mapRooms = new __WEBPACK_IMPORTED_MODULE_10__mapRoom__[\"a\" /* MapRoom */](this.mapService);\r\n        this.mapEdges = new __WEBPACK_IMPORTED_MODULE_12__mapEdges__[\"a\" /* MapEdges */](this.mapService);\r\n        this.mapEditEdges = new __WEBPACK_IMPORTED_MODULE_13__mapEditEdges__[\"a\" /* MapEditEdges */](this.mapService);\r\n        this.mapRoute = new __WEBPACK_IMPORTED_MODULE_14__mapRoute__[\"a\" /* MapRoute */](this.mapService);\r\n        this.mapNodes = new __WEBPACK_IMPORTED_MODULE_8__mapNodes__[\"a\" /* MapNodes */](this.mapService, this.mapEditEdges, this.mapEdges, this.mapRoute);\r\n        this.mapPois = new __WEBPACK_IMPORTED_MODULE_15__mappois__[\"a\" /* MapPois */](this.mapService);\r\n        this.mapBeacons = new __WEBPACK_IMPORTED_MODULE_16__mapbeacons__[\"a\" /* MapBeacons */](this.dialog, this.mapService, this.beaconPopUps, this);\r\n        this.map = new ol.Map({\r\n            controls: ol.control.defaults({\r\n                attributionOptions: ({\r\n                    collapsible: true,\r\n                }),\r\n                zoom: false\r\n            }),\r\n            //interactions: ol.interaction.defaults().extend([this.select, this.modify]),\r\n            //controls: [],\r\n            layers: [\r\n                new ol.layer.Tile({\r\n                    source: new ol.source.OSM()\r\n                }),\r\n                this.mapFloor.getLayer(),\r\n                this.mapRooms.getLayer(),\r\n                this.mapDoors.getLayer(),\r\n                this.mapNodes.getLayer(),\r\n                this.mapBeacons.getLayer(),\r\n                this.mapEditEdges.getLayer(),\r\n                this.mapEdges.getLayer(),\r\n                this.mapRoute.getLayer(),\r\n                this.mapPois.getLayer()\r\n            ],\r\n            overlays: [],\r\n            target: 'map',\r\n            view: new ol.View({\r\n                projection: 'EPSG:900913',\r\n                center: ol.proj.fromLonLat([15.47, 47.0805]),\r\n                //center: ol.extent.getCenter(extent),\r\n                zoom: 18,\r\n                maxZoom: 24,\r\n                minZoom: 1 //16\r\n            })\r\n        });\r\n        this.mapNodes.extendMap(this.map);\r\n        this.map.on('click', function (evt) { return _this.mapClicked(evt); });\r\n        this.map.on('pointermove', function (evt) { return _this.mapMouseMoved(evt); });\r\n        this.updateLayers();\r\n    };\r\n    Object.defineProperty(EditablemapComponent.prototype, \"applicationMode\", {\r\n        set: function (applicationMode) {\r\n            __WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode = applicationMode;\r\n            console.log(\"EditAbleMapComponent::Set applicationMode - New App Mode: \" + __WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.name);\r\n            this.updateLayers();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"currentFloor\", {\r\n        set: function (currentFloor) {\r\n            console.log(\"EditAbleMapComponent::Set currentFloor - New Floor: \" + JSON.stringify(currentFloor));\r\n            if (currentFloor && currentFloor.id >= 0) {\r\n                this.mapFloor.updateData(currentFloor.id);\r\n                this.mapRooms.updateData(currentFloor.id);\r\n                this.mapDoors.updateData(currentFloor.id);\r\n                this.mapEdges.updateData(currentFloor.id);\r\n                this.mapNodes.updateData(currentFloor.id);\r\n                this.mapRoute.setCurrentFloor(currentFloor.id);\r\n                this.mapBeacons.updateData(currentFloor.id);\r\n                this.mapPois.setCurrentFloor(currentFloor.id);\r\n                this.mapPois.updateData(currentFloor.id);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"currentPoiType\", {\r\n        set: function (poitype) {\r\n            if (poitype) {\r\n                console.log(\"EditAbleMapComponent::Set currentPoiType: \" + JSON.stringify(poitype));\r\n                this.mapPois.setCurrentSelectedPoiType(poitype);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"poiTypes\", {\r\n        set: function (poitypes) {\r\n            if (poitypes) {\r\n                console.log(\"EditAbleMapComponent::Set poiTypes: \" + JSON.stringify(poitypes));\r\n                this.mapPois.setPoiTypes(poitypes);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"beaconEditMode\", {\r\n        set: function (mode) {\r\n            if (mode) {\r\n                this.mapBeacons.setBeaconEditMode(mode);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablemapComponent.prototype, \"setBeaconSignals\", {\r\n        set: function (signals) {\r\n            if (signals) {\r\n                this.mapBeacons.setBeaconSignals(signals);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditablemapComponent.prototype.keyboardInput = function (event) {\r\n        //console.log(\"KEYDOWN: \" + event.keyCode);\r\n        if (event.keyCode == 17 && !this.ctlPressed) {\r\n            this.ctlPressed = true;\r\n            this.mapNodes.ctlPressed();\r\n        }\r\n        if (event.keyCode == 16) {\r\n            this.mapRoute.shiftPressed();\r\n        }\r\n    };\r\n    /*\r\n      @HostListener('window:keypress', ['$event'])\r\n      keyboardKeyPress(event: KeyboardEvent) {\r\n        console.log(\"KEYPRESS: \" + event.keyCode);\r\n      }*/\r\n    EditablemapComponent.prototype.keyboardKeyUp = function (event) {\r\n        //console.log(\"KEYUP: \" + event.keyCode);\r\n        if (event.keyCode == 17) {\r\n            this.ctlPressed = false;\r\n            this.mapNodes.ctlReleased();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 46) {\r\n            this.mapNodes.deleteSelectedNodes();\r\n            this.mapEdges.deleteSelectedEdges();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS && event.keyCode == 46) {\r\n            this.mapPois.deleteSelectedPoi();\r\n        }\r\n        if (event.keyCode == 16) {\r\n            this.mapRoute.shiftReleased();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES && event.keyCode == 88) {\r\n            this.mapRoute.clear();\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.addOverlay = function (overlay) {\r\n        this.map.addOverlay(overlay);\r\n    };\r\n    EditablemapComponent.prototype.mapMouseMoved = function (evt) {\r\n        //if (evt.dragging) {\r\n        //  return;\r\n        //}\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.mapNodes.mouseMoved(pixel, evt.coordinate, this.map);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.mapClicked = function (evt) {\r\n        //console.log(\"mapClicked called\");\r\n        //let lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\r\n        //console.log(\"Coord: \" + lonlat);\r\n        console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey + \" shift: \" + evt.originalEvent.shiftKey);\r\n        var pixel = this.map.getEventPixel(evt.originalEvent);\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.mapNodes.mouseClicked(evt.coordinate, this.map);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS) {\r\n            this.mapPois.mouseClicked(evt.coordinate, pixel, evt.originalEvent.ctrlKey, evt.originalEvent.shiftKey, this.map);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS) {\r\n            this.mapBeacons.mouseClicked(evt.coordinate, pixel, this.map);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.updateLayers = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            this.setLayerActive(this.mapEdges, true);\r\n            this.setLayerActive(this.mapEditEdges, true);\r\n            this.setLayerActive(this.mapNodes, true);\r\n            this.setLayerActive(this.mapRoute, true);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_POIS) {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, true);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_17__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_BEACONS) {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, true);\r\n        }\r\n        else {\r\n            this.setLayerActive(this.mapEdges, false);\r\n            this.setLayerActive(this.mapEditEdges, false);\r\n            this.setLayerActive(this.mapNodes, false);\r\n            this.setLayerActive(this.mapRoute, false);\r\n            this.setLayerActive(this.mapPois, false);\r\n            this.setLayerActive(this.mapBeacons, false);\r\n        }\r\n    };\r\n    EditablemapComponent.prototype.setLayerActive = function (layer, active) {\r\n        if (layer) {\r\n            layer.setActive(active);\r\n        }\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_1\" /* ViewChild */])('beaconPopups'), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"g\" /* ElementRef */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"g\" /* ElementRef */]) === 'function' && _a) || Object)\r\n    ], EditablemapComponent.prototype, \"beaconPopUps\", void 0);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _b) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__base_applicationmode__[\"a\" /* ApplicationMode */]) === 'function' && _c) || Object])\r\n    ], EditablemapComponent.prototype, \"applicationMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */]) === 'function' && _d) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_5__base_floor__[\"a\" /* Floor */]) === 'function' && _e) || Object])\r\n    ], EditablemapComponent.prototype, \"currentFloor\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */]) === 'function' && _f) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_6__base_poitype__[\"a\" /* PoiType */]) === 'function' && _g) || Object])\r\n    ], EditablemapComponent.prototype, \"currentPoiType\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', Array), \r\n        __metadata('design:paramtypes', [Array])\r\n    ], EditablemapComponent.prototype, \"poiTypes\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */]) === 'function' && _h) || Object), \r\n        __metadata('design:paramtypes', [(typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__base_beaconeditmode__[\"a\" /* BeaconEditMode */]) === 'function' && _j) || Object])\r\n    ], EditablemapComponent.prototype, \"beaconEditMode\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', Array), \r\n        __metadata('design:paramtypes', [Array])\r\n    ], EditablemapComponent.prototype, \"setBeaconSignals\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"E\" /* HostListener */])('window:keydown', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], EditablemapComponent.prototype, \"keyboardInput\", null);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"E\" /* HostListener */])('window:keyup', ['$event']), \r\n        __metadata('design:type', Function), \r\n        __metadata('design:paramtypes', [Object]), \r\n        __metadata('design:returntype', void 0)\r\n    ], EditablemapComponent.prototype, \"keyboardKeyUp\", null);\r\n    EditablemapComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-editablemap',\r\n            template: __webpack_require__(886),\r\n            styles: [__webpack_require__(873)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_k = typeof __WEBPACK_IMPORTED_MODULE_18__angular_material__[\"a\" /* MdDialog */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_18__angular_material__[\"a\" /* MdDialog */]) === 'function' && _k) || Object, (typeof (_l = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _l) || Object, (typeof (_m = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _m) || Object])\r\n    ], EditablemapComponent);\r\n    return EditablemapComponent;\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/editablemap.component.js.map\n\n/***/ },\n\n/***/ 686:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapDoors; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapDoors = (function (_super) {\r\n    __extends(MapDoors, _super);\r\n    function MapDoors(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapDoors.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(212, 209, 203,1.0)'\r\n            })\r\n        }));\r\n        res.layer.set('maxResolution', 0.2);\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapDoors.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        console.log(\"MapDoors::showFloor - \" + floorId);\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyDoors()));\r\n        //TODO: fr AlLE!\r\n        //Observable\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getDoors(floorId).subscribe(function (doors) { return _this.showDoors(doors); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapDoors.prototype.showDoors = function (features) {\r\n        console.log(\"MapDoors::showDoors\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapDoors.prototype.getDummyDoors = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [\r\n                                [1722150.9832473625, 5955259.831606609],\r\n                                [1722152.513480839, 5955262.780105258],\r\n                                [1722153.8944232445, 5955262.406877581],\r\n                                [1722152.924031284, 5955260.727353034],\r\n                                [1722150.9832473625, 5955259.831606609]\r\n                            ]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapDoors;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapDoors.js.map\n\n/***/ },\n\n/***/ 687:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__openlayershelper__ = __webpack_require__(54);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapEdges; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapEdges = (function (_super) {\r\n    __extends(MapEdges, _super);\r\n    function MapEdges(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.highlightedFeature = null;\r\n        this.highlightFeatureOverlay = null;\r\n        this.selectFeature = null;\r\n        this.selectFeatureOverlay = null;\r\n        this.Initialize();\r\n    }\r\n    MapEdges.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_2__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: 'black',\r\n                width: 4,\r\n                lineDash: [4, 8]\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapEdges.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.subscribeNewRequest(this.mapService.getNavigationEdges(floorId).subscribe(function (edges) { return _this.showEdges(edges); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapEdges.prototype.getHighlightedEdgeId = function () {\r\n        if (this.highlightedFeature) {\r\n            return this.highlightedFeature.getId();\r\n        }\r\n        return -1;\r\n    };\r\n    MapEdges.prototype.getEdgeForId = function (id) {\r\n        return this.layerSource.getFeatureById(id);\r\n    };\r\n    MapEdges.prototype.updateMouseMoved = function (position, map, allowHighlight) {\r\n        var _this = this;\r\n        if (this.highlightFeatureOverlay === null) {\r\n            this.initHighlightFeatureOverlay(map);\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        if (allowHighlight) {\r\n            feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n                return feature;\r\n            }, options);\r\n        }\r\n        if (feature !== this.highlightedFeature) {\r\n            if (this.highlightedFeature) {\r\n                this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlightedFeature = feature;\r\n        }\r\n    };\r\n    MapEdges.prototype.updateMouseClicked = function (map) {\r\n        //console.log(\"mapEdges::updateMouseClicked...\")\r\n        if (this.highlightedFeature) {\r\n            if (!this.selectFeatureOverlay) {\r\n                this.initSelectFeatureOverlay(map);\r\n            }\r\n            this.selectFeatureOverlay.getSource().clear();\r\n            this.selectFeature = this.highlightedFeature;\r\n            this.selectFeatureOverlay.getSource().addFeature(this.selectFeature);\r\n            console.log(\"mapEdges::updateMouseClicked Select Edge: \" + this.selectFeature.getId());\r\n        }\r\n        else {\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapEdges.prototype.clearSelection = function () {\r\n        if (this.selectFeatureOverlay) {\r\n            console.log(\"mapEdges::clearSelection...\");\r\n            this.selectFeatureOverlay.getSource().clear();\r\n        }\r\n    };\r\n    MapEdges.prototype.deleteSelectedEdges = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        if (this.selectFeature)\r\n            this.mapService.deleteEdge(this.selectFeature.getId()).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    MapEdges.prototype.deleteEdgeById = function (id) {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        this.mapService.deleteEdge(id).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    MapEdges.prototype.addNewEdge = function (start, end) {\r\n        var _this = this;\r\n        console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n        if (!start || !end) {\r\n            return;\r\n        }\r\n        var sourceId = start.getId();\r\n        var destinationId = end.getId();\r\n        if (sourceId == destinationId) {\r\n            return;\r\n        }\r\n        var p1 = start.getGeometry().getCoordinates();\r\n        var p2 = end.getGeometry().getCoordinates();\r\n        var line = new ol.geom.LineString([p1, p2]);\r\n        var distance = line.getLength();\r\n        var path = {\r\n            'type': 'LineString',\r\n            'coordinates': [\r\n                p1,\r\n                p2\r\n            ]\r\n        };\r\n        this.mapService.addEdge(sourceId, destinationId, distance, path).\r\n            subscribe(function (edge) { return _this.edgeAdded(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapEdges.prototype.getEdgesForNode = function (nodeId) {\r\n        return this.layerSource.getFeatures().filter(function (feature) { return feature.get(\"source\") == nodeId || feature.get(\"destination\") == nodeId; });\r\n    };\r\n    MapEdges.prototype.removeEdgesForNode = function (nodeId) {\r\n        console.log(\"MapEdges::removeEdgesForNode - \" + nodeId);\r\n        var edges = this.getEdgesForNode(nodeId);\r\n        for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n            var edge = edges_1[_i];\r\n            this.layerSource.removeFeature(edge);\r\n        }\r\n    };\r\n    MapEdges.prototype.edgeDeleted = function (edge) {\r\n        var feature = this.layerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapEdges.prototype.edgeAdded = function (edge) {\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n    };\r\n    MapEdges.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'red',\r\n                    width: 4\r\n                })\r\n            })\r\n        });\r\n    };\r\n    MapEdges.prototype.initSelectFeatureOverlay = function (map) {\r\n        console.log(\"mapEdges::initSelectFeatureOverlay...\");\r\n        this.selectFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'rgba(0,190,255,0.8)',\r\n                    width: 6\r\n                })\r\n            })\r\n        });\r\n    };\r\n    MapEdges.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapEdges.prototype.showEdges = function (features) {\r\n        console.log(\"MapEdges::showEdges\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    return MapEdges;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapEdges.js.map\n\n/***/ },\n\n/***/ 688:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_point__ = __webpack_require__(679);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__openlayershelper__ = __webpack_require__(54);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapEditEdges; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapEditEdges = (function (_super) {\r\n    __extends(MapEditEdges, _super);\r\n    function MapEditEdges(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.startPositions = null;\r\n        this.Initialize();\r\n    }\r\n    MapEditEdges.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_2__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            stroke: new ol.style.Stroke({\r\n                color: 'gray',\r\n                width: 3\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n        this.lineAr = [];\r\n        this.multiLineString = new ol.geom.MultiLineString(this.lineAr);\r\n        this.multiLineFeature = new ol.Feature({\r\n            geometry: this.multiLineString,\r\n            name: 'Lines'\r\n        });\r\n        this.layerSource.addFeature(this.multiLineFeature);\r\n        //this.setNewLine([1722194.7183594021, 5955141.12279422], [1722055.5790813519, 5955315.494764996]);\r\n    };\r\n    MapEditEdges.prototype.setNewStartPos = function (p) {\r\n        var point = new __WEBPACK_IMPORTED_MODULE_0__base_point__[\"a\" /* Point */]();\r\n        point.createFromAr(p);\r\n        this.startPositions = [point];\r\n    };\r\n    MapEditEdges.prototype.setNewStartPositionsForEdgeFeatures = function (startnodeId, edges) {\r\n        this.startPositions = [];\r\n        for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n            var edge = edges_1[_i];\r\n            var pos = edge.getGeometry().getFirstCoordinate();\r\n            if (edge.get(\"source\") == startnodeId) {\r\n                pos = edge.getGeometry().getLastCoordinate();\r\n            }\r\n            var p = new __WEBPACK_IMPORTED_MODULE_0__base_point__[\"a\" /* Point */]();\r\n            p.createFromAr(pos);\r\n            this.startPositions.push(p);\r\n        }\r\n    };\r\n    MapEditEdges.prototype.setNewEndPos = function (p) {\r\n        //console.log(\"MapEditEdges::setNewEndPos - \" + p[0] + \", \" + p[1]);\r\n        if (this.startPositions != null) {\r\n            this.lineAr = [];\r\n            for (var _i = 0, _a = this.startPositions; _i < _a.length; _i++) {\r\n                var pos = _a[_i];\r\n                this.lineAr.push([pos.getAr(), p]);\r\n            }\r\n            this.multiLineString.setCoordinates(this.lineAr);\r\n        }\r\n    };\r\n    MapEditEdges.prototype.clear = function () {\r\n        this.startPositions = null;\r\n        this.lineAr = [];\r\n        this.multiLineString.setCoordinates(this.lineAr);\r\n    };\r\n    MapEditEdges.prototype.setNewLine = function (p1, p2) {\r\n        console.log(\"MapEditEdges::setNewLine - \");\r\n        this.lineAr = [];\r\n        this.lineAr.push([p1, p2]);\r\n        this.multiLineString.setCoordinates(this.lineAr);\r\n    };\r\n    MapEditEdges.prototype.updateEdges = function (edges, updatedNode) {\r\n        var _this = this;\r\n        var coord = updatedNode.getGeometry().getCoordinates();\r\n        for (var _i = 0, edges_2 = edges; _i < edges_2.length; _i++) {\r\n            var edge = edges_2[_i];\r\n            //console.log(\"Update Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n            var geo = edge.getGeometry().getCoordinates();\r\n            if (edge.get(\"source\") == updatedNode.getId()) {\r\n                geo[0] = coord;\r\n            }\r\n            else {\r\n                geo[geo.length - 1] = coord;\r\n            }\r\n            edge.getGeometry().setCoordinates(geo);\r\n            this.mapService.updateEdge(new ol.format.GeoJSON().writeFeature(edge), edge.getId()).\r\n                subscribe(function (node) { return _this.edgeUpdated(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapEditEdges.prototype.edgeUpdated = function (edge) {\r\n        //Nothing todo\r\n    };\r\n    return MapEditEdges;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapEditEdges.js.map\n\n/***/ },\n\n/***/ 689:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapFloor; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapFloor = (function (_super) {\r\n    __extends(MapFloor, _super);\r\n    function MapFloor(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapFloor.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(64,64,64,1.0)'\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapFloor.prototype.updateData = function (floorid) {\r\n        var _this = this;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getFloors(floorid).subscribe(function (buildings) { return _this.showFloors(buildings); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyFloor()));\r\n    };\r\n    MapFloor.prototype.showFloors = function (features) {\r\n        console.log(\"MapFloors::showFloors\");\r\n        this.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapFloor.prototype.getDummyFloor = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [\r\n                                [1722127.851590177, 5955257.966158812],\r\n                                [1722184.2836149659, 5955368.142969113],\r\n                                [1722202.4971256119, 5955359.185504861],\r\n                                [1722195.33115421, 5955345.450726341],\r\n                                [1722198.914139911, 5955343.360651349],\r\n                                [1722177.4162257058, 5955302.156315789],\r\n                                [1722173.2360757214, 5955303.649226498],\r\n                                [1722145.169354398, 5955249.307276702],\r\n                                [1722127.851590177, 5955257.966158812]\r\n                            ]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapFloor;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapFloor.js.map\n\n/***/ },\n\n/***/ 690:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__ = __webpack_require__(691);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapNodes; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar MapNodes = (function (_super) {\r\n    __extends(MapNodes, _super);\r\n    function MapNodes(mapService, mapEditEdges, mapEdges, mapRoute) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.mapEditEdges = mapEditEdges;\r\n        this.mapEdges = mapEdges;\r\n        this.mapRoute = mapRoute;\r\n        this.highlightFeatureOverlay = null;\r\n        this.displayEditLines = false;\r\n        this.isModifying = false;\r\n        this.lastMousePostion = [0, 0];\r\n        this.currentFloorId = -1;\r\n        this.ctrlPressed = false;\r\n        this.lastSelectedNode = null;\r\n        this.Initialize();\r\n    }\r\n    MapNodes.prototype.Initialize = function () {\r\n        var styleFunction = function (feature) {\r\n            if (feature.get('ctype') == 'node') {\r\n                return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].VirtualNodeStyle;\r\n            }\r\n            if (feature.get('ctype') == 'point of interest instance') {\r\n                return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].PoiNodeStyle;\r\n            }\r\n            return __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].DefaultNodeStyle;\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(styleFunction);\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapNodes.prototype.extendMap = function (map) {\r\n        var _this = this;\r\n        this.select = new ol.interaction.Select({\r\n            wrapX: false,\r\n            layers: (function (layer) { return _this.testSelect(layer); }),\r\n            toggleCondition: ol.events.condition.never\r\n        });\r\n        map.addInteraction(this.select);\r\n        this.modify = new ol.interaction.Modify({\r\n            features: this.select.getFeatures(),\r\n            condition: (function (evt) { return _this.testModify(evt); })\r\n        });\r\n        map.addInteraction(this.modify);\r\n        this.select.on('select', function (evt) { return _this.featureSelected(evt); });\r\n        this.modify.on('modifystart', function (evt) { return _this.featureModifyStart(evt); });\r\n        this.modify.on('modifyend', function (evt) { return _this.featureModified(evt); });\r\n    };\r\n    MapNodes.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.currentFloorId = floorId;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getNavigationNodes(floorId).subscribe(function (nodes) { return _this.showNodes(nodes); }));\r\n    };\r\n    MapNodes.prototype.mouseMoved = function (position, worldposition, map) {\r\n        var _this = this;\r\n        this.lastMousePostion = worldposition;\r\n        if (this.highlightFeatureOverlay === null) {\r\n            this.initHighlightFeatureOverlay(map);\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature !== this.highlightedFeature) {\r\n            if (this.highlightedFeature) {\r\n                this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlightedFeature = feature;\r\n        }\r\n        this.mapEdges.updateMouseMoved(position, map, this.highlightedFeature == null);\r\n        if (this.displayEditLines || this.isModifying) {\r\n            this.mapEditEdges.setNewEndPos(worldposition);\r\n        }\r\n    };\r\n    MapNodes.prototype.mouseClicked = function (position, map) {\r\n        if (this.displayEditLines) {\r\n            var selectedFeature = null;\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            if (selectedFeatures.length >= 1) {\r\n                selectedFeature = selectedFeatures[0];\r\n            }\r\n            if (this.highlightedFeature) {\r\n                //Add edge to existing Node\r\n                this.selectNewNode(this.highlightedFeature);\r\n                this.addNewEdge(selectedFeature, this.highlightedFeature);\r\n            }\r\n            else {\r\n                this.addNewNodeOnPos(selectedFeature, position);\r\n            }\r\n        }\r\n        else if (this.lastSelectedNode && this.highlightedFeature && this.ctrlPressed) {\r\n            this.selectNewNode(this.highlightedFeature);\r\n            this.addNewEdge(this.lastSelectedNode, this.highlightedFeature);\r\n        }\r\n        else if (!this.highlightedFeature) {\r\n            this.mapEdges.updateMouseClicked(map);\r\n        }\r\n        else {\r\n            this.mapEdges.clearSelection();\r\n        }\r\n    };\r\n    MapNodes.prototype.ctlPressed = function () {\r\n        this.ctrlPressed = true;\r\n        var selectedFeatures = this.select.getFeatures().getArray();\r\n        if (selectedFeatures.length >= 1) {\r\n            this.displayEditLines = true;\r\n            var coord = selectedFeatures[0].getGeometry().getCoordinates();\r\n            console.log(\"Set Startpoint: \" + JSON.stringify(coord));\r\n            this.mapEditEdges.setNewStartPos(coord);\r\n            this.mapEditEdges.setNewEndPos(this.lastMousePostion);\r\n        }\r\n    };\r\n    MapNodes.prototype.ctlReleased = function () {\r\n        this.ctrlPressed = false;\r\n        console.log(\"ctlReleased...\");\r\n        this.displayEditLines = false;\r\n        this.mapEditEdges.clear();\r\n    };\r\n    MapNodes.prototype.updateAddNode = function (node, selectedStartNodeFeature, edgeToSplitId) {\r\n        console.log(\"updateAddNode! - \" + JSON.stringify(node));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(node));\r\n        var endNode = this.layerSource.getFeatureById(node.id);\r\n        this.selectNewNode(endNode);\r\n        if (selectedStartNodeFeature) {\r\n            this.addNewEdge(selectedStartNodeFeature, endNode);\r\n            console.log(\"Split Edge?\");\r\n            if (edgeToSplitId >= 0) {\r\n                var edgeToSplit = this.mapEdges.getEdgeForId(edgeToSplitId);\r\n                if (edgeToSplit) {\r\n                    console.log(\"Split Edge: \" + edgeToSplit.getId());\r\n                    var node1 = this.layerSource.getFeatureById(edgeToSplit.get(\"source\"));\r\n                    var node2 = this.layerSource.getFeatureById(edgeToSplit.get(\"destination\"));\r\n                    this.mapEdges.deleteEdgeById(edgeToSplit.getId());\r\n                    if (node1) {\r\n                        this.addNewEdge(node1, endNode);\r\n                    }\r\n                    if (node2) {\r\n                        this.addNewEdge(node2, endNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapNodes.prototype.selectNewNode = function (node) {\r\n        var selectedFeatures = this.select.getFeatures();\r\n        selectedFeatures.clear();\r\n        selectedFeatures.push(node);\r\n        var coord = node.getGeometry().getCoordinates();\r\n        this.mapEditEdges.setNewStartPos(coord);\r\n        this.mapEditEdges.setNewEndPos(coord);\r\n    };\r\n    MapNodes.prototype.addNewEdge = function (start, end) {\r\n        //console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n        this.mapEdges.addNewEdge(start, end);\r\n    };\r\n    MapNodes.prototype.deleteSelectedNodes = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.select.getFeatures().getArray(); _i < _a.length; _i++) {\r\n            var feature = _a[_i];\r\n            if (feature.get('ctype') == 'node') {\r\n                this.mapService.deleteNode(feature.getId()).subscribe(function (edge) { return _this.nodeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n            }\r\n            else {\r\n                console.log(\"Not allowed to delete feature of type: \" + feature.get('ctype'));\r\n            }\r\n        }\r\n    };\r\n    MapNodes.prototype.nodeDeleted = function (node) {\r\n        console.log(\"edgeDeleted...\" + JSON.stringify(node));\r\n        this.mapEdges.removeEdgesForNode(node.id);\r\n        var feature = this.layerSource.getFeatureById(node.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            var selected_collection = this.select.getFeatures();\r\n            selected_collection.clear();\r\n        }\r\n    };\r\n    MapNodes.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapNodes.prototype.testSelect = function (layer) {\r\n        if (this.testLayer(layer) &&\r\n            (__WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapNodes.prototype.testModify = function (evt) {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CurrentApplicationMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"b\" /* ApplicationModeT */].EDIT_NODES) {\r\n            var selectedFeatures = this.select.getFeatures().getArray();\r\n            if (selectedFeatures.length > 0 && selectedFeatures[0].get('ctype') == 'node') {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    };\r\n    MapNodes.prototype.addNewNodeOnPos = function (selectedFeature, position) {\r\n        var _this = this;\r\n        if (this.currentFloorId < 0) {\r\n            return;\r\n        }\r\n        //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n        var center = {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [position[0], position[1]]\r\n        };\r\n        //console.log(\"mouseClickedCtrl! - OBJ: \" + JSON.stringify(center));\r\n        var highlightedEdgeId = this.mapEdges.getHighlightedEdgeId();\r\n        console.log(\"mouseClicked Add new node: \" + JSON.stringify(center) +\r\n            \"   SplitEdgeID: \" + highlightedEdgeId);\r\n        //Add edge to new Node\r\n        this.mapService.addNode(this.currentFloorId, center).\r\n            subscribe(function (node) { return _this.updateAddNode(node, selectedFeature, highlightedEdgeId); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapNodes.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeatureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: __WEBPACK_IMPORTED_MODULE_4__mapNodesStyles__[\"a\" /* MapNodesStyles */].higlightStyle\r\n        });\r\n    };\r\n    MapNodes.prototype.showNodes = function (features) {\r\n        this.clear();\r\n        //console.log(\"showNodes! - \" + JSON.stringify(features));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapNodes.prototype.featureSelected = function (evt) {\r\n        var features = evt.selected;\r\n        if (features.length > 0) {\r\n            console.log(\"Feature selected => \" + features[0].getId());\r\n            this.lastSelectedNode = features[0];\r\n            if (this.mapRoute.doShowRoute()) {\r\n                this.mapRoute.generateRoute(features[0].getId());\r\n            }\r\n            this.mapRoute.setNewStartPos(features[0].getId());\r\n        }\r\n    };\r\n    MapNodes.prototype.featureModified = function (evt) {\r\n        var _this = this;\r\n        console.log(\"MapNodes::featureModifyEnd...\");\r\n        this.isModifying = false;\r\n        this.mapEditEdges.clear();\r\n        var features = evt.features.getArray();\r\n        for (var _i = 0, features_1 = features; _i < features_1.length; _i++) {\r\n            var feature = features_1[_i];\r\n            console.log(\"Feature \" + feature.getId() + \" modified!\");\r\n            this.mapService.updateNode((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n                subscribe(function (node) { return _this.nodeUpdated(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n            var edges = this.mapEdges.getEdgesForNode(feature.getId());\r\n            this.mapEditEdges.updateEdges(edges, feature);\r\n        }\r\n    };\r\n    MapNodes.prototype.featureModifyStart = function (evt) {\r\n        console.log(\"MapNodes::featureModifyStart...\");\r\n        var selFeatures = this.select.getFeatures().getArray();\r\n        console.log(\"Feature selected: \" + selFeatures.length);\r\n        if (selFeatures.length >= 1) {\r\n            var edges = this.mapEdges.getEdgesForNode(selFeatures[0].getId());\r\n            console.log(\"Feature selected: \" + selFeatures[0].getId() + \"  Edges: \" + edges.length);\r\n            this.mapEditEdges.setNewStartPositionsForEdgeFeatures(selFeatures[0].getId(), edges);\r\n        }\r\n        this.isModifying = true;\r\n    };\r\n    MapNodes.prototype.nodeUpdated = function (node) {\r\n        console.log(\"node Updated! - \" + JSON.stringify(node));\r\n    };\r\n    MapNodes.prototype.clearSelection = function () {\r\n        var selectedFeatures = this.select.getFeatures();\r\n        selectedFeatures.clear();\r\n        this.displayEditLines = false;\r\n        this.isModifying = false;\r\n    };\r\n    return MapNodes;\r\n}(__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapNodes.js.map\n\n/***/ },\n\n/***/ 691:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapNodesStyles; });\nvar MapNodesStyles = (function () {\r\n    function MapNodesStyles() {\r\n    }\r\n    MapNodesStyles.higlightImage = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 3 })\r\n    });\r\n    MapNodesStyles.higlightStyle = new ol.style.Style({\r\n        image: MapNodesStyles.higlightImage\r\n    });\r\n    MapNodesStyles.DefaultNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 2 })\r\n    });\r\n    MapNodesStyles.DefaultNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.DefaultNodeImage\r\n    });\r\n    MapNodesStyles.VirtualNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'green', width: 2 })\r\n    });\r\n    MapNodesStyles.VirtualNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.VirtualNodeImage\r\n    });\r\n    MapNodesStyles.PoiNodeImage = new ol.style.Circle({\r\n        radius: 5,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 2 })\r\n    });\r\n    MapNodesStyles.PoiNodeStyle = new ol.style.Style({\r\n        image: MapNodesStyles.PoiNodeImage\r\n    });\r\n    return MapNodesStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapNodesStyles.js.map\n\n/***/ },\n\n/***/ 692:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRoom; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapRoom = (function (_super) {\r\n    __extends(MapRoom, _super);\r\n    function MapRoom(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.Initialize();\r\n    }\r\n    MapRoom.prototype.Initialize = function () {\r\n        var res = __WEBPACK_IMPORTED_MODULE_0__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(new ol.style.Style({\r\n            /*stroke: new ol.style.Stroke({\r\n              color: 'red',\r\n              width: 0\r\n            }),*/\r\n            fill: new ol.style.Fill({\r\n                color: 'rgba(96,96,255,1)'\r\n            })\r\n        }));\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapRoom.prototype.updateData = function (floorid) {\r\n        var _this = this;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getRooms(floorid).subscribe(function (rooms) { return _this.showRooms(rooms); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n    };\r\n    MapRoom.prototype.showRooms = function (features) {\r\n        //console.log(\"MapRoom::showRooms\");\r\n        this.clear();\r\n        var olFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n        this.layerSource.addFeatures(olFeatures);\r\n    };\r\n    MapRoom.prototype.getDummyRoom = function () {\r\n        return {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": [\r\n                {\r\n                    'type': 'Feature', \"id\": 12, 'geometry': {\r\n                        \"type\": \"Polygon\",\r\n                        \"coordinates\": [\r\n                            [[1722195.294385298, 5955266.126823761], [1722204.811691066, 5955261.3495094925],\r\n                                [1722202.1244517902, 5955255.975030941], [1722192.6071460224, 5955260.90163628],\r\n                                [1722195.294385298, 5955266.126823761]]\r\n                        ]\r\n                    },\r\n                    \"properties\": {}\r\n                }]\r\n        };\r\n    };\r\n    return MapRoom;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapRoom.js.map\n\n/***/ },\n\n/***/ 693:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__ = __webpack_require__(694);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRoute; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\nvar MapRoute = (function (_super) {\r\n    __extends(MapRoute, _super);\r\n    function MapRoute(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.currentStartNodeId = -1;\r\n        this.currentFloorId = -1;\r\n        this.createRoute = false;\r\n        this.Initialize();\r\n    }\r\n    MapRoute.prototype.Initialize = function () {\r\n        var _this = this;\r\n        var styleFunction = function (feature, currentFloor) {\r\n            var style = null;\r\n            try {\r\n                var source = feature.get(\"source_node\").properties.level;\r\n                var destination = feature.get(\"destination_node\").properties.level;\r\n                if (source == currentFloor || destination == currentFloor) {\r\n                    style = __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__[\"a\" /* MapRouteStyles */].routeCurrentFloor;\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n            if (style) {\r\n                return style;\r\n            }\r\n            else {\r\n                return __WEBPACK_IMPORTED_MODULE_2__mapRouteStyles__[\"a\" /* MapRouteStyles */].routeHiddenFloor;\r\n            }\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_1__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(function (feature) { return styleFunction(feature, _this.currentFloorId); });\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n    };\r\n    MapRoute.prototype.setNewStartPos = function (nodeId) {\r\n        this.currentStartNodeId = nodeId;\r\n    };\r\n    MapRoute.prototype.shiftPressed = function () {\r\n        this.createRoute = true;\r\n    };\r\n    MapRoute.prototype.shiftReleased = function () {\r\n        this.createRoute = false;\r\n    };\r\n    MapRoute.prototype.doShowRoute = function () {\r\n        return this.createRoute;\r\n    };\r\n    MapRoute.prototype.generateRoute = function (destinationNode) {\r\n        var _this = this;\r\n        if (this.currentStartNodeId >= 0 && destinationNode >= 0) {\r\n            console.log(\"MapRoute::generateRoute From: \" + this.currentStartNodeId + \" to \" + destinationNode);\r\n            this.subscribeNewRequest(this.mapService.getRoute(this.currentStartNodeId, destinationNode).\r\n                subscribe(function (route) { return _this.updateRoute(route); }, function (error) { return console.log(\"ERROR: \" + error); }));\r\n        }\r\n    };\r\n    MapRoute.prototype.clear = function () {\r\n        this.layerSource.clear();\r\n    };\r\n    MapRoute.prototype.setCurrentFloor = function (floor) {\r\n        this.currentFloorId = floor;\r\n        this.layerSource.refresh();\r\n    };\r\n    MapRoute.prototype.updateRoute = function (route) {\r\n        console.log(\"MapRoute::update Route\");\r\n        this.layerSource.clear();\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route));\r\n    };\r\n    return MapRoute;\r\n}(__WEBPACK_IMPORTED_MODULE_0__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapRoute.js.map\n\n/***/ },\n\n/***/ 694:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapRouteStyles; });\nvar MapRouteStyles = (function () {\r\n    function MapRouteStyles() {\r\n    }\r\n    MapRouteStyles.routeCurrentFloor = new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n            color: 'green',\r\n            width: 5\r\n        })\r\n    });\r\n    MapRouteStyles.routeHiddenFloor = new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n            color: 'green',\r\n            width: 5,\r\n            lineDash: [3, 7]\r\n        })\r\n    });\r\n    return MapRouteStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapRouteStyles.js.map\n\n/***/ },\n\n/***/ 695:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__ = __webpack_require__(449);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__ = __webpack_require__(276);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapLayerBase__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__openlayershelper__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapbeaconstyles__ = __webpack_require__(696);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapBeacons; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar MapBeacons = (function (_super) {\r\n    __extends(MapBeacons, _super);\r\n    function MapBeacons(dialog, mapService, beaconPopUpBaseElem, mapComponent) {\r\n        _super.call(this);\r\n        this.dialog = dialog;\r\n        this.mapService = mapService;\r\n        this.beaconPopUpBaseElem = beaconPopUpBaseElem;\r\n        this.mapComponent = mapComponent;\r\n        this.currentFloorId = -1;\r\n        this.lastMouseClickPosition = null;\r\n        this.editMode = __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"a\" /* BeaconEditMode */].CreateDefault();\r\n        this.dialogRef = null;\r\n        this.currentSelectedBeacon = null;\r\n        this.highlightFeaturePoint = null;\r\n        this.highlightFeature = null;\r\n        this.highlightFeatureAdded = false;\r\n        this.beaconFeatures = [];\r\n        this.lastOverlaysUsed = 0;\r\n        this.beaconOverlays = null;\r\n        this.beaconTextFields = null;\r\n        this.Initialize();\r\n    }\r\n    MapBeacons.prototype.Initialize = function () {\r\n        var styleFunction = function (feature) {\r\n            //let source = feature.get(\"source_node\").properties.level;\r\n            var style = __WEBPACK_IMPORTED_MODULE_4__mapbeaconstyles__[\"a\" /* MapBeaconStyles */].GetStyle(feature.get(\"signal\"));\r\n            //console.log(\"MapBeacons::styleFunction   \" + feature.get(\"signal\") + \"###\" + JSON.stringify(style));\r\n            return style;\r\n        };\r\n        var res = __WEBPACK_IMPORTED_MODULE_3__openlayershelper__[\"a\" /* OpenlayersHelper */].CreateBasicLayer(function (feature) { return styleFunction(feature); });\r\n        this.layerSource = res.layerSource;\r\n        this.layer = res.layer;\r\n        __WEBPACK_IMPORTED_MODULE_4__mapbeaconstyles__[\"a\" /* MapBeaconStyles */].InitStyles();\r\n    };\r\n    MapBeacons.prototype.updateData = function (floorId) {\r\n        var _this = this;\r\n        this.currentFloorId = floorId;\r\n        this.clear();\r\n        this.subscribeNewRequest(this.mapService.getBeacons(floorId).subscribe(function (beacons) { return _this.showBeacons(beacons); }));\r\n    };\r\n    MapBeacons.prototype.setBeaconEditMode = function (mode) {\r\n        console.log(\"MapBeacons::setBeaconEditMode: \" + JSON.stringify(mode));\r\n        this.clearSelection();\r\n        this.editMode = mode;\r\n    };\r\n    MapBeacons.prototype.setBeaconSignals = function (signals) {\r\n        if (!this.beaconOverlays) {\r\n            this.initBeaconOverlays();\r\n        }\r\n        var hSignal = undefined;\r\n        if (signals.length > 0) {\r\n            hSignal = signals[0];\r\n        }\r\n        for (var i = 1; i < signals.length; i++) {\r\n            if (signals[i].value > hSignal.value) {\r\n                hSignal = signals[i];\r\n            }\r\n        }\r\n        if (this.dialogRef && this.dialogRef.componentInstance) {\r\n            this.dialogRef.componentInstance.setNearestSignal(hSignal);\r\n        }\r\n        this.resetBeaconOverlays();\r\n        if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].DEFAULT) {\r\n            for (var i = 0; i < this.beaconFeatures.length; i++) {\r\n                this.beaconFeatures[i].setProperties({ signal: undefined });\r\n                for (var j = 0; j < signals.length; j++) {\r\n                    if (this.beaconFeatures[i].get(\"name\") == signals[j].name) {\r\n                        this.beaconFeatures[i].setProperties({ signal: signals[j].value });\r\n                        this.setBeaconOverlay(i, this.beaconFeatures[i].getGeometry().getCoordinates(), signals[j].name, signals[j].value, signals[j].origSignal);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.setBeaconOverlay = function (index, position, name, value, orgvalue) {\r\n        console.log(\"MapBeacons::setBeaconOverlay: \" + index + \"#\" + JSON.stringify(position));\r\n        if (index < this.beaconOverlays.length && this.isActive) {\r\n            this.beaconOverlays[index].setPosition(position);\r\n            this.beaconTextFields[index].innerHTML = name + \":\" + value.toFixed(2) + \"/\" + orgvalue.toFixed(0);\r\n            if (index > this.lastOverlaysUsed) {\r\n                this.lastOverlaysUsed = index;\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.resetBeaconOverlays = function () {\r\n        for (var i = 0; i < this.beaconOverlays.length && i <= this.lastOverlaysUsed; i++) {\r\n            this.beaconOverlays[i].setPosition(undefined);\r\n            this.beaconTextFields[i].innerHTML = \"\";\r\n        }\r\n        this.lastOverlaysUsed = 0;\r\n    };\r\n    MapBeacons.prototype.initBeaconOverlays = function () {\r\n        var base = this.beaconPopUpBaseElem.nativeElement;\r\n        //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(this.beaconPopUpBaseElem.nativeElement));\r\n        var childs = base.children;\r\n        var elemCount = childs.length;\r\n        console.log(\"MapBeacons::initBeaconOverlays: \" + elemCount);\r\n        this.beaconOverlays = new Array(elemCount);\r\n        this.beaconTextFields = new Array(elemCount);\r\n        var overlayDivs = [];\r\n        for (var i = 0; i < elemCount; i++) {\r\n            var OverlayDiv = childs[i].children[0];\r\n            overlayDivs.push(OverlayDiv);\r\n            //console.log(\"MapBeacons::initBeaconOverlays: NEW OVERLAY \" + i + \"#\" + OverlayDiv.className + \"#\");\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(OverlayDiv));\r\n            var innerDiv = OverlayDiv.children[0];\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(innerDiv));\r\n            var span = innerDiv.children[0];\r\n            //console.log(\"MapBeacons::initBeaconOverlays: \" + innerDiv.children.length);\r\n            this.beaconTextFields[i] = span;\r\n        }\r\n        for (var i = 0; i < overlayDivs.length; i++) {\r\n            //new ol.Overlay(/** @type {olx.OverlayOptions} */({\r\n            this.beaconOverlays[i] = new ol.Overlay(({\r\n                element: overlayDivs[i],\r\n                autoPan: false\r\n            }));\r\n            this.mapComponent.addOverlay(this.beaconOverlays[i]);\r\n        }\r\n    };\r\n    MapBeacons.prototype.mouseClicked = function (position, pixelPos, map) {\r\n        this.lastMouseClickPosition = null;\r\n        if (this.currentFloorId >= 0) {\r\n            //   this.clearSelection();\r\n            if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].ADD) {\r\n                this.CreateNewBeacon(position);\r\n            }\r\n            else {\r\n                var isSelected = this.selectBeacon(pixelPos, map, true);\r\n                if (isSelected) {\r\n                    isSelected = this.selectBeacon(pixelPos, map, false);\r\n                    if (isSelected) {\r\n                        if (!this.highlightFeature) {\r\n                            this.initHighlightFeatureOverlay(map);\r\n                        }\r\n                        this.highlightFeaturePoint.setCoordinates(this.currentSelectedBeacon.getGeometry().getCoordinates());\r\n                        this.layerSource.addFeature(this.highlightFeature);\r\n                        this.highlightFeatureAdded = true;\r\n                        this.showSelectedBeaconInfo();\r\n                    }\r\n                }\r\n                else if (this.editMode.mode == __WEBPACK_IMPORTED_MODULE_1__base_beaconeditmode__[\"b\" /* BeaconEditModeT */].MOVE && this.currentSelectedBeacon) {\r\n                    this.moveCurrentBeacon(position);\r\n                }\r\n                else {\r\n                    this.clearSelection();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.clearSelection = function () {\r\n        if (this.highlightFeature && this.highlightFeatureAdded) {\r\n            this.layerSource.removeFeature(this.highlightFeature);\r\n            this.highlightFeatureAdded = false;\r\n        }\r\n        this.currentSelectedBeacon = null;\r\n    };\r\n    MapBeacons.prototype.selectBeacon = function (pixelPos, map, testOnly) {\r\n        //console.log(\"MapBeacons::selectBeacon!\" + JSON.stringify(pixelPos));\r\n        var _this = this;\r\n        if (!testOnly) {\r\n            this.clearSelection();\r\n        }\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        feature = map.forEachFeatureAtPixel(pixelPos, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature) {\r\n            console.log(\"MapBeacons::selectBeacon Beacon selected! - \" + feature.get(\"name\"));\r\n            if (!testOnly) {\r\n                this.currentSelectedBeacon = feature;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapBeacons.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapBeacons.prototype.showSelectedBeaconInfo = function () {\r\n        console.log(\"MapBeacons::showSelectedBeaconInfo!\");\r\n    };\r\n    MapBeacons.prototype.moveCurrentBeacon = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapBeacons::moveCurrentBeacon... \" + JSON.stringify(position));\r\n        if (this.currentSelectedBeacon) {\r\n            this.currentSelectedBeacon.getGeometry().setCoordinates(position);\r\n            this.highlightFeature.getGeometry().setCoordinates(position);\r\n            this.mapService.updateBeacon((new ol.format.GeoJSON()).writeFeature(this.currentSelectedBeacon), this.currentSelectedBeacon.getId()).\r\n                subscribe(function (poi) { return _this.beaconUpdated(poi); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapBeacons.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n        this.highlightFeature = new ol.Feature({\r\n            geometry: this.highlightFeaturePoint,\r\n            name: 'SelectedPoi'\r\n        });\r\n        this.highlightFeature.setStyle(MapBeacons.higlightStyle);\r\n    };\r\n    MapBeacons.prototype.beaconUpdated = function (beacon) {\r\n        console.log(\"MapBeacons::beaconUpdated Beacon Updated! - \" + JSON.stringify(beacon));\r\n    };\r\n    MapBeacons.prototype.showBeacons = function (features) {\r\n        this.clearSelection();\r\n        this.clear();\r\n        //console.log(\"showBeacons! - \" + JSON.stringify(features));\r\n        /*\r\n            let dummy: Object =\r\n              {\r\n                \"type\": \"FeatureCollection\", \"features\":\r\n                [{ \"id\": 1, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722109.0870171075, 5955257.0827844525] }, \"properties\": { \"mac\": \"00-00-00-00-00-01\", \"name\": \"N1\", \"deployed\": \"2017-06-29T10:18:46.040277Z\", \"seen\": \"2017-06-29T10:18:46.040319Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } },\r\n                  { \"id\": 2, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722094.6153389667, 5955238.592188362] }, \"properties\": { \"mac\": \"00-00-00-00-00-02\", \"name\": \"namexyz\", \"deployed\": \"2017-06-29T10:22:07.677524Z\", \"seen\": \"2017-06-29T10:22:07.677560Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } }]\r\n              };\r\n        */\r\n        this.beaconFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n        //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n        this.layerSource.addFeatures(this.beaconFeatures);\r\n    };\r\n    MapBeacons.prototype.beaconDialogClosed = function (res) {\r\n        console.log(\"MapBeacons::beaconDialogClosed: \" + res);\r\n        if (res && res == \"Save\") {\r\n            console.log(\"MapBeacons::beaconDialogClosed: Save Beacon...\");\r\n            if (this.dialogRef && this.dialogRef.componentInstance) {\r\n                var dialogComp = this.dialogRef.componentInstance;\r\n                if (dialogComp.name && dialogComp.name.length > 0) {\r\n                    console.log(\"MapBeacons::beaconDialogClosed: Save Beacon: \" + dialogComp.mac + \"/\" + dialogComp.name);\r\n                    this.addOrUpdateBeacon(dialogComp.name);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapBeacons.prototype.CreateNewBeacon = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapBeacons::CreateNewBeacon: Add new beacon\" + JSON.stringify(position));\r\n        this.lastMouseClickPosition = position;\r\n        this.dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_0__beacondialog_beacondialog_component__[\"a\" /* BeacondialogComponent */]);\r\n        this.dialogRef.componentInstance.setMacAndName(\"\", \"\");\r\n        this.dialogRef.afterClosed().subscribe(function (res) { return _this.beaconDialogClosed(res); });\r\n    };\r\n    MapBeacons.prototype.addOrUpdateBeacon = function (name) {\r\n        var _this = this;\r\n        if (this.currentFloorId < 0) {\r\n            return;\r\n        }\r\n        if (this.lastMouseClickPosition) {\r\n            //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n            var center = {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": [this.lastMouseClickPosition[0], this.lastMouseClickPosition[1]]\r\n            };\r\n            console.log(\"MapBeacons ADD: #\" + name + \"#\" + this.currentFloorId + \"#\" + JSON.stringify(center));\r\n            this.mapService.addBeacon(this.currentFloorId, center, name).\r\n                subscribe(function (beacon) { return _this.updateAddBeacon(beacon); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapBeacons.prototype.updateAddBeacon = function (beacon) {\r\n        console.log(\"updateAddBeacon! - \" + JSON.stringify(beacon));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(beacon));\r\n    };\r\n    MapBeacons.higlightObject = new ol.style.Circle({\r\n        radius: 8,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n    });\r\n    MapBeacons.higlightStyle = new ol.style.Style({\r\n        image: MapBeacons.higlightObject\r\n    });\r\n    return MapBeacons;\r\n}(__WEBPACK_IMPORTED_MODULE_2__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapbeacons.js.map\n\n/***/ },\n\n/***/ 696:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapBeaconStyles; });\nvar MapBeaconStyles = (function () {\r\n    function MapBeaconStyles() {\r\n    }\r\n    MapBeaconStyles.InitStyles = function () {\r\n        for (var i = 0; i <= MapBeaconStyles.getMaxIndex(); i++) {\r\n            var r = MapBeaconStyles.getRValue(i);\r\n            var g = MapBeaconStyles.getGValue(i);\r\n            var color = 'rgba(' + r + ',' + g + ',0,1)';\r\n            //console.log(\"MapBeaconStyles::InitStyles   \" + color);\r\n            var circle = new ol.style.Circle({\r\n                radius: 7,\r\n                fill: new ol.style.Fill({\r\n                    color: color\r\n                }),\r\n                stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n            });\r\n            var style = new ol.style.Style({\r\n                image: circle\r\n            });\r\n            MapBeaconStyles.styles.push(style);\r\n        }\r\n    };\r\n    MapBeaconStyles.GetStyle = function (signalValue) {\r\n        if (!signalValue) {\r\n            return MapBeaconStyles.style;\r\n        }\r\n        if (signalValue < MapBeaconStyles.minSignalValue) {\r\n            return MapBeaconStyles.style;\r\n        }\r\n        if (signalValue > MapBeaconStyles.maxSignalValue) {\r\n            signalValue = MapBeaconStyles.maxSignalValue;\r\n        }\r\n        var index = MapBeaconStyles.getIndex(signalValue);\r\n        //console.log(\"MapBeaconStyles::GetStyle   \" + index);\r\n        return MapBeaconStyles.styles[index];\r\n    };\r\n    MapBeaconStyles.getIndex = function (value) {\r\n        return Math.floor(value - MapBeaconStyles.minSignalValue);\r\n    };\r\n    MapBeaconStyles.getMaxIndex = function () {\r\n        return (MapBeaconStyles.maxSignalValue - MapBeaconStyles.minSignalValue);\r\n    };\r\n    MapBeaconStyles.getHalfIndex = function () {\r\n        return MapBeaconStyles.getMaxIndex() / 2.0;\r\n    };\r\n    MapBeaconStyles.getRValue = function (index) {\r\n        if (index <= MapBeaconStyles.getHalfIndex()) {\r\n            return 255;\r\n        }\r\n        var val = MapBeaconStyles.getMaxIndex() - index;\r\n        return Math.floor((val / MapBeaconStyles.getHalfIndex()) * 255);\r\n    };\r\n    MapBeaconStyles.getGValue = function (index) {\r\n        if (index >= MapBeaconStyles.getHalfIndex()) {\r\n            return 255;\r\n        }\r\n        return Math.floor((index / MapBeaconStyles.getHalfIndex()) * 255);\r\n    };\r\n    MapBeaconStyles.circle = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: new ol.style.Fill({\r\n            color: 'black'\r\n        }),\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n    });\r\n    MapBeaconStyles.style = new ol.style.Style({\r\n        image: MapBeaconStyles.circle\r\n    });\r\n    MapBeaconStyles.maxSignalValue = -70;\r\n    MapBeaconStyles.minSignalValue = -90;\r\n    MapBeaconStyles.styles = [];\r\n    return MapBeaconStyles;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapbeaconstyles.js.map\n\n/***/ },\n\n/***/ 697:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapLayerBase__ = __webpack_require__(53);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapPois; });\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\r\n\r\nvar MapPois = (function (_super) {\r\n    __extends(MapPois, _super);\r\n    function MapPois(mapService) {\r\n        _super.call(this);\r\n        this.mapService = mapService;\r\n        this.poitypes = null;\r\n        this.currentPoiType = null;\r\n        this.currentFloor = -1;\r\n        this.iconStyleMap = null;\r\n        this.currentSelectedPoi = null;\r\n        this.highlightFeaturePoint = null;\r\n        this.highlightFeature = null;\r\n        this.featureAdded = false;\r\n        this.Initialize();\r\n    }\r\n    MapPois.prototype.Initialize = function () {\r\n        this.layerSource = new ol.source.Vector({\r\n            features: []\r\n        });\r\n        this.layer = new ol.layer.Vector({\r\n            source: this.layerSource\r\n        });\r\n    };\r\n    MapPois.prototype.updateData = function (currentFloor) {\r\n        var _this = this;\r\n        if (this.iconStyleMap) {\r\n            this.clear();\r\n            this.subscribeNewRequest(this.mapService.getPoiInstances(currentFloor).subscribe(function (buildings) { return _this.showPois(buildings); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); }));\r\n        }\r\n    };\r\n    MapPois.prototype.setPoiTypes = function (poiTypes) {\r\n        this.poitypes = poiTypes;\r\n        this.iconStyleMap = {};\r\n        for (var i = 0; i < poiTypes.length; i++) {\r\n            var iconStyle = new ol.style.Style({\r\n                image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({\r\n                    anchor: [0.5, 1],\r\n                    anchorXUnits: 'fraction',\r\n                    anchorYUnits: 'fraction',\r\n                    src: poiTypes[i].iconurl\r\n                }))\r\n            });\r\n            this.iconStyleMap[poiTypes[i].id] = iconStyle;\r\n        }\r\n        if (this.currentFloor >= 0) {\r\n            this.updateData(this.currentFloor);\r\n        }\r\n    };\r\n    MapPois.prototype.setCurrentSelectedPoiType = function (poiType) {\r\n        this.currentPoiType = poiType;\r\n    };\r\n    MapPois.prototype.setCurrentFloor = function (layer) {\r\n        console.log(\"MapPois::setCurrentFloor\");\r\n        this.currentFloor = layer;\r\n    };\r\n    MapPois.prototype.mouseClicked = function (position, pixelPos, strgPressed, shiftPressed, map) {\r\n        console.log(\"MapPois::mouseClicked\");\r\n        if (strgPressed && this.currentPoiType && this.currentFloor >= 0) {\r\n            this.clearSelection();\r\n            this.createNewPoi(position);\r\n        }\r\n        else if (this.currentFloor >= 0) {\r\n            if (this.currentSelectedPoi && shiftPressed) {\r\n                console.log(\"MapPois::mouseClicked Move: \" + this.currentSelectedPoi.getId());\r\n                this.moveCurrentPoi(position);\r\n            }\r\n            else if (this.selectPoi(pixelPos, map)) {\r\n                if (!this.highlightFeature) {\r\n                    this.initHighlightFeatureOverlay(map);\r\n                }\r\n                this.highlightFeaturePoint.setCoordinates(this.currentSelectedPoi.getGeometry().getCoordinates());\r\n                this.layerSource.addFeature(this.highlightFeature);\r\n                this.featureAdded = true;\r\n                console.log(\"MapPois::mouseClicked Select: \" + this.currentSelectedPoi.getId());\r\n            }\r\n            else {\r\n                this.clearSelection();\r\n            }\r\n        }\r\n    };\r\n    MapPois.prototype.deleteSelectedPoi = function () {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont delete edge!\");\r\n            return;\r\n        }\r\n        if (this.currentSelectedPoi) {\r\n            this.mapService.deletePoi(this.currentSelectedPoi.getId()).subscribe(function (edge) { return _this.poiDeleted(edge); }, function (error) { return console.log(\"ERROR deletePoi: \" + error); });\r\n        }\r\n    };\r\n    MapPois.prototype.poiDeleted = function (poi) {\r\n        console.log(\"poiDeleted...\" + JSON.stringify(poi));\r\n        var feature = this.layerSource.getFeatureById(poi.id);\r\n        if (feature) {\r\n            this.layerSource.removeFeature(feature);\r\n            this.clearSelection();\r\n        }\r\n    };\r\n    MapPois.prototype.moveCurrentPoi = function (position) {\r\n        var _this = this;\r\n        console.log(\"MapPois::movePoi... \" + JSON.stringify(position));\r\n        if (this.currentSelectedPoi) {\r\n            this.currentSelectedPoi.getGeometry().setCoordinates(position);\r\n            this.highlightFeature.getGeometry().setCoordinates(position);\r\n            this.mapService.updatePoi((new ol.format.GeoJSON()).writeFeature(this.currentSelectedPoi), this.currentSelectedPoi.getId()).\r\n                subscribe(function (poi) { return _this.poiUpdated(poi); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    MapPois.prototype.poiUpdated = function (poi) {\r\n        console.log(\"Poi Updated! - \" + JSON.stringify(poi));\r\n    };\r\n    MapPois.prototype.selectPoi = function (pixelPos, map) {\r\n        var _this = this;\r\n        this.clearSelection();\r\n        var options = {\r\n            layerFilter: (function (layer) { return _this.testLayer(layer); })\r\n        };\r\n        var feature = null;\r\n        feature = map.forEachFeatureAtPixel(pixelPos, function (feature) {\r\n            return feature;\r\n        }, options);\r\n        if (feature) {\r\n            this.currentSelectedPoi = feature;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    MapPois.prototype.testLayer = function (layer) {\r\n        return this.layer === layer;\r\n    };\r\n    MapPois.prototype.createNewPoi = function (position) {\r\n        var _this = this;\r\n        var center = {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [position[0], position[1]]\r\n        };\r\n        this.mapService.addPoiInstance(this.currentFloor, center, this.currentPoiType.id).\r\n            subscribe(function (node) { return _this.updateAddPoi(node); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    MapPois.prototype.showPois = function (features) {\r\n        console.log(\"MapPois::showPois\");\r\n        this.clear();\r\n        this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(features));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    };\r\n    MapPois.prototype.showPoisWithStyles = function (olFeatures) {\r\n        for (var i = 0; i < olFeatures.length; i++) {\r\n            var id = olFeatures[i].getId();\r\n            var poiTypeId = olFeatures[i].get(\"name\");\r\n            console.log(\"MapPois::showPoisWithStyles: \" + id + \"#\" + poiTypeId);\r\n            olFeatures[i].setStyle(this.iconStyleMap[poiTypeId]);\r\n        }\r\n        this.layerSource.addFeatures(olFeatures);\r\n    };\r\n    MapPois.prototype.updateAddPoi = function (poi) {\r\n        console.log(\"MapPois::updateAddNode! - \" + JSON.stringify(poi));\r\n        this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(poi));\r\n        this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(poi));\r\n    };\r\n    MapPois.prototype.clearSelection = function () {\r\n        if (this.featureAdded && this.highlightFeature) {\r\n            this.layerSource.removeFeature(this.highlightFeature);\r\n            this.featureAdded = false;\r\n        }\r\n        this.currentSelectedPoi = null;\r\n    };\r\n    MapPois.prototype.initHighlightFeatureOverlay = function (map) {\r\n        this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n        this.highlightFeature = new ol.Feature({\r\n            geometry: this.highlightFeaturePoint,\r\n            name: 'SelectedPoi'\r\n        });\r\n        this.highlightFeature.setStyle(MapPois.higlightStyle);\r\n    };\r\n    MapPois.higlightObject = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: null,\r\n        stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n    });\r\n    MapPois.higlightStyle = new ol.style.Style({\r\n        image: MapPois.higlightObject\r\n    });\r\n    return MapPois;\r\n}(__WEBPACK_IMPORTED_MODULE_1__mapLayerBase__[\"a\" /* MapLayerBase */]));\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mappois.js.map\n\n/***/ },\n\n/***/ 698:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return FloorselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nvar FloorselectorComponent = (function () {\r\n    function FloorselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.floorList = [];\r\n        this.selectedFloor = null;\r\n        this.currentFloorEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n    }\r\n    FloorselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.updateData();\r\n    };\r\n    FloorselectorComponent.prototype.updateData = function () {\r\n        var _this = this;\r\n        this.mapService.getFloorNames().subscribe(function (floors) { return _this.updateFloors(floors); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    FloorselectorComponent.prototype.onSelect = function (floor) {\r\n        this.selectFloor(floor);\r\n        //console.log(\"Floor: \" + JSON.stringify(floor));\r\n    };\r\n    FloorselectorComponent.prototype.updateFloors = function (floors) {\r\n        this.floorList = floors;\r\n        for (var _i = 0, _a = this.floorList; _i < _a.length; _i++) {\r\n            var floor = _a[_i];\r\n            if (floor.name.startsWith('EG')) {\r\n                this.selectFloor(floor);\r\n                //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(floor));\r\n                return;\r\n            }\r\n        }\r\n        if (this.floorList.length > 0) {\r\n            this.selectFloor(this.floorList[0]);\r\n        }\r\n    };\r\n    FloorselectorComponent.prototype.selectFloor = function (floor) {\r\n        this.selectedFloor = floor;\r\n        this.currentFloorEvt.emit(this.selectedFloor);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], FloorselectorComponent.prototype, \"currentFloorEvt\", void 0);\r\n    FloorselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-floorselector',\r\n            template: __webpack_require__(887),\r\n            styles: [__webpack_require__(874)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], FloorselectorComponent);\r\n    return FloorselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/floorselector.component.js.map\n\n/***/ },\n\n/***/ 699:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return MapcontrollerserviceService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\nvar MapcontrollerserviceService = (function () {\r\n    function MapcontrollerserviceService() {\r\n    }\r\n    MapcontrollerserviceService.prototype.showRoute = function (route) {\r\n    };\r\n    MapcontrollerserviceService.prototype.hideRoute = function () {\r\n    };\r\n    MapcontrollerserviceService = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"R\" /* Injectable */])(), \r\n        __metadata('design:paramtypes', [])\r\n    ], MapcontrollerserviceService);\r\n    return MapcontrollerserviceService;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mapcontrollerservice.service.js.map\n\n/***/ },\n\n/***/ 700:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BASEMAP_1; });\nvar BASEMAP_1 = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.7179484894, 5955311.036092768],\r\n                    [1722146.0740319043, 5955305.806638332]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722145.4393780732, 5955304.280772133],\r\n                    [1722144.3102046154, 5955302.047357817]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722156.5486399394, 5955306.256258198],\r\n                    [1722151.3915498806, 5955308.863588676],\r\n                    [1722127.931174513, 5955262.460852391]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.866233931, 5955310.209756394],\r\n                    [1722112.6978673185, 5955256.472911546],\r\n                    [1722122.082911084, 5955251.728004948],\r\n                    [1722126.076234266, 5955259.626477143]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722143.3116983555, 5955300.0385739],\r\n                    [1722142.058591478, 5955297.560029245]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722141.0532015797, 5955295.537624686],\r\n                    [1722140.1856665525, 5955293.821710152]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.173541809, 5955291.819808783],\r\n                    [1722138.5469889154, 5955290.580537533]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.9410912285, 5955289.382120622],\r\n                    [1722137.6381423848, 5955288.782912167]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.0186251472, 5955287.591381051],\r\n                    [1722135.9514194895, 5955285.480534063]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722134.9747857354, 5955283.785578792],\r\n                    [1722133.7629903613, 5955281.38874497]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.1843296185, 5955280.176557558],\r\n                    [1722132.4613843076, 5955278.7466298565]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.9914304577, 5955310.161206596],\r\n                    [1722140.1936529577, 5955310.058966596],\r\n                    [1722140.4127388278, 5955310.492300833],\r\n                    [1722145.1408928542, 5955308.101832573]\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-basemap01.js.map\n\n/***/ },\n\n/***/ 701:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BASEMAP; });\nvar BASEMAP = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.7179484894, 5955311.036092768],\r\n                    [1722146.0740319043, 5955305.806638332]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722145.4393780732, 5955304.280772133],\r\n                    [1722144.3102046154, 5955302.047357817]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722156.5486399394, 5955306.256258198],\r\n                    [1722151.3915498806, 5955308.863588676],\r\n                    [1722127.931174513, 5955262.460852391]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.866233931, 5955310.209756394],\r\n                    [1722112.6978673185, 5955256.472911546],\r\n                    [1722122.082911084, 5955251.728004948],\r\n                    [1722126.076234266, 5955259.626477143]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722143.3116983555, 5955300.0385739],\r\n                    [1722142.058591478, 5955297.560029245]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722141.0532015797, 5955295.537624686],\r\n                    [1722140.1856665525, 5955293.821710152]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.173541809, 5955291.819808783],\r\n                    [1722138.5469889154, 5955290.580537533]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.9410912285, 5955289.382120622],\r\n                    [1722137.6381423848, 5955288.782912167]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722137.0186251472, 5955287.591381051],\r\n                    [1722135.9514194895, 5955285.480534063]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722134.9747857354, 5955283.785578792],\r\n                    [1722133.7629903613, 5955281.38874497]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.1843296185, 5955280.176557558],\r\n                    [1722132.4613843076, 5955278.7466298565]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722139.9914304577, 5955310.161206596],\r\n                    [1722140.1936529577, 5955310.058966596],\r\n                    [1722140.4127388278, 5955310.492300833],\r\n                    [1722145.1408928542, 5955308.101832573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722138.038594267, 5955306.179079759],\r\n                    [1722144.6830496874, 5955302.819764539]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722135.7410594842, 5955301.730400836],\r\n                    [1722142.4240331678, 5955298.351611486]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.8325794842, 5955297.955580836],\r\n                    [1722140.6118477474, 5955294.528106706]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722132.0015660073, 5955294.238323232],\r\n                    [1722138.703797744, 5955290.849797362]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.6365151408, 5955289.799595839],\r\n                    [1722136.415785561, 5955286.372120619]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722133.3726029575, 5955287.862334096],\r\n                    [1722134.7650136072, 5955290.616410413],\r\n                    [1722137.846498397, 5955289.058468022]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722125.925588397, 5955282.220528022],\r\n                    [1722132.5507836072, 5955278.870950413]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.610817744, 5955278.860292363],\r\n                    [1722131.0295153542, 5955279.688442573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.8911294772, 5955277.628127148],\r\n                    [1722129.3945353474, 5955276.645903885]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722129.6667453507, 5955277.088653229],\r\n                    [1722124.6400720875, 5955279.630047359]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722128.7129353473, 5955275.297753885],\r\n                    [1722127.9437012174, 5955273.776270622]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722128.4004860038, 5955274.488433889],\r\n                    [1722123.3738127407, 5955277.0298280185]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722127.1545618705, 5955272.119756282],\r\n                    [1722123.4154994807, 5955264.724191493],\r\n                    [1722118.4273444808, 5955267.246111493]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722122.9784653473, 5955261.946553886],\r\n                    [1722122.3942370876, 5955260.790997359]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722121.7710594772, 5955259.558402149],\r\n                    [1722121.6055288278, 5955259.230995833],\r\n                    [1722115.7507053544, 5955262.191087573]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722127.1905355575, 5955262.863966276],\r\n                    [1722132.5831355576, 5955260.137566276]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.9798149837, 5955257.121846492],\r\n                    [1722129.8506415258, 5955254.888432178],\r\n                    [1722147.2821563147, 5955246.075376894],\r\n                    [1722148.5490336933, 5955248.581158493]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722132.440085313, 5955260.145429773],\r\n                    [1722155.9048458226, 5955306.556839516]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722157.3645080356, 5955309.443934019],\r\n                    [1722183.225318291, 5955360.594537519],\r\n                    [1722200.6542708513, 5955351.758591575],\r\n                    [1722199.753565157, 5955349.929230013]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722198.3537092782, 5955347.160432989],\r\n                    [1722149.8819030395, 5955251.287097337]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722149.8819030395, 5955251.287097337],\r\n                    [1722157.9541226493, 5955247.205930637],\r\n                    [1722176.3699033493, 5955283.6308642505],\r\n                    [1722193.5491868227, 5955274.94533251],\r\n                    [1722186.3826503032, 5955260.770499457],\r\n                    [1722191.3130268299, 5955258.277791197],\r\n                    [1722196.2594950895, 5955268.061507724],\r\n                    [1722205.8120998794, 5955263.2318853345],\r\n                    [1722168.4604198795, 5955189.353265335],\r\n                    [1722158.9078150897, 5955194.182887725],\r\n                    [1722162.8026726998, 5955201.886602934],\r\n                    [1722157.3330361731, 5955204.651951194],\r\n                    [1722157.3330361731, 5955204.651951194],\r\n                    [1722141.2322726997, 5955212.792202935],\r\n                    [1722157.16223857, 5955244.300394671]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722148.5398468156, 5955248.562987588],\r\n                    [1722157.1232892193, 5955244.223355988]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722190.0277233494, 5955255.7355642505],\r\n                    [1722185.405495086, 5955258.07247838],\r\n                    [1722175.3567644365, 5955238.196897064],\r\n                    [1722179.9789926999, 5955235.859982935]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722174.0333716231, 5955235.770658151],\r\n                    [1722159.5055540127, 5955207.035802942],\r\n                    [1722164.2048209596, 5955204.659939461],\r\n                    [1722178.73263857, 5955233.394794671]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.73263857, 5955233.394794671],\r\n                    [1722174.0333716231, 5955235.770658151]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722140.357013393, 5955310.382080402],\r\n                    [1722137.3386845773, 5955311.908092286],\r\n                    [1722149.897288901, 5955336.748001939],\r\n                    [1722162.2627709177, 5955330.496240233],\r\n                    [1722152.788735943, 5955311.757360757],\r\n                    [1722157.3645080356, 5955309.443934019]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722149.8477756688, 5955313.381052751],\r\n                    [1722152.8438179474, 5955311.866308534]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722130.9622755072, 5955257.087154819],\r\n                    [1722126.0484391632, 5955259.571500665]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722207.7633137836, 5955345.9158264045],\r\n                    [1722221.7069020541, 5955373.495122952],\r\n                    [1722239.1943337908, 5955364.653797083],\r\n                    [1722221.04429965, 5955328.754488798],\r\n                    [1722203.5568679133, 5955337.595814668],\r\n                    [1722206.3222161732, 5955343.065451194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722207.7209011305, 5955345.927597744],\r\n                    [1722199.706457837, 5955349.9795537945]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722206.2832679134, 5955342.988414668],\r\n                    [1722198.2880848302, 5955347.030633107]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722049.4669066695, 5955131.340529937],\r\n                    [1722049.1639491015, 5955130.741304225],\r\n                    [1722061.3660094535, 5955124.572165527],\r\n                    [1722075.6788024392, 5955152.881719317],\r\n                    [1722072.9488957562, 5955154.261910242],\r\n                    [1722091.4299879135, 5955190.816024668]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722093.0649668297, 5955193.858561198],\r\n                    [1722105.4895609596, 5955218.433409461],\r\n                    [1722095.9369561698, 5955223.263031851],\r\n                    [1722080.8249113904, 5955193.372622271],\r\n                    [1722078.1671296537, 5955194.7163481405],\r\n                    [1722075.5186261733, 5955189.477821194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722074.0775296537, 5955186.627448141],\r\n                    [1722068.3910335512, 5955175.380016039],\r\n                    [1722071.0488152879, 5955174.03629017],\r\n                    [1722051.0292526896, 5955134.439204904]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722051.0292526896, 5955134.439204904],\r\n                    [1722042.863314006, 5955138.567754255]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722049.4669066695, 5955131.340529937],\r\n                    [1722041.220516865, 5955135.509753904]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722075.5186261733, 5955189.477821194],\r\n                    [1722069.927088845, 5955192.304800271]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722074.0775296537, 5955186.627448141],\r\n                    [1722068.4587553814, 5955189.468197719]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722097.6015840345, 5955191.372955843],\r\n                    [1722107.1307010136, 5955210.220783096],\r\n                    [1722124.72563531, 5955201.325105896],\r\n                    [1722115.2516003351, 5955182.5862264205]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722096.2266244434, 5955188.632755751],\r\n                    [1722079.9461231441, 5955156.431233118],\r\n                    [1722097.587630091, 5955147.512009638],\r\n                    [1722113.90707965, 5955179.790568798]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722093.0649668297, 5955193.858561198],\r\n                    [1722097.6788840177, 5955191.525848996]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722096.2266244434, 5955188.632755751],\r\n                    [1722091.5080994435, 5955191.018355751],\r\n                    [1722091.4107277032, 5955190.825762278]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722123.1670161732, 5955178.591151194],\r\n                    [1722130.7035644331, 5955193.49783772],\r\n                    [1722148.229514433, 5955184.6370377205],\r\n                    [1722138.005514433, 5955164.414787721],\r\n                    [1722120.479564433, 5955173.275587721],\r\n                    [1722121.6674961732, 5955175.625221194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722115.2543441842, 5955182.591653532],\r\n                    [1722123.1670161732, 5955178.591151194]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722113.90707965, 5955179.790568798],\r\n                    [1722121.84190444, 5955175.778866407]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722204.85786097, 5955261.344477491],\r\n                    [1722195.3052561802, 5955266.174099881]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722194.6203413904, 5955259.749362271],\r\n                    [1722202.13146097, 5955255.951877492]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722193.0157085734, 5955254.853634014],\r\n                    [1722199.8334951, 5955251.406685755]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722191.0691403067, 5955251.194798801],\r\n                    [1722197.9639633598, 5955247.708902282]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722188.829597917, 5955246.765164011],\r\n                    [1722195.72442097, 5955243.279267492]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722186.3771279065, 5955242.20135598],\r\n                    [1722193.3875057495, 5955238.657037071]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722184.2730444332, 5955237.848327721],\r\n                    [1722191.2063857496, 5955234.342957071]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722179.3642344433, 5955227.85211575],\r\n                    [1722181.370085093, 5955231.819527067],\r\n                    [1722188.1878716196, 5955228.372578808]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.2355861766, 5955225.811060538],\r\n                    [1722176.9892320468, 5955223.345872275]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722176.034130963, 5955221.2654388035],\r\n                    [1722175.1383144434, 5955219.49358575]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722174.125650963, 5955217.490618804],\r\n                    [1722172.918245093, 5955215.102467068]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722171.8480203066, 5955213.176968801],\r\n                    [1722170.9132544366, 5955211.328077064]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722169.9200661767, 5955209.363630538],\r\n                    [1722168.6347626965, 5955206.821403591]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722167.6610485665, 5955204.895475327],\r\n                    [1722166.8041803066, 5955203.200658801]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722165.7915179168, 5955201.197694011],\r\n                    [1722165.3630826965, 5955200.350283591],\r\n                    [1722172.2579057496, 5955196.864387072]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722163.9768455203, 5955201.147870534],\r\n                    [1722162.7442503101, 5955201.771048144]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722167.2326144367, 5955204.048067064],\r\n                    [1722174.1274374898, 5955200.562170545]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722169.5695285664, 5955208.670295327],\r\n                    [1722176.4643516196, 5955205.184398808]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722171.4390603066, 5955212.368078801],\r\n                    [1722178.3338833598, 5955208.882182281]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722173.7945885733, 5955216.8358040145],\r\n                    [1722180.6123751, 5955213.388855755]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722175.6251709631, 5955220.4565488035],\r\n                    [1722182.4429574898, 5955217.009600544]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722177.8655744365, 5955225.079207064],\r\n                    [1722184.7603974896, 5955221.593310544]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722182.6026803032, 5955231.196349458],\r\n                    [1722182.9921661732, 5955231.966721195]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722183.5954385665, 5955233.064285328],\r\n                    [1722184.4328326965, 5955234.720583591]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722187.6806144365, 5955244.492567064],\r\n                    [1722189.105800963, 5955243.772018804],\r\n                    [1722187.9178692228, 5955241.42238533]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722188.9066344434, 5955246.726215751],\r\n                    [1722189.099227917, 5955246.628844012]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722190.3083527067, 5955249.403041622],\r\n                    [1722191.5352327067, 5955251.829711622]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722189.2376968332, 5955247.381030541],\r\n                    [1722188.867685093, 5955246.649177067]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722192.5102379168, 5955254.045174011],\r\n                    [1722193.3671061767, 5955255.739990538]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722194.456805093, 5955257.704007067],\r\n                    [1722195.3136744434, 5955259.398825751]\r\n                ] } },\r\n        {\r\n            'type': 'Feature',\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722160.40733618, 5955197.1488198815],\r\n                    [1722169.95994097, 5955192.319197492]\r\n                ] } }\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-basemap02.js.map\n\n/***/ },\n\n/***/ 702:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_floor__ = __webpack_require__(184);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return FLOORS; });\n\r\nvar FLOORS = [\r\n    new __WEBPACK_IMPORTED_MODULE_0__base_floor__[\"a\" /* Floor */]({\r\n        \"id\": 1,\r\n        \"name\": \"OG3\",\r\n        \"building\": 1\r\n    }),\r\n    new __WEBPACK_IMPORTED_MODULE_0__base_floor__[\"a\" /* Floor */]({\r\n        \"id\": 2,\r\n        \"name\": \"EG\",\r\n        \"building\": 1\r\n    })\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-floors.js.map\n\n/***/ },\n\n/***/ 703:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return NAVIGATIONEDGES_DEMO; });\nvar NAVIGATIONEDGES_DEMO = {\r\n    'type': 'FeatureCollection',\r\n    'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n            'name': 'EPSG:3857'\r\n        }\r\n    },\r\n    'features': [\r\n        {\r\n            'type': 'Feature', \"id\": 1,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722198.6534343925, 5955261.05092735]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 2,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722197.1605236838, 5955255.82573987]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 3,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722193.428246912, 5955247.465439901]\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            'type': 'Feature', \"id\": 4,\r\n            'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722191.9353362035, 5955242.389543491]\r\n                ]\r\n            }\r\n        },\r\n    ]\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-navigationedges.js.map\n\n/***/ },\n\n/***/ 704:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ROOMS; });\nvar ROOMS = [\r\n    { id: 11, name: 'Hrsaal 1', floor: -1 },\r\n    { id: 12, name: 'Hrsaal 2', floor: -1 },\r\n    { id: 13, name: 'Hrsaal 3', floor: 0 },\r\n    { id: 14, name: 'WC', floor: 1 },\r\n    { id: 15, name: 'Besprechungsraum A1', floor: -1 },\r\n    { id: 16, name: 'Besprechungsraum A2', floor: -1 },\r\n    { id: 17, name: 'Besprechungsraum A3', floor: 5 },\r\n    { id: 18, name: 'Besprechungsraum A4', floor: -1 },\r\n    { id: 19, name: 'Besprechungsraum B1', floor: -1 },\r\n    { id: 20, name: 'Besprechungsraum B2', floor: -1 }\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-rooms.js.map\n\n/***/ },\n\n/***/ 705:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return DEMOROUTE; });\n/*export const DEMOROUTE: Object = {\r\n  'type': 'FeatureCollection',\r\n  'crs': {\r\n    'type': 'name',\r\n    'properties': {\r\n      'name': 'EPSG:3857'\r\n    }\r\n  },\r\n  'features': [\r\n    {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': 'LineString',\r\n          'coordinates': [\r\n            [1722152.223911352,5955326.29112532],\r\n            [1722145.0579399504,5955313.899966438],\r\n            [1722166.107980943,5955304.046755761],\r\n            [1722139.0862971158,5955254.482120233],\r\n            [1722166.8544362977,5955241.643088137],\r\n            [1722173.7218255575,5955263.887457697],\r\n            [1722191.9353362035,5955256.721486296],\r\n            [1722188.053768361,5955249.256932751],\r\n            [1722193.1296647706,5955247.1668577595]\r\n    ]    }  }\r\n  ]};\r\n*/\r\nvar DEMOROUTE = [\r\n    {\r\n        'layer': 0,\r\n        'geojson': {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [\r\n                {\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': [\r\n                            [1722152.223911352, 5955326.29112532],\r\n                            [1722145.0579399504, 5955313.899966438],\r\n                            [1722166.107980943, 5955304.046755761],\r\n                            [1722139.0862971158, 5955254.482120233]\r\n                        ] } }\r\n            ] }\r\n    },\r\n    {\r\n        'layer': 1,\r\n        'geojson': {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [\r\n                {\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': [\r\n                            [1722139.0862971158, 5955254.482120233],\r\n                            [1722166.8544362977, 5955241.643088137],\r\n                            [1722173.7218255575, 5955263.887457697],\r\n                            [1722191.9353362035, 5955256.721486296],\r\n                            [1722188.053768361, 5955249.256932751],\r\n                            [1722193.1296647706, 5955247.1668577595]\r\n                        ] } }\r\n            ] }\r\n    }\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/mock-route.js.map\n\n/***/ },\n\n/***/ 706:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__ = __webpack_require__(74);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ModeselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\nvar ModeselectorComponent = (function () {\r\n    function ModeselectorComponent() {\r\n        this.modes = __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"c\" /* ApplicationModes */];\r\n        this.currentAppMode = __WEBPACK_IMPORTED_MODULE_1__base_applicationmode__[\"a\" /* ApplicationMode */].CreateDefault();\r\n        this.currentAppModeEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n    }\r\n    ModeselectorComponent.prototype.ngOnInit = function () {\r\n    };\r\n    ModeselectorComponent.prototype.modechanged = function (mode) {\r\n        console.log(\"ModeselectorComponent Mode changed: \" + mode.name);\r\n        this.currentAppMode = mode;\r\n        this.currentAppModeEvt.emit(this.currentAppMode);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], ModeselectorComponent.prototype, \"currentAppModeEvt\", void 0);\r\n    ModeselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-modeselector',\r\n            template: __webpack_require__(888),\r\n            styles: [__webpack_require__(875)]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], ModeselectorComponent);\r\n    return ModeselectorComponent;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/modeselector.component.js.map\n\n/***/ },\n\n/***/ 707:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return PoiselectorComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nvar PoiselectorComponent = (function () {\r\n    function PoiselectorComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.pois = null;\r\n        this.showControl = false;\r\n        this.selectedPoiType = null;\r\n        this.currentSelectedPoiEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n        this.poiTypeReceivedEvt = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"_20\" /* EventEmitter */]();\r\n    }\r\n    PoiselectorComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.updateData();\r\n    };\r\n    PoiselectorComponent.prototype.updateData = function () {\r\n        var _this = this;\r\n        this.mapService.getPoiTypes().subscribe(function (poiTypes) { return _this.updatePois(poiTypes); }, function (error) { return console.log(\"ERROR deleteNode: \" + error); });\r\n    };\r\n    PoiselectorComponent.prototype.onSelect = function (poi) {\r\n        this.selectPoi(poi);\r\n    };\r\n    PoiselectorComponent.prototype.updatePois = function (poilist) {\r\n        this.pois = poilist;\r\n        if (this.pois.length > 0) {\r\n            this.showControl = true;\r\n            this.selectPoi(this.pois[0]);\r\n        }\r\n        this.poiTypeReceivedEvt.emit(this.pois);\r\n    };\r\n    PoiselectorComponent.prototype.selectPoi = function (poi) {\r\n        this.selectedPoiType = poi;\r\n        this.currentSelectedPoiEvt.emit(this.selectedPoiType);\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], PoiselectorComponent.prototype, \"currentSelectedPoiEvt\", void 0);\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"C\" /* Output */])(), \r\n        __metadata('design:type', Object)\r\n    ], PoiselectorComponent.prototype, \"poiTypeReceivedEvt\", void 0);\r\n    PoiselectorComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-poiselector',\r\n            template: __webpack_require__(889),\r\n            styles: [__webpack_require__(876)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], PoiselectorComponent);\r\n    return PoiselectorComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/poiselector.component.js.map\n\n/***/ },\n\n/***/ 708:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomsearchComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar RoomsearchComponent = (function () {\r\n    function RoomsearchComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.searchTerms = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\r\n        this.currentSearchTerm = \"\";\r\n    }\r\n    RoomsearchComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.rooms = this.searchTerms\r\n            .debounceTime(300) // wait for 300ms pause in events\r\n            .distinctUntilChanged() // ignore if next search term is same as previous\r\n            .switchMap(function (term) { return term // switch to new observable each time\r\n            ? _this.mapService.searchRoom(term)\r\n            : __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__[\"Observable\"].of([]); })\r\n            .catch(function (error) {\r\n            // TODO: real error handling\r\n            console.log(error);\r\n            return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__[\"Observable\"].of([]);\r\n        });\r\n    };\r\n    RoomsearchComponent.prototype.search = function (term) {\r\n        this.searchTerms.next(term);\r\n    };\r\n    RoomsearchComponent.prototype.selectRoom = function (room) {\r\n        console.log('Select Room: ' + room.id + '#' + room.name);\r\n        this.currentSearchTerm = \"\";\r\n        this.searchTerms.next(this.currentSearchTerm);\r\n    };\r\n    RoomsearchComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-roomsearch',\r\n            template: __webpack_require__(890),\r\n            styles: [__webpack_require__(877)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], RoomsearchComponent);\r\n    return RoomsearchComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/roomsearch.component.js.map\n\n/***/ },\n\n/***/ 709:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomsearchmdComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar RoomsearchmdComponent = (function () {\r\n    function RoomsearchmdComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.showsuggestions = false;\r\n        this.searchTerms = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\r\n        this.currentSearchTerm = \"\";\r\n        this.term = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__[\"d\" /* FormControl */]();\r\n    }\r\n    RoomsearchmdComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        if (__WEBPACK_IMPORTED_MODULE_5__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n        this.term.valueChanges\r\n            .debounceTime(400)\r\n            .distinctUntilChanged()\r\n            .flatMap(function (term) { return _this.mapService.searchRoom(term); })\r\n            .subscribe(function (items) { return _this.searchResults(items); });\r\n    };\r\n    RoomsearchmdComponent.prototype.searchResults = function (items) {\r\n        console.log('searchResults: ');\r\n        this.rooms = items;\r\n        this.showsuggestions = this.rooms.length > 0;\r\n        console.log('Showsuggestions: ' + this.showsuggestions);\r\n    };\r\n    RoomsearchmdComponent.prototype.log = function (logstring) {\r\n        console.log('log: ' + logstring);\r\n    };\r\n    RoomsearchmdComponent.prototype.selectRoom = function (room) {\r\n        console.log('Select Room: ' + room.id + '#' + room.name);\r\n        this.currentSearchTerm = \"\";\r\n        this.searchTerms.next(this.currentSearchTerm);\r\n    };\r\n    RoomsearchmdComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-roomsearchmd',\r\n            template: __webpack_require__(891),\r\n            styles: [__webpack_require__(878)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _b) || Object])\r\n    ], RoomsearchmdComponent);\r\n    return RoomsearchmdComponent;\r\n    var _a, _b;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/roomsearchmd.component.js.map\n\n/***/ },\n\n/***/ 710:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__base_globalconstants__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__ = __webpack_require__(450);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoutetestComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar RoutetestComponent = (function () {\r\n    function RoutetestComponent(mapServiceHttp, mapService) {\r\n        this.mapServiceHttp = mapServiceHttp;\r\n        this.mapService = mapService;\r\n        this.routeVisible = false;\r\n    }\r\n    RoutetestComponent.prototype.ngOnInit = function () {\r\n        if (__WEBPACK_IMPORTED_MODULE_3__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            this.mapService = this.mapServiceHttp;\r\n        }\r\n    };\r\n    RoutetestComponent.prototype.toogleroute = function () {\r\n        var _this = this;\r\n        console.log('Toogle Route');\r\n        if (this.routeVisible) {\r\n            this.mapComponentRef.hideRoute();\r\n            this.routeVisible = false;\r\n        }\r\n        else {\r\n            //this.mapService.getRoute().then(route => this.showRoute(route));\r\n            this.mapService.addEdge(14, 16, 1.123, {\r\n                'type': 'LineString',\r\n                'coordinates': [\r\n                    [1722178.9470130377, 5955230.595548892],\r\n                    [1722198.6534343925, 5955261.05092735]\r\n                ]\r\n            }).\r\n                subscribe(function (edge) { return _this.edgeAdded(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    RoutetestComponent.prototype.edgeAdded = function (edge) {\r\n        var _this = this;\r\n        console.log(\"edgeAdded... \" + JSON.stringify(edge));\r\n        edge.properties.destination = 19;\r\n        this.mapService.updateEdge(edge, edge.id).\r\n            subscribe(function (edge) { return _this.edgeUpdated(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n    };\r\n    RoutetestComponent.prototype.edgeDeleted = function (edge) {\r\n        console.log(\"edgeDeleted... \" + JSON.stringify(edge));\r\n    };\r\n    RoutetestComponent.prototype.edgeUpdated = function (edge) {\r\n        console.log(\"edgeUpdated... \" + JSON.stringify(edge));\r\n    };\r\n    RoutetestComponent.prototype.showRoute = function (route) {\r\n        this.mapComponentRef.showRoute(route);\r\n        this.routeVisible = true;\r\n    };\r\n    __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"B\" /* Input */])(), \r\n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__[\"a\" /* TestmapComponent */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__testmap_testmap_component__[\"a\" /* TestmapComponent */]) === 'function' && _a) || Object)\r\n    ], RoutetestComponent.prototype, \"mapComponentRef\", void 0);\r\n    RoutetestComponent = __decorate([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"G\" /* Component */])({\r\n            selector: 'app-routetest',\r\n            template: __webpack_require__(892),\r\n            styles: [__webpack_require__(879)]\r\n        }), \r\n        __metadata('design:paramtypes', [(typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__mapservicehttp_mapservicehttp_service__[\"a\" /* MapHttpService */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__mapservice_map_service__[\"a\" /* MapService */]) === 'function' && _c) || Object])\r\n    ], RoutetestComponent);\r\n    return RoutetestComponent;\r\n    var _a, _b, _c;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/routetest.component.js.map\n\n/***/ },\n\n/***/ 711:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_globalconstants__ = __webpack_require__(32);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return NavigationMap; });\n\r\nvar NavigationMap = (function () {\r\n    function NavigationMap(mapService) {\r\n        this.mapService = mapService;\r\n        this.isActive = false;\r\n    }\r\n    NavigationMap.prototype.Initialize = function (select) {\r\n        this.select = select;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        this.edgeLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        this.edgePathLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'green',\r\n                    width: 1\r\n                })\r\n            });\r\n        };\r\n        var styleFunctionPath = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'green',\r\n                    lineDash: [5],\r\n                    width: 3\r\n                })\r\n            });\r\n        };\r\n        this.edgeLayer = new ol.layer.Vector({\r\n            source: this.edgeLayerSource,\r\n            style: styleFunction\r\n        });\r\n        this.edgePathLayer = new ol.layer.Vector({\r\n            source: this.edgePathLayerSource,\r\n            style: styleFunctionPath,\r\n            zIndex: 10\r\n        });\r\n        this.edgePathLayer.set('isSelectable', true);\r\n    };\r\n    NavigationMap.prototype.getEdgeLayer = function () {\r\n        return this.edgeLayer;\r\n    };\r\n    NavigationMap.prototype.getEdgePathLayer = function () {\r\n        return this.edgePathLayer;\r\n    };\r\n    NavigationMap.prototype.addEdge = function (source, destination, length, path) {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont add edge!\");\r\n            return;\r\n        }\r\n        this.mapService.addEdge(source, destination, length, path).\r\n            subscribe(function (edge) { return _this.updateAddEdge(edge); } /*,\r\n        error => console.log(\"ERROR: \" + <any>error)*/);\r\n    };\r\n    NavigationMap.prototype.deleteSelectedEdge = function () {\r\n        var _this = this;\r\n        //console.log(\"deleteSelectedEdges...\" + this.select.getFeatures().getArray().length);\r\n        for (var _i = 0, _a = this.select.getFeatures().getArray(); _i < _a.length; _i++) {\r\n            var feature = _a[_i];\r\n            //console.log(\"deleteSelectedEdge: \" + JSON.stringify(feature.getId()));\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n                console.log(\"Offline mode, dont delete edge!\");\r\n                return;\r\n            }\r\n            this.mapService.deleteEdge(feature.getId()).subscribe(function (edge) { return _this.edgeDeleted(edge); }, function (error) { return console.log(\"ERROR deleteEdge: \" + error); });\r\n        }\r\n    };\r\n    NavigationMap.prototype.edgeDeleted = function (edge) {\r\n        console.log(\"edgeDeleted...\" + JSON.stringify(edge));\r\n        var feature = this.edgeLayerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.edgeLayerSource.removeFeature(feature);\r\n        }\r\n        feature = this.edgePathLayerSource.getFeatureById(edge.id);\r\n        if (feature) {\r\n            this.edgePathLayerSource.removeFeature(feature);\r\n        }\r\n    };\r\n    NavigationMap.prototype.updateEdges = function (featureArray) {\r\n        var _this = this;\r\n        console.log(\"updateEdges... \");\r\n        if (!__WEBPACK_IMPORTED_MODULE_0__base_globalconstants__[\"a\" /* USEHTTPSERVICE */]) {\r\n            console.log(\"Offline mode, dont update edge!\");\r\n            return;\r\n        }\r\n        for (var _i = 0, featureArray_1 = featureArray; _i < featureArray_1.length; _i++) {\r\n            var feature = featureArray_1[_i];\r\n            console.log(\"updateEdge: \" + JSON.stringify(feature.getId()));\r\n            this.mapService.updateEdge((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\r\n                subscribe(function (edge) { return _this.edgeUpdated(edge); }, function (error) { return console.log(\"ERROR: \" + error); });\r\n        }\r\n    };\r\n    NavigationMap.prototype.edgeUpdated = function (edge) {\r\n        console.log(\"edgeUpdated... \" + JSON.stringify(edge));\r\n    };\r\n    NavigationMap.prototype.showEdges = function (edges) {\r\n        console.log(\"showRoute called\");\r\n        this.edgeLayerSource.clear();\r\n        this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n        this.edgePathLayerSource.clear();\r\n        this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\r\n    };\r\n    NavigationMap.prototype.updateAddEdge = function (edge) {\r\n        console.log(\"updateAddEdge! - \" + JSON.stringify(edge));\r\n        this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n        this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n    };\r\n    return NavigationMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/navigationedges.js.map\n\n/***/ },\n\n/***/ 712:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RoomMap; });\nvar RoomMap = (function () {\r\n    function RoomMap() {\r\n        this.isActive = false;\r\n        this.featureOverlay = null;\r\n        this.selectedRoomOverlay = null;\r\n        this.selectedRoom = null;\r\n        this.navigationMap = null;\r\n    }\r\n    RoomMap.prototype.Initialize = function (navigationMap) {\r\n        this.navigationMap = navigationMap;\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        console.log('Create Room LAYER SOURCE!!!');\r\n        this.roomLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(128,0,255,0.5)'\r\n                })\r\n            });\r\n        };\r\n        this.roomLayer = new ol.layer.Vector({\r\n            source: this.roomLayerSource,\r\n            style: styleFunction\r\n        });\r\n    };\r\n    RoomMap.prototype.getRoomLayer = function () {\r\n        return this.roomLayer;\r\n    };\r\n    RoomMap.prototype.showRooms = function (rooms) {\r\n        //console.log(\"showRoom called\");\r\n        //console.log(\"Show Room!\" + JSON.stringify(rooms));\r\n        this.roomLayerSource.clear();\r\n        this.roomLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(rooms));\r\n    };\r\n    RoomMap.prototype.mouseMoved = function (position, map) {\r\n        if (this.featureOverlay === null) {\r\n            this.initFeatureOverlay(map);\r\n        }\r\n        var feature = map.forEachFeatureAtPixel(position, function (feature) {\r\n            return feature;\r\n        });\r\n        if (feature !== this.highlight) {\r\n            if (this.highlight) {\r\n                this.featureOverlay.getSource().removeFeature(this.highlight);\r\n            }\r\n            if (feature) {\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n                //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n                this.featureOverlay.getSource().addFeature(feature);\r\n            }\r\n            this.highlight = feature;\r\n        }\r\n    };\r\n    RoomMap.prototype.mouseClicked = function (position, map) {\r\n        if (this.highlight != null) {\r\n            //console.log('Select Room: ' + this.highlight.getId() + \"::\" + this.highlight.get('floor'));\r\n            if (this.selectedRoomOverlay == null) {\r\n                this.initSelectedRoomOverlay(map);\r\n            }\r\n            this.selectedRoom = this.highlight;\r\n            this.selectedRoomOverlay.getSource().clear();\r\n            this.selectedRoomOverlay.getSource().addFeature(this.highlight);\r\n        }\r\n    };\r\n    RoomMap.prototype.mouseClickedCtrl = function (position, map) {\r\n        if (this.selectedRoom != null && this.highlight != null) {\r\n            console.log('Add Edge: ' + this.selectedRoom.getId() + \"/\" + this.highlight.getId());\r\n            this.addEdge(this.selectedRoom, this.highlight);\r\n        }\r\n    };\r\n    RoomMap.prototype.addEdge = function (source, destination) {\r\n        var sourceId = source.getId();\r\n        var destinationId = destination.getId();\r\n        if (sourceId == destinationId) {\r\n            return;\r\n        }\r\n        var p1 = source.getGeometry().getInteriorPoint().B;\r\n        var p2 = destination.getGeometry().getInteriorPoint().B;\r\n        var line = new ol.geom.LineString([p1, p2]);\r\n        var distance = line.getLength();\r\n        console.log(\"RoomMap::addEdge \" + sourceId + \"/\" + destinationId + \"#\" + JSON.stringify(p1) + \"/ \" + JSON.stringify(p2) + \"--\" + distance);\r\n        var path = {\r\n            'type': 'LineString',\r\n            'coordinates': [\r\n                p1,\r\n                p2\r\n            ]\r\n        };\r\n        this.navigationMap.addEdge(sourceId, destinationId, distance, path);\r\n    };\r\n    RoomMap.prototype.Clear = function () {\r\n        if (this.selectedRoomOverlay) {\r\n            this.selectedRoomOverlay.getSource().clear();\r\n        }\r\n        if (this.featureOverlay) {\r\n            this.featureOverlay.getSource().clear();\r\n        }\r\n        this.selectedRoom = null;\r\n        this.highlight = null;\r\n    };\r\n    RoomMap.prototype.initFeatureOverlay = function (map) {\r\n        //console.log(\"Create Room Featureoverlay\");\r\n        this.featureOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: '#f00',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(255,0,0,0.8)'\r\n                })\r\n            })\r\n        });\r\n    };\r\n    RoomMap.prototype.initSelectedRoomOverlay = function (map) {\r\n        //console.log(\"Create SelectedRoom Featureoverlay\");\r\n        this.selectedRoomOverlay = new ol.layer.Vector({\r\n            source: new ol.source.Vector(),\r\n            map: map,\r\n            style: new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: '#f00',\r\n                    width: 1\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: 'rgba(0,128,255,0.8)'\r\n                })\r\n            })\r\n        });\r\n    };\r\n    return RoomMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/roommap.js.map\n\n/***/ },\n\n/***/ 713:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return RouteMap; });\nvar RouteMap = (function () {\r\n    function RouteMap() {\r\n        this.isActive = false;\r\n    }\r\n    RouteMap.prototype.Initialize = function () {\r\n        var geojsonObject = {\r\n            'type': 'FeatureCollection',\r\n            'crs': {\r\n                'type': 'name',\r\n                'properties': {\r\n                    'name': 'EPSG:3857'\r\n                }\r\n            },\r\n            'features': [{\r\n                    'type': 'Feature',\r\n                    'geometry': {\r\n                        'type': 'LineString',\r\n                        'coordinates': []\r\n                    }\r\n                }]\r\n        };\r\n        console.log('Create Route LAYER SOURCE!!!');\r\n        this.routeLayerSource = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        this.routeLayerSourceHidden = new ol.source.Vector({\r\n            features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n        });\r\n        var styleFunction = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'blue',\r\n                    lineDash: [5],\r\n                    width: 2\r\n                })\r\n            });\r\n        };\r\n        var styleFunctionHidden = function (feature) {\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    color: 'blue',\r\n                    width: 2\r\n                })\r\n            });\r\n        };\r\n        this.routeLayer = new ol.layer.Vector({\r\n            source: this.routeLayerSource,\r\n            style: styleFunction\r\n        });\r\n        this.routeLayerHidden = new ol.layer.Vector({\r\n            source: this.routeLayerSourceHidden,\r\n            style: styleFunctionHidden\r\n        });\r\n    };\r\n    RouteMap.prototype.getRouteLayer = function () {\r\n        return this.routeLayer;\r\n    };\r\n    RouteMap.prototype.getHiddenRouteLayer = function () {\r\n        return this.routeLayerHidden;\r\n    };\r\n    RouteMap.prototype.showRoute = function (route) {\r\n        console.log(\"showRoute called\");\r\n        this.routeLayerSource.clear();\r\n        this.routeLayerSourceHidden.clear();\r\n        for (var i = 0; i < route.length; i++) {\r\n            if (route[i][\"layer\"] == 0) {\r\n                this.routeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n            }\r\n            else {\r\n                this.routeLayerSourceHidden.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\r\n            }\r\n        }\r\n    };\r\n    RouteMap.prototype.hideRoute = function () {\r\n        console.log(\"hideRoute called\");\r\n        this.routeLayerSource.clear();\r\n        this.routeLayerSourceHidden.clear();\r\n    };\r\n    return RouteMap;\r\n}());\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/routemap.js.map\n\n/***/ },\n\n/***/ 714:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return environment; });\nvar environment = {\r\n    production: true\r\n};\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/environment.prod.js.map\n\n/***/ },\n\n/***/ 715:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__ = __webpack_require__(729);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_es6_symbol__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__ = __webpack_require__(722);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es6_object___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_es6_object__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__ = __webpack_require__(718);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_es6_function___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_core_js_es6_function__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__ = __webpack_require__(724);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_core_js_es6_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__ = __webpack_require__(723);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_core_js_es6_parse_float__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__ = __webpack_require__(721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_es6_number___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_es6_number__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__ = __webpack_require__(720);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_core_js_es6_math___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_core_js_es6_math__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__ = __webpack_require__(728);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_core_js_es6_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_core_js_es6_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__ = __webpack_require__(717);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_core_js_es6_date___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_core_js_es6_date__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__ = __webpack_require__(716);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_core_js_es6_array___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_core_js_es6_array__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__ = __webpack_require__(726);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_core_js_es6_regexp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__ = __webpack_require__(719);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_core_js_es6_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_core_js_es6_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__ = __webpack_require__(727);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_core_js_es6_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_core_js_es6_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__ = __webpack_require__(725);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_core_js_es6_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__ = __webpack_require__(730);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_core_js_es7_reflect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__ = __webpack_require__(1152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_zone_js_dist_zone__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/polyfills.js.map\n\n/***/ },\n\n/***/ 74:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(exports, \"b\", function() { return ApplicationModeT; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ApplicationMode; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"c\", function() { return ApplicationModes; });\nvar ApplicationModeT;\r\n(function (ApplicationModeT) {\r\n    ApplicationModeT[ApplicationModeT[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_NODES\"] = 1] = \"EDIT_NODES\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_POIS\"] = 2] = \"EDIT_POIS\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_BACKGROUND\"] = 3] = \"EDIT_BACKGROUND\";\r\n    ApplicationModeT[ApplicationModeT[\"EDIT_BEACONS\"] = 4] = \"EDIT_BEACONS\";\r\n})(ApplicationModeT || (ApplicationModeT = {}));\r\nvar ApplicationMode = (function () {\r\n    function ApplicationMode(mode, name) {\r\n        this.mode = mode;\r\n        this.name = name;\r\n    }\r\n    ApplicationMode.CreateDefault = function () {\r\n        //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n        return new ApplicationMode(ApplicationModeT.EDIT_NODES, \"Navigationsmesh\");\r\n    };\r\n    return ApplicationMode;\r\n}());\r\nvar ApplicationModes = [\r\n    ApplicationMode.CreateDefault(),\r\n    new ApplicationMode(ApplicationModeT.EDIT_POIS, \"Points of Interest\"),\r\n    new ApplicationMode(ApplicationModeT.EDIT_BEACONS, \"Beacons\") //,\r\n];\r\n//# sourceMappingURL=C:/safe/OpenLayers/repo/MedUniGraz-API/medunimaps/src/applicationmode.js.map\n\n/***/ },\n\n/***/ 869:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\n\\n.app-toolbar-filler{\\n  -webkit-box-flex:1;\\n      -ms-flex:1 1 auto;\\n          flex:1 1 auto;\\n  height:3em;\\n}\\n\\n.header-toolbar{\\n  position:absolute;\\n  top:0em;\\n  bottom:0;\\n  right:0;\\n  left:0;\\n  background-color:#51ae32;\\n  color:#ffffff;\\n  height:3em;\\n  margin:0;\\n  z-index:1;\\n}\\n\"\n\n/***/ },\n\n/***/ 870:\n/***/ function(module, exports) {\n\nmodule.exports = \".positionindicator{\\r\\n  position:fixed;\\r\\n  bottom:3.5em;\\r\\n  right:0.5em;\\r\\n}\\r\\n\\r\\n.positionbutton{\\r\\n  background-color:white;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 871:\n/***/ function(module, exports) {\n\nmodule.exports = \".dialogDiv{\\r\\n  position:relative;\\r\\n  width:12em;\\r\\n}\\r\\n\\r\\n.closeDialogButton{\\r\\n  position:absolute;\\r\\n  top:-42px;\\r\\n  right:-22px;\\r\\n  padding:0 0;\\r\\n  min-width:3em;\\r\\n  color:#51AE32;\\r\\n}\\r\\n\\r\\n.NavigateButton{\\r\\n  padding:0 0;\\r\\n  min-width:5em;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.idInput{\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.nameInput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.batteryOutput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.controlButtonTable{\\r\\n  padding:0px;\\r\\n  margin:0px;\\r\\n  border:0px;\\r\\n  border-spacing:0;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.ScanButton{\\r\\n  padding:0 0;\\r\\n  width:100%;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.ControlButtonSpacer{\\r\\n  min-width:3em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.navigateDiv{\\r\\n  padding-top:1em;\\r\\n  padding-bottom:1em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 872:\n/***/ function(module, exports) {\n\nmodule.exports = \".modecontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.modecontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  padding-left:0.5em;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.modecontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 873:\n/***/ function(module, exports) {\n\nmodule.exports = \".map{\\r\\n  position:absolute; //top:3.5em;\\r\\n  top:0;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:#ffffff;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  padding:0.2em;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n  min-width:4em;\\r\\n  max-width:8em;\\r\\n  padding-right:0.2em;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after, .beacon-ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 874:\n/***/ function(module, exports) {\n\nmodule.exports = \".floorselector{\\r\\n  position:absolute;\\r\\n  bottom:1.0em;\\r\\n  left:1.0em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n}\\r\\n\\r\\n.floormenutext{\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenuIcon{\\r\\n  color:#51AE32;\\r\\n  margin-right:0.2em;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 875:\n/***/ function(module, exports) {\n\nmodule.exports = \".modeselector{\\r\\n  position:absolute;\\r\\n  top:1.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.modeselectormenu{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 876:\n/***/ function(module, exports) {\n\nmodule.exports = \".poicontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.poicontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.poicontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\\r\\n.poicontrolmenuIcon{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  margin-right:0.2em;\\r\\n  float:left;\\r\\n}\\r\\n\"\n\n/***/ },\n\n/***/ 877:\n/***/ function(module, exports) {\n\nmodule.exports = \".roomsearch{\\n  position:absolute;\\n  top:0.7em;\\n  left:4.7em;\\n  z-index:1;\\n  background-color:#FFFFFF80;\\n  border-radius:0.5em;\\n}\\n\\n.search-result{\\n  border-bottom:1px solid gray;\\n  border-left:1px solid gray;\\n  border-right:1px solid gray;\\n  width:195px;\\n  height:20px;\\n  padding:5px;\\n  background-color:white;\\n  cursor:pointer;\\n}\\n#search-box{\\n  width:200px;\\n  height:20px;\\n}\\n\"\n\n/***/ },\n\n/***/ 878:\n/***/ function(module, exports) {\n\nmodule.exports = \".placeholder-white{\\n  color:#ffffff;\\n}\\n\"\n\n/***/ },\n\n/***/ 879:\n/***/ function(module, exports) {\n\nmodule.exports = \".routetest{\\n  position:absolute;\\n  top:8.0em;\\n  left:0.7em;\\n  z-index:1;\\n  background-color:#FFFFFF80;\\n  border-radius:0.5em;\\n}\\n\\n.routetestbutton{\\n  background-color:#FFFFFFFF;\\n}\\n\"\n\n/***/ },\n\n/***/ 880:\n/***/ function(module, exports) {\n\nmodule.exports = \".map{\\n  position:absolute;\\n  top:3.5em;\\n  bottom:0;\\n  right:0;\\n  left:0;\\n  z-index:0;\\n}\\n\\n.ol-popup{\\n  position:absolute;\\n  background-color:white;\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\n  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\n  padding:15px;\\n  border-radius:10px;\\n  border:1px solid #cccccc;\\n  bottom:12px;\\n  left:-50px;\\n}\\n.ol-popup:after, .ol-popup:before{\\n  top:100%;\\n  border:solid transparent;\\n  content:\\\" \\\";\\n  height:0;\\n  width:0;\\n  position:absolute;\\n  pointer-events:none;\\n}\\n.ol-popup:after{\\n  border-top-color:white;\\n  border-width:10px;\\n  left:48px;\\n  margin-left:-10px;\\n}\\n.ol-popup:before{\\n  border-top-color:#cccccc;\\n  border-width:11px;\\n  left:48px;\\n  margin-left:-11px;\\n}\\n.ol-popup-closer{\\n  text-decoration:none;\\n  position:absolute;\\n  top:2px;\\n  right:8px;\\n}\\n.ol-popup-closer:after{\\n  content:\\\"\\\";\\n}\\n\"\n\n/***/ },\n\n/***/ 882:\n/***/ function(module, exports) {\n\nmodule.exports = \"<!--<app-testmap #mapComp [applicationMode]=\\\"currentAppMode\\\"></app-testmap>\\r\\n<app-routetest [mapComponentRef] = mapComp *ngIf=\\\"currentAppMode && currentAppMode.showDemoRoute\\\"></app-routetest>\\r\\n-->\\r\\n\\r\\n\\r\\n<app-editablemap #mapComp\\r\\n  [applicationMode]=\\\"currentAppMode\\\"\\r\\n  [currentFloor]=\\\"currentFloor\\\"\\r\\n  [poiTypes]=\\\"poiTypes\\\"\\r\\n  [currentPoiType]=\\\"currentPoiType\\\"\\r\\n  [beaconEditMode]=\\\"beaconEditMode\\\"\\r\\n  [setBeaconSignals]=\\\"beaconSignals\\\">\\r\\n</app-editablemap>\\r\\n<app-floorselector (currentFloorEvt)=\\\"floorChanged($event)\\\"></app-floorselector>\\r\\n<app-modeselector (currentAppModeEvt)=\\\"appModeChanged($event)\\\"></app-modeselector>\\r\\n<app-poiselector (currentSelectedPoiEvt)=\\\"currentPoiTypeChanged($event)\\\"\\r\\n                  (poiTypeReceivedEvt)=\\\"PoiTypesReceived($event)\\\"\\r\\n                  *ngIf=\\\"showPoiSelector\\\"></app-poiselector>\\r\\n<app-beaconmodeselector (currentSelectedModeEvt)=\\\"beaconEditModeChanged($event)\\\"\\r\\n                  *ngIf=\\\"showBeaconEditModeSelector\\\"></app-beaconmodeselector>\\r\\n<app-beaconconnector (updateSignalsEvent)=\\\"beaconSignalsChanged($event)\\\">\\r\\n  </app-beaconconnector>\\r\\n<!--\\r\\n<md-toolbar class = \\\"header-toolbar\\\">\\r\\n  <span>Medcampus</span>\\r\\n\\r\\n  <span class=\\\"app-toolbar-filler\\\"></span>\\r\\n\\r\\n  <app-roomsearchmd></app-roomsearchmd>\\r\\n\\r\\n</md-toolbar>\\r\\n-->\\r\\n<!--\\r\\n<md-toolbar>\\r\\n  TestToolbar\\r\\n</md-toolbar>\\r\\n\\r\\n\\r\\n\\r\\n<md-card>\\r\\n  <p>Last dialog result: {{lastDialogResult}}</p>\\r\\n  <button md-icon-button (click)=\\\"openDialog()\\\">\\r\\n     <md-icon>navigation</md-icon>\\r\\n  </button>\\r\\n</md-card>\\r\\n-->\\r\\n\"\n\n/***/ },\n\n/***/ 883:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"positionindicator\\\" *ngIf=\\\"isActive\\\" >\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 0\\\" ><md-icon>location_disabled</md-icon></button>\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 1\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>location_searching</md-icon></button>\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 2\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>gps_fixed</md-icon></button>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 884:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"dialogDiv\\\">\\n  <input type=\\\"hidden\\\" tabindex=\\\"0\\\" autofocus/>\\n\\n  <div>\\n    <h2>\\n      Beacon\\n    </h2>\\n    <input class=\\\"idInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Id...\\\" mdInput [formControl]=\\\"macInputVal\\\" readonly>\\n\\n    <input class=\\\"nameInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Name...\\\" mdInput [formControl]=\\\"nameInputVal\\\" readonly>\\n\\n    <input class=\\\"batteryOutput\\\" autocomplete=\\\"off\\\" placeholder=\\\"battery...\\\" mdInput [formControl]=\\\"batteryOutputVal\\\" readonly>\\n\\n  </div>\\n\\n  <div class='navigateDiv'>\\n    <button class='ScanButton' (click)=\\\"scan()\\\" md-button>\\n      <span>Scan...</span>\\n    </button>\\n  </div>\\n\\n  <table class=\\\"controlButtonTable\\\">\\n    <tr>\\n      <td>\\n        <button class='NavigateButton' (click)=\\\"closeDialog()\\\" md-button>\\n          <span>Cancel</span>\\n        </button>\\n      </td>\\n      <td >\\n        <div class='ControlButtonSpacer'>\\n        </div>\\n      </td>\\n      <td>\\n        <button class='NavigateButton' (click)=\\\"save()\\\" [disabled]=\\\"okButtonDisabled\\\" md-button>\\n          <span>Ok</span>\\n        </button>\\n      </td>\\n    </tr>\\n  </table>\\n\\n  <button class='closeDialogButton' (click)=\\\"closeDialog()\\\" md-button>\\n    <md-icon>close</md-icon>\\n  </button>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 885:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"modecontrol\\\" *ngIf=\\\"showControl\\\">\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"modecontrolmenubutton\\\">\\n     <span class=\\\"modecontrolmenutext\\\">{{selectedMode.name}}</span>\\n  </button>\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\n    <button md-menu-item *ngFor=\\\"let mode of modes\\\" (click)=\\\"onSelect(mode)\\\" class=\\\"modecontrolmenubutton\\\">\\n      <span class=\\\"modecontrolmenutext\\\">{{mode.name}}</span>\\n    </button>\\n  </md-menu>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 886:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div id=\\\"map\\\" class=\\\"map\\\">\\n\\n  <div #beaconPopups>\\n    <div *ngFor=\\\"let overlay of beaconOverlays\\\">\\n      <div  class=\\\"beacon-ol-popup\\\">\\n        <div class=\\\"beacon-popup-content\\\"><span class=\\\"beacon-popup-content-span\\\"></span></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n<!--\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">-->\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\n<!--    <div id=\\\"popup-content\\\">Hi!..........</div>\\n</div> -->\\n\"\n\n/***/ },\n\n/***/ 887:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"floorselector\\\" *ngIf=\\\"selectedFloor\\\">\\r\\n\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menufloors\\\" class=\\\"floormenu\\\">\\r\\n     <md-icon class=\\\"floormenuIcon\\\">layers</md-icon><span>{{selectedFloor.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menufloors=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let floor of floorList\\\" (click)=\\\"onSelect(floor)\\\" class=\\\"floormenutext\\\">{{floor.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 888:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"modeselector\\\">\\n  <!--\\n  <md-button-toggle-group #group=\\\"mdButtonToggleGroup\\\" (change)=\\\"modechanged()\\\">\\n    <table>\\n      <tr *ngFor=\\\"let mode of modes\\\">\\n        <td>\\n          <md-button-toggle (change)=\\\"modechanged(mode)\\\">\\n            {{mode.name}}\\n          </md-button-toggle>\\n        </td>\\n      </tr>\\n  </table>\\n</md-button-toggle-group>\\n-->\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuApplicationmodes\\\" class=\\\"modemenu\\\">\\n     <md-icon>more_vert</md-icon><span>{{currentAppMode.name}}</span>\\n  </button>\\n  <md-menu #menuApplicationmodes=\\\"mdMenu\\\">\\n       <button md-menu-item  *ngFor=\\\"let mode of modes\\\" (click)=\\\"modechanged(mode)\\\">{{mode.name}}</button>\\n  </md-menu>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 889:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"poicontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n     <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{selectedPoiType.iconurl}}\\\" alt=\\\"{{selectedPoiType.name}}\\\"><span class=\\\"poicontrolmenutext\\\">{{selectedPoiType.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let poi of pois\\\" (click)=\\\"onSelect(poi)\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n      <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{poi.iconurl}}\\\" alt=\\\"{{poi.name}}\\\">\\r\\n      <span class=\\\"poicontrolmenutext\\\">{{poi.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 890:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\n<div class=\\\"roomsearch\\\">\\n  <input #searchBox id=\\\"search-box\\\" (keyup)=\\\"search(searchBox.value)\\\"\\n    placeholder=\\\"Suche Raum...\\\" [(ngModel)] = \\\"currentSearchTerm\\\" />\\n  <div>\\n    <div *ngFor=\\\"let room of rooms | async\\\"\\n         (click)=\\\"selectRoom(room)\\\" class=\\\"search-result\\\" >\\n      {{room.name}}\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 891:\n/***/ function(module, exports) {\n\nmodule.exports = \"\\n<table>\\n  <tr>\\n    <td>\\n      <i class=\\\"material-icons app-input-icon\\\">search</i>\\n    </td>\\n    <td>\\n      <md-input-container>\\n        <input type=\\\"text\\\" mdInput [formControl]=\\\"term\\\" [mdAutocomplete]=\\\"auto\\\">\\n      </md-input-container>\\n    </td>\\n  </tr>\\n</table>\\n\\n<md-autocomplete #auto=\\\"mdAutocomplete\\\">\\n   <md-option *ngFor=\\\"let room of rooms\\\" [value]=\\\"room.name\\\" (click)=\\\"selectRoom(room)\\\">\\n      {{ room.name }}\\n   </md-option>\\n</md-autocomplete>\\n\\n\\n<!--\\n<i class=\\\"material-icons app-input-icon\\\">search</i>\\n\\n<md-input-container>\\n  <input mdInput #searchBox  placeholder=\\\"Raumsuche\\\" class=\\\"placeholder-white\\\" floatingPlaceholder=true [formControl]=\\\"term\\\">\\n</md-input-container>\\n\\n<div [hidden]=\\\"!showsuggestions\\\">\\n  <div [hidden]=\\\"true\\\">\\n    <button md-raised-button [mdMenuTriggerFor]=\\\"menusearch\\\" class=\\\"floormenu\\\">\\n    </button>\\n  </div>\\n\\n  <md-menu #menusearch=\\\"mdMenu\\\" [hidden]=\\\"!showsuggestions\\\">\\n       <button md-menu-item *ngFor=\\\"let room of rooms\\\" (click)=\\\"selectRoom(room)\\\">{{room.name}}</button>\\n  </md-menu>\\n</div>\\n-->\\n\\n\\n<!--\\n<div class=\\\"suggestions\\\" *ngIf=\\\"rooms.length > 0\\\">\\n    <ul>\\n        <li *ngFor=\\\"let room of rooms\\\">\\n            <a (click)=\\\"selectRoom(room)\\\">{{room.name}}</a>\\n        </li>\\n    </ul>\\n</div>\\n-->\\n\"\n\n/***/ },\n\n/***/ 892:\n/***/ function(module, exports) {\n\nmodule.exports = \"<div class=\\\"routetest\\\">\\n  <button md-raised-button (click)=\\\"toogleroute()\\\" class=\\\"routetestbutton\\\">\\n     <md-icon>directions</md-icon><span></span>\\n  </button>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 893:\n/***/ function(module, exports) {\n\nmodule.exports = \"<!--<p>\\n  testmap works!\\n</p>-->\\n<div id=\\\"map\\\" class=\\\"map\\\">\\n</div>\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\n    <div id=\\\"popup-content\\\">Hi!..........</div>\\n</div>\\n\"\n\n/***/ }\n\n},[1153]);\n\n\n// WEBPACK FOOTER //\n// main.61c12fdfb25500bcbda3.bundle.js","\r\nexport class Floor {\r\n  id: number;\r\n  name: string;\r\n  building: number;\r\n\r\n  constructor(obj: any) {\r\n    //console.log(\"Create new floor: \" + JSON.stringify(obj));\r\n    this.id = obj[\"id\"];\r\n    this.name = obj[\"name\"];\r\n    this.building = obj[\"building\"];\r\n  }\r\n\r\n  public static getDefaultFloor(): Floor {\r\n    return new Floor({\r\n      \"id\": -1,\r\n      \"name\": \"EG\",\r\n      \"building\": 1\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/floor.ts","export enum BeaconEditModeT {\r\n  DEFAULT,\r\n  ADD,\r\n  MOVE\r\n}\r\n\r\nexport class BeaconEditMode {\r\n\r\n  constructor(\r\n    public mode: BeaconEditModeT,\r\n    public name: string\r\n  )\r\n  { }\r\n\r\n  static CreateDefault(): BeaconEditMode {\r\n    //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n    return new BeaconEditMode(BeaconEditModeT.DEFAULT, \"Select\");\r\n  }\r\n\r\n}\r\n\r\nexport const BeaconEditModes = [\r\n  BeaconEditMode.CreateDefault(),\r\n  new BeaconEditMode(BeaconEditModeT.ADD, \"Add\"),\r\n  new BeaconEditMode(BeaconEditModeT.MOVE, \"Move\")//,\r\n  //new ApplicationMode(ApplicationModeT.EDIT_BACKGROUND, \"Hintergrund\")\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/beaconeditmode.ts","export const USEHTTPSERVICE = true;\r\n\r\nexport const MODIFY_EDGE_MINSTARTPOINT_DISTANCE = 1.0;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/globalconstants.ts","export class PoiType {\r\n  id: number;\r\n  name: string;\r\n  selected: boolean;\r\n  iconurl: string;\r\n\r\n  constructor(obj: any) {\r\n    this.id = obj[\"id\"];\r\n    this.name = obj[\"name\"];\r\n    this.selected = obj[\"selected\"];\r\n    this.iconurl = obj[\"icon\"];\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/poitype.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl }       from '@angular/forms';\nimport { Subject }           from 'rxjs/Subject';\nimport { MdDialogRef } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { Subscription } from \"rxjs\";\nimport { Signal } from '../base/signal';\n\n@Component({\n  selector: 'app-beacondialog',\n  templateUrl: './beacondialog.component.html',\n  styleUrls: ['./beacondialog.component.css']\n})\nexport class BeacondialogComponent implements OnInit {\n\n  private macInputVal = new FormControl();\n  private nameInputVal = new FormControl();\n  private batteryOutputVal = new FormControl();\n\n  constructor(public dialogRef: MdDialogRef<BeacondialogComponent>) { }\n\n  public mac: string = \"\";\n  public name: string = \"\";\n\n  public okButtonDisabled: boolean = true;\n\n  public nearestSignal: Signal = undefined;\n\n  ngOnInit() {\n    this.macInputVal.valueChanges\n      .debounceTime(400).subscribe(term => this.updateOkButtonEnabled());\n\n    this.nameInputVal.valueChanges\n      .debounceTime(400).subscribe(term => this.updateOkButtonEnabled());\n  }\n\n  scan() {\n    console.log(\"BeacondialogComponent::scan()\");\n    if (this.nearestSignal && this.nearestSignal.value > -80) {\n      this.macInputVal.setValue(this.nearestSignal.mac);\n      this.nameInputVal.setValue(this.nearestSignal.name);\n      this.batteryOutputVal.setValue(this.nearestSignal.battery + \"%\");\n    }\n    else {\n      this.macInputVal.setValue(\"\");\n      this.nameInputVal.setValue(\"\");\n    }\n  }\n\n  closeDialog() {\n    console.log(\"BeacondialogComponent::closeDialog()\");\n    this.dialogRef.close('Closed...')\n  }\n\n  save() {\n    console.log(\"BeacondialogComponent::save()\");\n    this.mac = this.macInputVal.value;\n    this.name = this.nameInputVal.value;\n    this.dialogRef.close('Save')\n  }\n\n  setMacAndName(mac: string, name: string) {\n    this.mac = mac;\n    this.name = name;\n    this.macInputVal.setValue(this.mac);\n    this.nameInputVal.setValue(this.name);\n  }\n\n  setNearestSignal(val: Signal) {\n    console.log(\"BeacondialogComponent::setNearestSignal() \" + + JSON.stringify(val));\n    this.nearestSignal = val;\n  }\n\n  updateOkButtonEnabled() {\n    this.okButtonDisabled = this.nameInputVal.value.length <= 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beacondialog/beacondialog.component.ts","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\nimport { Injectable } from '@angular/core';\nimport {HostListener} from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\nimport { MODIFY_EDGE_MINSTARTPOINT_DISTANCE } from '../base/globalconstants';\nimport { ApplicationMode } from '../base/applicationmode';\nimport { ApplicationModeT } from '../base/applicationmode';\n\nimport { RouteMap } from \"./routemap\"\nimport { RoomMap } from \"./roommap\"\nimport { NavigationMap } from \"./navigationedges\"\n\ndeclare var ol: any;\n\n//https://openlayers.org/en/latest/examples/icon.html\n//https://openlayers.org/en/latest/examples/vector-layer.html\n//http://openlayers.org/en/v3.4.0/examples/popup.html\n//https://scotch.io/tutorials/routing-angular-2-single-page-apps-with-the-component-router\n\n//https://github.com/angular/angular-cli\n\n//https://github.com/angular/material2/blob/master/docs/theming.md\n\n\n@Component({\n  selector: 'app-testmap',\n  templateUrl: './testmap.component.html',\n  styleUrls: ['./testmap.component.css']\n})\n@Injectable()\nexport class TestmapComponent implements OnInit, AfterViewInit {\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  private _applicationMode: ApplicationMode = ApplicationMode.CreateDefault();\n\n  testString = 'Hi';\n  //ol: any;\n  map: any;\n  poiLayer: any;\n  baseMapLayer: any;\n\n  baseMapVectorSource: any; //ol.source.Vector;\n\n  routemap: RouteMap;\n  roommap: RoomMap;\n  navigationmap: NavigationMap;\n\n  roomOverlay: any;\n  roomPopup: any;\n\n  select: any;\n  modify: any;\n\n  //content = document.getElementById('popup-content');\n  //closer = document.getElementById('popup-closer');\n  ngAfterViewInit(): void {\n    console.log(\"INIT!!!\");\n\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.testString += '.................';\n\n    this.loadPOIs();\n    this.loadBaseMap();\n    this.createOverlay();\n\n    this.select = new ol.interaction.Select({\n      wrapX: false,\n      /*\n      layers: function(layer) {\n          return false;\n          //return this.allowOLSelection(layer);\n        }*/\n      layers: (layer => this.allowOLSelection(layer))\n    });\n\n    this.routemap = new RouteMap();\n    this.routemap.Initialize();\n\n    this.navigationmap = new NavigationMap(this.mapService);\n    this.navigationmap.Initialize(this.select);\n\n    this.roommap = new RoomMap();\n    this.roommap.Initialize(this.navigationmap);\n\n    this.modify = new ol.interaction.Modify({\n      features: this.select.getFeatures(),\n      condition: (evt => this.allowOLModify(evt))\n    });\n\n    let extent = [0, 0, 51200, 25600];\n    let projection = new ol.proj.Projection({\n      code: 'static-image',\n      units: 'pixels',\n      imageExtent: extent\n    });\n\n    this.map = new ol.Map({\n      controls: ol.control.defaults({\n        attributionOptions: ({\n          collapsible: true,\n        }),\n        zoom: false\n      }),\n      interactions: ol.interaction.defaults().extend([this.select, this.modify]),\n      //controls: [],\n      layers: [\n        new ol.layer.Tile({\n          source: new ol.source.OSM()\n        }),\n        this.poiLayer,\n        this.baseMapLayer,\n        this.routemap.getRouteLayer(),\n        this.routemap.getHiddenRouteLayer(),\n        this.roommap.getRoomLayer(),\n        this.navigationmap.getEdgeLayer(),\n        this.navigationmap.getEdgePathLayer()\n      ],\n      overlays: [this.roomOverlay],\n      target: 'map',\n      view: new ol.View({\n        projection: 'EPSG:900913',\n        center: ol.proj.fromLonLat([15.47, 47.0805]),\n        //center: ol.extent.getCenter(extent),\n        zoom: 18,\n        maxZoom: 22,\n        minZoom: 1//16\n      })\n    });\n\n    this.map.on('click', evt => this.mapClicked(evt));\n    this.map.on('pointermove', evt => this.mapMouseMoved(evt));\n\n    //this.mapService.getRoomMap(0).then(rooms => this.showRooms(rooms));\n    //this.mapService.getRoomMap(0).subscribe(rooms => this.showRooms(rooms));\n    //this.mapService.getNavigationEdges(0).subscribe(edges => this.showNavigationEdges(edges));\n\n    this.select.on('select', evt => this.selectionChanged(evt));\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  @Input()\n  set applicationMode(applicationMode: ApplicationMode) {\n    if (this.select) {\n      //console.log(\"Clear selection...\" + this.select.getFeatures().getArray().length);\n      let selected_collection = this.select.getFeatures();\n\n      if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES &&\n        selected_collection.getArray().length > 0) {\n        this.navigationmap.updateEdges(selected_collection.getArray());\n      }\n\n      selected_collection.clear();\n    }\n    if (this.roommap) {\n      this.roommap.Clear();\n    }\n\n    this._applicationMode = applicationMode;\n\n    console.log(\"TestmapComponent::Set applicationMode - New App Mode: \" + this._applicationMode.name);\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  keyboardInput(event: KeyboardEvent) {\n    console.log(\"KEYDOWN: \" + event.keyCode);\n\n    if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES && event.keyCode == 46) //Entf Key\n    {\n      console.log(\"KEYDOWN - Delete Edge \" + event.keyCode + \"#\" + this.select.getFeatures().getArray().length);\n      this.navigationmap.deleteSelectedEdge();\n      let selected_collection = this.select.getFeatures();\n      selected_collection.clear();\n    }\n\n  }\n\n  allowOLSelection(layer: any): boolean {\n    //layer.set('dummy', 'xxxsaef');\n    //console.log(\"allowOLSelection...\" + JSON.stringify(layer.get('dummy')));\n    //console.log(\"allowOLSelection... isSelectable ...\" + JSON.stringify(layer.get('isSelectable')));\n\n    if (layer.get('isSelectable') && this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES) {\n      return true;\n    }\n    return false;\n  }\n\n  selectionChanged(evt: any): void {\n\n    let selectedFeatures = evt.selected;\n    let deselectedFeatures = evt.deselected;\n\n    //console.log(\"Selection changed:  newFeatures: \" + selectedFeatures.length +\n    //  \"  unselectedFeatures: \" + deselectedFeatures.length +\n    //  \"  mode: \" + this._applicationMode.name);\n\n    if (deselectedFeatures.length > 0) {\n      this.navigationmap.updateEdges(deselectedFeatures);\n    }\n  }\n\n  allowOLModify(evt: any) {\n    if (this._applicationMode.mode == /*ApplicationModeT.EDIT_PATHS*/ ApplicationModeT.EDIT_NODES) {\n      let selectedFeatures = this.select.getFeatures().getArray();\n\n      //console.log(\"allowOLModify: Length: \" + selectedFeatures.length);\n\n      if (selectedFeatures.length > 0) {\n        for (let feature of selectedFeatures) {\n          let geometry = feature.getGeometry();\n          let startPoint = geometry.getFirstCoordinate();\n          let endPoint = geometry.getLastCoordinate();\n\n          //console.log(\"allowOLModify: \" + JSON.stringify(evt.coordinate) +\n          //  \"::\" + JSON.stringify(startPoint) +\n          //  \"::\" + JSON.stringify(endPoint) +\n          //  \"d1:\" + this.getDistance(startPoint, evt.coordinate) +\n          //  \"d2:\" + this.getDistance(endPoint, evt.coordinate)\n          //);\n\n          if (this.getDistance(startPoint, evt.coordinate) < MODIFY_EDGE_MINSTARTPOINT_DISTANCE ||\n            this.getDistance(endPoint, evt.coordinate) < MODIFY_EDGE_MINSTARTPOINT_DISTANCE) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  private getDistance(p1: number[], p2: number[]): number {\n    let xdiff = p2[0] - p1[0];\n    let ydiff = p2[1] - p1[1];\n    return Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n  }\n\n  private loadPOIs(): void {\n    let iconFeature = new ol.Feature({\n      geometry: new ol.geom.Point(ol.proj.fromLonLat([15.470230579376215, 47.0812626175388])),\n      name: 'Test Point',\n      description: 'dummy description'\n    });\n\n    let iconStyle = new ol.style.Style({\n      image: new ol.style.Icon(/** @type {olx.style.IconOptions} */({\n        anchor: [0.5, 1],\n        anchorXUnits: 'fraction',\n        anchorYUnits: 'fraction',\n        src: 'assets/testicon.png'\n      }))\n    });\n    iconFeature.setStyle(iconStyle);\n\n    let vectorSource = new ol.source.Vector({\n      features: [iconFeature]\n    });\n\n    this.poiLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n  }\n\n  loadBaseMap(): void {\n\n    let geojsonObject = {\n      'type': 'FeatureCollection',\n      'crs': {\n        'type': 'name',\n        'properties': {\n          'name': 'EPSG:3857'\n        }\n      },\n      'features': [{\n        'type': 'Feature',\n        'geometry': {\n          'type': 'Polygon',\n          'coordinates': [[\n            [1722183.8736183767, 5955368.127460353],\n            [1722202.0871290227, 5955358.871413959],\n            [1722195.2197397628, 5955345.435217581]\n          ]]\n        }\n      }]\n    };\n\n    this.baseMapVectorSource = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    let styleFunction = function(feature) {\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 1\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255,0,0,0.1)'\n        })\n      })\n    };\n\n    this.baseMapLayer = new ol.layer.Vector({\n      source: this.baseMapVectorSource,\n      style: styleFunction\n    });\n\n    //this.heroService.getHeroesSlowly().then(heroes => this.heroesList = heroes);\n    this.mapService.getBaseMap(0).then(basemap => this.updateBaseMap(basemap));\n  }\n\n\n\n  updateBaseMap(baseMap): void {\n    this.baseMapVectorSource.clear();\n    this.baseMapVectorSource.addFeatures((new ol.format.GeoJSON()).readFeatures(baseMap));\n  }\n\n  createOverlay(): void {\n    this.roomPopup = document.getElementById('roomPopup');\n    console.log(this.roomPopup);\n\n    this.roomOverlay = new ol.Overlay(/** @type {olx.OverlayOptions} */({\n      element: this.roomPopup,\n      autoPan: true,\n      autoPanAnimation: {\n        duration: 250\n      }\n    }));\n\n    //this.roomOverlay.setPosition([0, 0]);\n  }\n\n  showRoute(route: Object[]) {\n    //console.log(\"showRoute called\" + this.testString);\n    this.routemap.showRoute(route);\n  }\n\n  hideRoute() {\n    //console.log(\"hideRoute called\");\n    this.routemap.hideRoute();\n  }\n\n  showRooms(rooms: Object) {\n    this.roommap.showRooms(rooms);\n  }\n\n  showNavigationEdges(edges: Object) {\n    this.navigationmap.showEdges(edges);\n  }\n\n  mapMouseMoved(evt): void {\n    if (evt.dragging) {\n      return;\n    }\n    let pixel = this.map.getEventPixel(evt.originalEvent);\n    if (this._applicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.roommap.mouseMoved(pixel, this.map);\n    }\n  }\n\n  mapClicked(evt): void {\n    //console.log(\"mapClicked called\");\n\n    var lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\n    //console.log(\"Coord: \" + lonlat);\n    console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey);\n    console.log(\"Number of selected features: \" + this.select.getFeatures().getArray().length);\n\n    if (this._applicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      if (evt.originalEvent.ctrlKey) {\n        this.roommap.mouseClickedCtrl(evt.coordinate, this.map);\n      }\n      else {\n        this.roommap.mouseClicked(evt.coordinate, this.map);\n      }\n    }\n\n\n    var coordinate = evt.coordinate;\n    //var hdms = ol.coordinate.toStringHDMS(ol.proj.transform(coordinate, 'EPSG:3857', 'EPSG:4326'));\n\n    //this.roomOverlay.setPosition(coordinate);\n\n    /*\n      var feature = this.map.forEachFeatureAtPixel(evt.pixel,\n        function(feature) {\n          return feature;\n        });\n\n\n      if (feature) {\n        var coordinates = feature.getGeometry().getCoordinates();\n        console.log(\"Feature Coord: \" + coordinates);\n      }\n      else {\n        var coordinates = feature.getGeometry().getCoordinates();\n        console.log(\"Map Coord: \" + coordinates);\n      }*/\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/testmap.component.ts","import { Injectable } from '@angular/core';\nimport { BASEMAP } from './mock-basemap02';\nimport { BASEMAP_1 } from './mock-basemap01';\nimport { FLOORS } from './mock-floors';\nimport {ROOMS} from './mock-rooms';\nimport {DEMOROUTE} from './mock-route';\nimport {ROOMS_MAP} from './mock-roomGeoInformation'\nimport {NAVIGATIONEDGES_DEMO} from './mock-navigationedges'\n\nimport {Room} from '../base/room';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class MapService {\n\n  constructor() { }\n\n  getBaseMapIntern(layer: number): Promise<Object> {\n    if (layer == 1) {\n      return Promise.resolve(BASEMAP);\n    }\n    return Promise.resolve(BASEMAP_1);\n  }\n\n  getBaseMap(layer: number): Promise<Object> {\n    return new Promise<Object>(resolve =>\n      setTimeout(resolve, 200)) // delay 2 seconds\n      .then(() => this.getBaseMapIntern(layer));\n  }\n\n  getFloorNames(): Observable<Floor[]> {\n    return Observable.of(FLOORS);\n  }\n\n  getRooms(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getDoors(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getFloors(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getNavigationEdges(layer: number): Observable<Object> {\n    return this.getNavigationEdgesIntern(layer);\n  }\n\n  getNavigationEdgesIntern(layer: number): Observable<Object> {\n    return Observable.of(NAVIGATIONEDGES_DEMO);\n  }\n\n  getRoute(sourceNodeId: number, destinationNodeId: number): Observable<Object> {\n    console.log(\"Get Route Local!\");\n    return Observable.of(DEMOROUTE);\n  }\n\n  getPoiTypes(): Observable<PoiType[]> {\n    return null;\n  }\n\n  getPoiInstances(layer: number): Observable<Object> {\n    return null;\n  }\n\n  getBeacons(layer: number): Observable<Object> {\n    return null;\n  }\n\n\n  searchRoom(term: string): Observable<Room[]> {\n    //https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\n    var rooms: Room[] = [];\n    //console.log('searchRoom...');\n\n    if (term.length == 0) {\n      return Observable.of(rooms);\n    }\n\n    for (var i = 0; i < ROOMS.length; i++) {\n      if (ROOMS[i].name.startsWith(term)) {\n        rooms.push(ROOMS[i]);\n      }\n    }\n\n    return Observable.of(rooms);\n  }\n\n  getNavigationNodes(layer: number): Observable<Object> {\n    return Observable.of({\n      'geojson': {\n        'type': 'FeatureCollection',\n        'crs': {\n          'type': 'name',\n          'properties': {\n            'name': 'EPSG:3857'\n          }\n        },\n        'features': [{\n          'type': 'Feature',\n          'geometry': {\n            'type': 'LineString',\n            'coordinates': [\n            ]\r\n          }\r\n        }]\n      }\n    });\n  }\n\n  addNode(floor: number, center: any): Observable<Object> {\n    return null;\n  }\n\n  addEdge(source: number, destination: number, length: number, path: any): Observable<Object> {\n    return null;\n  }\n\n  addPoiInstance(floor: number, center: any, poitypeid: number): Observable<Object> {\n    return null;\n  }\n\n  addBeacon(floor: number, center: any, name: string): Observable<Object> {\n    return null;\n  }\n\n  deleteNode(id: number): Observable<Object> {\n    return null;\n  }\n\n  deleteEdge(id: number): Observable<Object> {\n    return null;\n  }\n\n  deletePoi(id: number): Observable<Object> {\n    return null;\n  }\n\n  deleteBeacon(id: number): Observable<Object> {\n    return null;\n  }\n\n  updateNode(node: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updateEdge(edge: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updatePoi(node: any, id: number): Observable<Object> {\n    return null;\n  }\n\n  updateBeacon(beacon: any, id: number): Observable<Object> {\n    return null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/map.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 529;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 529\n// module chunks = 0","import { Observable } from 'rxjs';\r\nimport {Subscription} from \"rxjs\";\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapLayerBase {\r\n  protected layer: any;\r\n  protected layerSource: any;\r\n\r\n  protected subscription: Subscription = null;\r\n\r\n  protected isActive = false;\r\n\r\n  public getLayer(): any {\r\n    return this.layer;\r\n  }\r\n\r\n  public setActive(active: boolean) {\r\n    this.layer.setVisible(active);\r\n\r\n    if (!active) {\r\n      this.clearSelection();\r\n    }\r\n\r\n    this.isActive = active;\r\n  }\r\n\r\n  public clear() {\r\n    this.clearSelection();\r\n    this.layerSource.clear();\r\n  }\r\n\r\n  public clearSelection() {\r\n    //overwrite in subclass...\r\n  }\r\n\r\n  public subscribeNewRequest(sub: Subscription) {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = null;\r\n    }\r\n    this.subscription = sub;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapLayerBase.ts","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","declare var ol: any;\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nexport class OpenlayersHelper {\r\n\r\n  public static CurrentApplicationMode: ApplicationMode = ApplicationMode.CreateDefault();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public static CreateBasicLayer(style: any): any {\r\n    let geojsonObject = {\r\n      'type': 'FeatureCollection',\r\n      'crs': {\r\n        'type': 'name',\r\n        'properties': {\r\n          'name': 'EPSG:3857'\r\n        }\r\n      },\r\n      'features': []\r\n    };\r\n\r\n    //console.log('Create layer source!');\r\n    let layerSource = new ol.source.Vector({\r\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\r\n    });\r\n\r\n    let layer = new ol.layer.Vector({\r\n      source: layerSource,\r\n      style: style\r\n    });\r\n\r\n    return {\r\n      layer: layer,\r\n      layerSource: layerSource\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/openlayershelper.ts","import { Injectable } from '@angular/core';\n\nimport { Http, Response } from '@angular/http';\nimport { Headers, RequestOptions, RequestMethod, RequestOptionsArgs } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\n\nimport { MapService } from '../mapservice/map.service';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\n\n@Injectable()\nexport class MapHttpService extends MapService {\n\n  private baseUrl = '/v1';\n  private roomUrl = this.baseUrl + '/geo/rooms/';  // URL to web API\n  private edgeUrl = this.baseUrl + '/geo/edges/';\n  private floorUrl = this.baseUrl + '/geo/floors/';\n  private nodeUrl = this.baseUrl + '/geo/nodes/';\n  private doorUrl = this.baseUrl + '/geo/doors/';\n  private levelUrl = this.baseUrl + '/geo/level/';\n  private routeUrl = this.baseUrl + '/geo/routing/edges/';\n  private poiTypeUrl = this.baseUrl + '/geo/pointofinterest/';\n  private poiInstanceUrl = this.baseUrl + '/geo/pointofinterestinstance/';\n  private beaconUrl = this.baseUrl + '/positioning/beacons/';\n\n  constructor(private http: Http) {\n    super();\n  }\n\n  getRooms(layer: number): Observable<Object> {\n    return this.http.get(this.roomUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getNavigationEdges(layer: number): Observable<Object> {\n    return this.http.get(this.edgeUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getNavigationNodes(layer: number): Observable<Object> {\n    return this.http.get(this.nodeUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getFloorNames(): Observable<Floor[]> {\n    return this.http.get(this.levelUrl)\n      .map(this.extractDataFloors)\n      .catch(this.handleError);\n  }\n\n  getDoors(layer: number): Observable<Object> {\n    //return this.http.get(this.roomUrl + '?floor=' + layer)\n    return this.http.get(this.doorUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getFloors(layer: number): Observable<Object> {\n    //return this.http.get(this.roomUrl + '?floor=' + layer)\n    return this.http.get(this.floorUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getRoute(sourceNodeId: number, destinationNodeId: number): Observable<Object> {\n    console.log(\"Get Route HTTP!\");\n    return this.http.get(this.routeUrl + '?from=' + sourceNodeId + '&to=' + destinationNodeId)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getPoiTypes(): Observable<PoiType[]> {\n    return this.http.get(this.poiTypeUrl)\n      .map(this.extractDataPoiTypes)\n      .catch(this.handleError);\n  }\n\n  getPoiInstances(layer: number): Observable<Object> {\n    return this.http.get(this.poiInstanceUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  getBeacons(layer: number): Observable<Object> {\n    return this.http.get(this.beaconUrl + '?level=' + layer)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  addEdge(source: number, destination: number, length: number, path: any): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"category\": 1,\n      \"source\": source,\n      \"destination\": destination,\n      \"path\": JSON.stringify(path),\n      \"length\": length\n    }\n\n    //console.log(\"Send Edge: \" + JSON.stringify(data));\n\n    return this.http.post(this.edgeUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addNode(floor: number, center: any): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"center\": JSON.stringify(center)\n    }\n\n    console.log(\"Send Node: \" + JSON.stringify(data));\n\n    return this.http.post(this.nodeUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addPoiInstance(floor: number, center: any, poitypeid: number): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"name\": poitypeid,\n      \"center\": JSON.stringify(center)\n    }\n\n    console.log(\"Send PoiInstance: \" + JSON.stringify(data));\n\n    return this.http.post(this.poiInstanceUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  addBeacon(floor: number, center: any, name: string): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    let data = {\n      \"level\": floor,\n      \"name\": name,\n      \"position\": JSON.stringify(center),\n      \"active\": true\n    }\n\n    console.log(\"Send Beacon: \" + JSON.stringify(data));\n\n    return this.http.post(this.beaconUrl, data, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  deleteNode(id: number): Observable<Object> {\n    let headers = new Headers({});\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.nodeUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deleteEdge(id: number): Observable<Object> {\n\n    let headers = new Headers({});\n\n    let options = new RequestOptions({\r\n      headers: headers,\n    });\n\n    return this.http.delete(this.edgeUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deletePoi(id: number): Observable<Object> {\n    let headers = new Headers({});\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.poiInstanceUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  deleteBeacon(id: number): Observable<Object> {\n    let headers = new Headers({});\n\n    let options = new RequestOptions({\n      headers: headers,\n    });\n\n    return this.http.delete(this.beaconUrl + id + \"/\", options)\n      .map(response => this.extractDataDel(response, id))\n      .catch(this.handleError);\n  }\n\n  updateEdge(edge: any, id: number): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Edge: \" + id + \"::\" + JSON.stringify(edge));\n\n    return this.http.put(this.edgeUrl + id + \"/\", edge, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updateNode(node: any, id: number): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Node: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.nodeUrl + id + \"/\", node, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updatePoi(node: any, id: number): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.poiInstanceUrl + id + \"/\", node, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n  updateBeacon(beacon: any, id: number): Observable<Object> {\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers });\n\n    //console.log(\"Update Poi: \" + id + \"::\" + JSON.stringify(node));\n\n    return this.http.put(this.beaconUrl + id + \"/\", beacon, options)\n      .map(this.extractDataAdd)\n      .catch(this.handleError);\n  }\n\n\n  private extractData(res: Response) {\n    //console.log(\"RESPONSE DATA...\");\n    let body = res.json();\n\n    //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\n\n    if (body.results) {\n      return body.results || {};\n    }\n    return body || {};\n  }\n\n  private extractDataAdd(res: Response) {\n    let body = res.json();\n\n    //console.log(\"RESPONSE DATA: \" + JSON.stringify(body));\n\n    return body || {};\n  }\n\n  private extractDataDel(res: Response, id: number) {\n    //console.log(\"RESPONSE DATA org: \" + JSON.stringify(res));\n    return { id: id };\n  }\n\n  private extractDataFloors(res: Response) {\n    let body = res.json();\n    if (body.results) {\n      body = body.results;\n    }\n    console.log(\"RESPONSE DATA FLOORS: \" + JSON.stringify(body));\n    let floors: Floor[] = [];\n    for (let obj of body) {\n      floors.push(new Floor(obj));\n    }\n    return floors;\n  }\n\n  private extractDataPoiTypes(res: Response) {\n    let body = res.json();\n    if (body.results) {\n      body = body.results;\n    }\n    console.log(\"RESPONSE DATA POITYPES: \" + JSON.stringify(body));\n    let poitypes: PoiType[] = [];\n    for (let obj of body) {\n      poitypes.push(new PoiType(obj));\n    }\n    return poitypes;\n  }\n\n  private handleError(error: Response | any) {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(\"handleError: \" + errMsg);\n    return Observable.throw(errMsg);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservicehttp/mapservicehttp.service.ts","import { Component, Optional, OnInit } from '@angular/core';\nimport {MdDialog, MdDialogRef} from '@angular/material';\n\nimport { ApplicationMode, ApplicationModeT } from './base/applicationmode';\nimport { Floor } from './base/floor';\nimport { PoiType } from './base/poitype';\nimport { BeaconEditMode, BeaconEditModes } from './base/beaconeditmode';\nimport {Signal} from './base/signal';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  lastDialogResult: string;\n\n  currentAppMode: ApplicationMode = ApplicationMode.CreateDefault();\n  currentFloor: Floor = Floor.getDefaultFloor();\n  currentPoiType: PoiType = null;\n  poiTypes: PoiType[] = null;\n  beaconEditMode: BeaconEditMode = null;\n  beaconSignals: Signal[] = null;\n\n  showPoiSelector: boolean = false;\n  showBeaconEditModeSelector: boolean = false;\n\n  constructor(private _dialog: MdDialog) {\n  }\n\n  ngOnInit(): void {\n    /*\n    angular.module('myApp', ['ngMaterial'])\n      .config(function($mdThemingProvider) {\n        $mdThemingProvider.theme('altTheme')\n          .primaryPalette('purple') // specify primary color, all\n        // other color intentions will be inherited\n        // from default\n      });*/\n  }\n\n\n  openDialog() {\n    let dialogRef = this._dialog.open(DialogContent);\n\n    dialogRef.afterClosed().subscribe(result => {\n      this.lastDialogResult = result;\n    })\n  }\n\n  sayHi(): void {\n    console.info(\"Hi\");\n  }\n\n  appModeChanged(mode: ApplicationMode): void {\n    console.log(\"AppComponent --- appModeChanged: \" + mode.name);\n    this.currentAppMode = mode;\n\n    this.showPoiSelector = (this.currentAppMode.mode == ApplicationModeT.EDIT_POIS);\n    this.showBeaconEditModeSelector = (this.currentAppMode.mode == ApplicationModeT.EDIT_BEACONS);\n  }\n\n  floorChanged(floor: Floor): void {\n    if (floor) {\n      console.log(\"AppComponent --- floorChanged: \" + floor.name);\n      this.currentFloor = floor;\n    }\n  }\n\n  currentPoiTypeChanged(poiType: PoiType) {\n    if (poiType) {\n      console.log(\"AppComponent --- currentPoiType: \" + poiType.name);\n      this.currentPoiType = poiType;\n    }\n  }\n\n  PoiTypesReceived(poiTypes: PoiType[]) {\n    if (poiTypes) {\n      console.log(\"AppComponent --- PoiTypesReceived: \" + poiTypes.length);\n      this.poiTypes = poiTypes;\n    }\n  }\n\n  beaconEditModeChanged(mode: BeaconEditMode) {\n    if (mode) {\n      console.log(\"AppComponent --- BeaconEditMode: \" + mode.name);\n      this.beaconEditMode = mode;\n    }\n  }\n\n  beaconSignalsChanged(signal: Signal[]) {\n    if (signal) {\n      //console.log(\"AppComponent --- beaconSignalsChanged: \" + JSON.stringify(signal));\n      this.beaconSignals = signal;\n    }\n  }\n}\n\n@Component({\n  template: `\n    <p>This is a dialog</p>\n    <p>\n      <label>\n        This is a text box inside of a dialog.\n        <input #dialogInput>\n      </label>\n    </p>\n    <p> <button md-button (click)=\"dialogRef.close(dialogInput.value)\">CLOSE</button> </p>\n  `,\n})\nexport class DialogContent {\n  constructor( @Optional() public dialogRef: MdDialogRef<DialogContent>) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MaterialModule } from '@angular/material';\n\nimport { MapService } from './mapservice/map.service';\nimport { MapHttpService } from './mapservicehttp/mapservicehttp.service';\nimport { MapcontrollerserviceService } from './mapcontrollerservice/mapcontrollerservice.service'\n\nimport { AppComponent, DialogContent } from './app.component';\nimport { TestmapComponent } from './testmap/testmap.component';\nimport { RoomsearchComponent } from './roomsearch/roomsearch.component';\nimport { FloorselectorComponent } from './floorselector/floorselector.component';\nimport { RoomsearchmdComponent } from './roomsearchmd/roomsearchmd.component';\nimport { RoutetestComponent } from './routetest/routetest.component';\nimport { ModeselectorComponent } from './modeselector/modeselector.component';\nimport { EditablemapComponent } from './editablemap/editablemap.component';\nimport { PoiselectorComponent } from './poiselector/poiselector.component';\nimport { BeaconmodeselectorComponent } from './beaconmodeselector/beaconmodeselector.component';\nimport { BeacondialogComponent } from './beacondialog/beacondialog.component';\nimport { BeaconconnectorComponent } from './beaconconnector/beaconconnector.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DialogContent,\n    TestmapComponent,\n    RoomsearchComponent,\n    FloorselectorComponent,\n    RoomsearchmdComponent,\n    RoutetestComponent,\n    ModeselectorComponent,\n    EditablemapComponent,\n    PoiselectorComponent,\n    BeaconmodeselectorComponent,\n    BeacondialogComponent,\n    BeaconconnectorComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    ReactiveFormsModule,\n    MaterialModule.forRoot()\n  ],\n  providers: [MapService, MapcontrollerserviceService, MapHttpService],\n  entryComponents: [DialogContent, BeacondialogComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Point {\n  x: number;\n  y: number;\n\n  constructor() {\n    this.x = 0;\n    this.y = 0;\n  }\n\n  public createFromAr(ar: number[]) {\n    this.x = ar[0];\n    this.y = ar[1];\n  }\n\n  public getAr() {\n    return [this.x, this.y];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/point.ts","export class Signal {\r\n  mac: string;\r\n  value: number;\r\n  name: string;\r\n  battery: number;\r\n  origSignal: number;\r\n\r\n  constructor(mac: string, value: number, name: string, battery: number, origSignal: number) {\r\n    this.mac = mac;\r\n    this.value = value;\r\n    this.name = name;\r\n    this.battery = battery;\r\n    this.origSignal = origSignal;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/signal.ts","import { Component, OnInit, EventEmitter, NgZone, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport {Subscription} from \"rxjs\";\nimport {TimerObservable} from \"rxjs/observable/TimerObservable\";\n\nimport {SignalBuffer} from './signalbuffer';\nimport {SignalBufferCollection} from './signalbuffercollection';\nimport {Signal} from '../base/signal';\n\nenum PositionStatus {\n  InActive = 0,\n  Paused = 1,\n  Active = 2\n}\n\nconst demoMode: boolean = false;\n\ndeclare var appInterfaceObject: any;\n\n\n@Component({\n  selector: 'app-beaconconnector',\n  templateUrl: './beaconconnector.component.html',\n  styleUrls: ['./beaconconnector.component.css']\n})\nexport class BeaconconnectorComponent implements OnInit {\n\n  @Output() updateSignalsEvent = new EventEmitter<Signal[]>();\n\n  private isActive: boolean = demoMode;\n  private positionStatus: PositionStatus = PositionStatus.InActive;\n  private checkTimerSubscription: Subscription;\n  private posUpdateTimerSubscription: Subscription;\n\n  private positioningStarted: boolean = false;\n\n  private signalBufferCollection: SignalBufferCollection = new SignalBufferCollection();\n\n  constructor(private zone: NgZone) {\n    window[\"angularComponentRef\"] = {\n      zone: this.zone,\n      componentFn: (value) => this.signalDataChanged(value),\n      component: this\n    };\n  }\n\n  ngOnInit() {\n    let hasAppInterface = appInterfaceObject.testapp();\n    //hasAppInterface = true;\n\n    if (hasAppInterface) {\n      this.isActive = true;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.startCheckTimer();\n  }\n\n  scanButtonClickedPosition() {\n    console.log(\"BeaconconnectorComponent::scanButtonClickedPosition()\");\n    this.positioningStarted = !this.positioningStarted;\n    this.updatePositionStatus();\n\n    if (this.positioningStarted) {\n      this.startScan();\n    }\n    else {\n      this.stopScan();\n    }\n  }\n\n  signalDataChanged(value: string) {\n    if (this.positionStatus == PositionStatus.Active) {\n      //console.log(\"BeaconconnectorComponent::signalDataChanged() - \" + JSON.stringify(value));\n      this.signalBufferCollection.addValues(value);\n    }\n  }\n\n  public startScan() {\n    this.signalBufferCollection.clear();\n    this.signalBufferCollection.start();\n    this.startPosUpdateTimer();\n    appInterfaceObject.start();\n    if (demoMode) {\n      appInterfaceObject.demo();\n    }\n  }\n\n  public stopScan() {\n    this.stopPosUpdateTimer();\n    appInterfaceObject.stop();\n    this.signalBufferCollection.clear();\n    this.updateSignalsEvent.emit([]);\n  }\n\n  /**********************************************************\n  POSTION UPDATE\n  **********************************************************/\n\n  private startPosUpdateTimer() {\n    //console.log(\"BeaconconnectorComponent::startPosUpdateTimer()\");\n\n    if (this.posUpdateTimerSubscription != null) {\n      this.stopPosUpdateTimer();\n    }\n\n    let timer = TimerObservable.create(1000);\n    this.posUpdateTimerSubscription = timer.subscribe(t => {\n      this.posUpdateEvent();\n    });\n  }\n\n  private stopPosUpdateTimer() {\n    //console.log(\"BeaconconnectorComponent::stopPosUpdateTimer()\");\n    if (this.posUpdateTimerSubscription != null) {\n      this.posUpdateTimerSubscription.unsubscribe();\n      this.posUpdateTimerSubscription = null;\n    }\n  }\n\n  private posUpdateEvent() {\n    //console.log(\"BeaconconnectorComponent::posUpdateEvent()\");\n\n    let signals = this.signalBufferCollection.getAllSignals();\n    this.updateSignalsEvent.emit(signals);\n\n    //LOG POSITION DATA\n    //appInterfaceObject.log(\"\" + new Date().getTime() + \";\" + nearestBeacon + \";\" + this.signalBufferCollection.getJSONString());\n\n    this.stopPosUpdateTimer();\n    if (this.isActive) {\n      this.startPosUpdateTimer();\n    }\n  }\n\n  /**********************************************************\n  CHECK STATUS\n  **********************************************************/\n\n  private startCheckTimer() {\n    //console.log(\"PositionComponent::startCheckTimer()\");\n\n    if (this.checkTimerSubscription != null) {\n      this.stopCheckTimer();\n    }\n\n    let timer = TimerObservable.create(2500);\n    this.checkTimerSubscription = timer.subscribe(t => {\n      this.checkTimerEvent();\n    });\n  }\n\n  private stopCheckTimer() {\n    //console.log(\"PositionComponent::stopCheckTimer()\");\n    if (this.checkTimerSubscription != null) {\n      this.checkTimerSubscription.unsubscribe();\n      this.checkTimerSubscription = null;\n    }\n  }\n\n  private checkTimerEvent() {\n    //console.log(\"PositionComponent::checkTimerEvent()\");\n    this.updatePositionStatus();\n\n    this.stopCheckTimer();\n    if (this.isActive) {\n      this.startCheckTimer();\n    }\n  }\n\n  private updatePositionStatus() {\n    //console.log(\"PositionComponent::updatePositionStatus()\" + appInterfaceObject.check());\n\n    if (appInterfaceObject.check() != 0 && !demoMode) {\n      this.positionStatus = PositionStatus.InActive;\n    }\n    else {\n      if (this.positioningStarted) {\n        this.positionStatus = PositionStatus.Active;\n      }\n      else {\n        this.positionStatus = PositionStatus.Paused;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/beaconconnector.component.ts","\r\n\r\nexport class SignalBuffer {\r\n  id: string;\r\n  lastValue: number;\r\n  lastOrigValue: number;\r\n  lastValueTimeStamp: number;\r\n\r\n  name: string;\r\n  battery: number;\r\n  mac: string;\r\n\r\n  private filterValue = 0.5;\r\n  private minValue = -90;\r\n\r\n  constructor(id) {\r\n    this.id = id;\r\n    this.clear();\r\n  }\r\n\r\n  public setValue(mac, value, name, battery) {\r\n\r\n    if (!value) {\r\n      this.clear();\r\n      //value = this.minValue;\r\n    }\r\n\r\n    this.lastOrigValue = value;\r\n\r\n    if (value > 0) //error code -> Reset Timer and use old value\r\n    {\r\n      let milliseconds = new Date().getTime();\r\n      this.lastValueTimeStamp = milliseconds;\r\n    }\r\n    else {\r\n      let filteredValue = (1 - this.filterValue) * this.lastValue + this.filterValue * value;\r\n      this.lastValue = filteredValue;\r\n\r\n      if (this.lastValue < this.minValue) {\r\n        this.lastValue = this.minValue;\r\n      }\r\n\r\n      let milliseconds = new Date().getTime();\r\n      this.lastValueTimeStamp = milliseconds;\r\n      this.name = name;\r\n      this.mac = mac;\r\n      this.battery = battery;\r\n    }\r\n\r\n    //console.log(\"SignalBuffer::setValue Set value: \" + this.lastValue + \"/\" + this.lastValueTimeStamp);\r\n  }\r\n\r\n  public checkClearValue() {\r\n    let milliseconds = new Date().getTime();\r\n    if (!this.lastValue || !this.lastValueTimeStamp) {\r\n      return true;\r\n    }\r\n    if (milliseconds - this.lastValueTimeStamp > 1000) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private clear() {\r\n    this.lastValue = this.minValue;\r\n    this.lastValueTimeStamp = undefined;\r\n  }\r\n} \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/signalbuffer.ts","import { SignalBuffer } from './signalbuffer';\r\nimport { Observable } from 'rxjs';\r\nimport { Subscription } from \"rxjs\";\r\nimport { TimerObservable } from \"rxjs/observable/TimerObservable\";\r\n\r\nimport {Signal} from '../base/signal';\r\n\r\nexport interface ISignalMap {\r\n  [id: string]: SignalBuffer;\r\n}\r\n\r\nexport class SignalBufferCollection {\r\n\r\n  private map: ISignalMap = {};\r\n\r\n  private clearTimerSubscription: Subscription;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public clear() {\r\n    this.map = {};\r\n    this.stopClearTimer();\r\n  }\r\n\r\n  public start() {\r\n    this.startClearTimer();\r\n  }\r\n\r\n  public addValues(valuestring: any) {\r\n    if (valuestring) {\r\n      let data = JSON.parse(valuestring);\r\n\r\n      for (let signal of data) {\r\n        //console.log('set signal: ' + JSON.stringify(signal));\r\n        this.addValue(signal[\"ID\"], signal[\"Value\"], signal[\"Name\"], signal[\"Batterie\"]);\r\n      }\r\n    }\r\n  }\r\n\r\n  public getNearestBeacon(): string {\r\n    //console.log(\"SignalBufferCollection::getNearestBeacon() - \" + JSON.stringify(this.map));\r\n\r\n    let bestValue = -9999;\r\n    let bestID: string = undefined;\r\n\r\n    for (let key in this.map) {\r\n\r\n      let value = this.map[key].lastValue;\r\n\r\n      if (value) {\r\n        if (value > bestValue) {\r\n          bestValue = value;\r\n          bestID = key;\r\n        }\r\n      }\r\n    }\r\n\r\n    return bestID;\r\n  }\r\n\r\n  public getAllSignals(): Signal[] {\r\n    let signals: Signal[] = [];\r\n\r\n    for (let key in this.map) {\r\n      let value = this.map[key].lastValue;\r\n      if (value) {\r\n        signals.push(new Signal(this.map[key].mac, value, this.map[key].name, this.map[key].battery, this.map[key].lastOrigValue));\r\n      }\r\n    }\r\n\r\n    return signals;\r\n  }\r\n\r\n\r\n  public getJSONString(): string {\r\n    return JSON.stringify(this.map);\r\n  }\r\n\r\n  public getURLString(): string {\r\n\r\n    let urlString = \"\";\r\n    let index = 0;\r\n\r\n    for (let key in this.map) {\r\n\r\n      let value = this.map[key].lastValue;\r\n\r\n      if (index > 0) {\r\n        urlString += \"&\";\r\n      }\r\n      urlString += 'name[' + key + ']=' + value;\r\n\r\n      index++;\r\n    }\r\n\r\n    return urlString;\r\n  }\r\n\r\n  private addValue(mac: string, value: number, name: string, battery: number) {\r\n    if (!this.map[name]) {\r\n      this.map[name] = new SignalBuffer(name);\r\n    }\r\n\r\n    this.map[name].setValue(mac, value, name, battery);\r\n  }\r\n\r\n  private startClearTimer() {\r\n    //console.log(\"SignalBufferCollection::startClearTimer()\");\r\n\r\n    if (this.clearTimerSubscription != null) {\r\n      this.stopClearTimer();\r\n    }\r\n\r\n    let timer = TimerObservable.create(666);\r\n    this.clearTimerSubscription = timer.subscribe(t => {\r\n      this.clearTimerEvent();\r\n    });\r\n  }\r\n\r\n  private stopClearTimer() {\r\n    //console.log(\"SignalBufferCollection::stopClearTimer()\");\r\n    if (this.clearTimerSubscription != null) {\r\n      this.clearTimerSubscription.unsubscribe();\r\n      this.clearTimerSubscription = null;\r\n    }\r\n  }\r\n\r\n  private clearTimerEvent() {\r\n    //console.log(\"SignalBufferCollection::clearTimerEvent() - \" + JSON.stringify(this.map));\r\n\r\n    let keysToDelete: string[] = [];\r\n\r\n    for (let key in this.map) {\r\n      if (this.map[key].checkClearValue()) {\r\n        //console.log(\"SignalBufferCollection::clearTimerEvent() - Clear Signal: \" + key);\r\n        keysToDelete.push(key);\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < keysToDelete.length; i++) {\r\n      delete this.map[keysToDelete[i]];\r\n    }\r\n\r\n    this.startClearTimer();\r\n    //console.log(\"SignalBufferCollection::clearTimerEvent() - END: \" + JSON.stringify(this.map));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconconnector/signalbuffercollection.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { BeaconEditMode, BeaconEditModes } from '../base/beaconeditmode';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\n@Component({\n  selector: 'app-beaconmodeselector',\n  templateUrl: './beaconmodeselector.component.html',\n  styleUrls: ['./beaconmodeselector.component.css']\n})\nexport class BeaconmodeselectorComponent implements OnInit {\n\n  modes: BeaconEditMode[] = BeaconEditModes;\n  showControl: boolean = true;\n  selectedMode: BeaconEditMode = BeaconEditMode.CreateDefault();\n\n  @Output() currentSelectedModeEvt = new EventEmitter<BeaconEditMode>();\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n  }\n\n  onSelect(mode: BeaconEditMode): void {\n    this.selectMode(mode);\n  }\n\n  private selectMode(mode: BeaconEditMode) {\n    this.selectedMode = mode;\n    this.currentSelectedModeEvt.emit(this.selectedMode);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/beaconmodeselector/beaconmodeselector.component.ts","import { Component, OnInit } from '@angular/core';\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\nimport { Injectable } from '@angular/core';\nimport { HostListener } from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\nimport { MODIFY_EDGE_MINSTARTPOINT_DISTANCE } from '../base/globalconstants';\nimport { ApplicationMode } from '../base/applicationmode';\nimport { ApplicationModeT } from '../base/applicationmode';\nimport { Floor } from '../base/floor';\nimport { PoiType } from '../base/poitype';\nimport { BeaconEditMode, BeaconEditModes } from '../base/beaconeditmode';\nimport { Signal } from '../base/signal';\n\nimport { MapLayerBase } from './mapLayerBase';\nimport { MapNodes } from './mapNodes';\nimport { MapDoors } from './mapDoors';\nimport { MapRoom } from './mapRoom';\nimport { MapFloor } from './mapFloor';\nimport { MapEdges } from './mapEdges';\nimport { MapEditEdges } from './mapEditEdges';\nimport { MapRoute } from './mapRoute';\nimport { MapPois } from './mappois';\nimport { MapBeacons } from './mapbeacons';\nimport { OpenlayersHelper } from './openlayershelper';\n\nimport {MdDialog, MdDialogRef} from '@angular/material';\nimport {BeacondialogComponent} from '../beacondialog/beacondialog.component'\n\ndeclare var ol: any;\n\nconst maxNumberOfBeaconOverlays: number = 100;\n\n@Component({\n  selector: 'app-editablemap',\n  templateUrl: './editablemap.component.html',\n  styleUrls: ['./editablemap.component.css']\n})\nexport class EditablemapComponent implements OnInit {\n\n  //private _applicationMode: ApplicationMode = ApplicationMode.CreateDefault();\n\n  @ViewChild('beaconPopups') public beaconPopUps: ElementRef;\n\n  public beaconOverlays: number[] = null;\n\n  constructor(private dialog: MdDialog,\n    private mapServiceHttp: MapHttpService,\n    private mapService: MapService) {\n    this.beaconOverlays = new Array(maxNumberOfBeaconOverlays);\n    for (let i = 0; i < maxNumberOfBeaconOverlays; i++) {\n      this.beaconOverlays[i] = i;\n    }\n  }\n\n  private map: any;\n  private baseMapLayer: any;\n  private baseMapVectorSource: any;\n\n  private mapNodes: MapNodes = null;\n  private mapDoors: MapDoors = null;\n  private mapRooms: MapRoom = null;\n  private mapFloor: MapFloor = null;\n  private mapEdges: MapEdges = null;\n  private mapEditEdges: MapEditEdges = null;\n  private mapRoute: MapRoute = null;\n  private mapPois: MapPois = null;\n  private mapBeacons: MapBeacons = null;\n\n  private ctlPressed: boolean = false;\n\n\n\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(): void {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.mapFloor = new MapFloor(this.mapService);\n    this.mapDoors = new MapDoors(this.mapService);\n    this.mapRooms = new MapRoom(this.mapService);\n    this.mapEdges = new MapEdges(this.mapService);\n    this.mapEditEdges = new MapEditEdges(this.mapService);\n    this.mapRoute = new MapRoute(this.mapService);\n    this.mapNodes = new MapNodes(this.mapService, this.mapEditEdges, this.mapEdges, this.mapRoute);\n    this.mapPois = new MapPois(this.mapService);\n    this.mapBeacons = new MapBeacons(this.dialog, this.mapService, this.beaconPopUps, this);\n\n    this.map = new ol.Map({\n      controls: ol.control.defaults({\n        attributionOptions: ({\n          collapsible: true,\n        }),\n        zoom: false\n      }),\n      //interactions: ol.interaction.defaults().extend([this.select, this.modify]),\n      //controls: [],\n      layers: [\n        new ol.layer.Tile({\n          source: new ol.source.OSM()\n        }),\n        this.mapFloor.getLayer(),\n        this.mapRooms.getLayer(),\n        this.mapDoors.getLayer(),\n        this.mapNodes.getLayer(),\n        this.mapBeacons.getLayer(),\n        this.mapEditEdges.getLayer(),\n        this.mapEdges.getLayer(),\n        this.mapRoute.getLayer(),\n        this.mapPois.getLayer()\n      ],\n      overlays: [],\n      target: 'map',\n      view: new ol.View({\n        projection: 'EPSG:900913',\n        center: ol.proj.fromLonLat([15.47, 47.0805]),\n        //center: ol.extent.getCenter(extent),\n        zoom: 18,\n        maxZoom: 24,\n        minZoom: 1//16\n      })\n    });\n\n    this.mapNodes.extendMap(this.map);\n\n    this.map.on('click', evt => this.mapClicked(evt));\n    this.map.on('pointermove', evt => this.mapMouseMoved(evt));\n    this.updateLayers();\n  }\n\n  @Input()\n  set applicationMode(applicationMode: ApplicationMode) {\n    OpenlayersHelper.CurrentApplicationMode = applicationMode;\n    console.log(\"EditAbleMapComponent::Set applicationMode - New App Mode: \" + OpenlayersHelper.CurrentApplicationMode.name);\n    this.updateLayers();\n  }\n\n  @Input()\n  set currentFloor(currentFloor: Floor) {\n    console.log(\"EditAbleMapComponent::Set currentFloor - New Floor: \" + JSON.stringify(currentFloor));\n    if (currentFloor && currentFloor.id >= 0) {\n      this.mapFloor.updateData(currentFloor.id);\n      this.mapRooms.updateData(currentFloor.id);\n      this.mapDoors.updateData(currentFloor.id);\n      this.mapEdges.updateData(currentFloor.id);\n      this.mapNodes.updateData(currentFloor.id);\n      this.mapRoute.setCurrentFloor(currentFloor.id);\n      this.mapBeacons.updateData(currentFloor.id);\n      this.mapPois.setCurrentFloor(currentFloor.id);\n      this.mapPois.updateData(currentFloor.id);\n    }\n  }\n\n  @Input()\n  set currentPoiType(poitype: PoiType) {\n    if (poitype) {\n      console.log(\"EditAbleMapComponent::Set currentPoiType: \" + JSON.stringify(poitype));\n      this.mapPois.setCurrentSelectedPoiType(poitype);\n    }\n  }\n\n  @Input()\n  set poiTypes(poitypes: PoiType[]) {\n    if (poitypes) {\n      console.log(\"EditAbleMapComponent::Set poiTypes: \" + JSON.stringify(poitypes));\n      this.mapPois.setPoiTypes(poitypes);\n    }\n  }\n\n  @Input()\n  set beaconEditMode(mode: BeaconEditMode) {\n    if (mode) {\n      this.mapBeacons.setBeaconEditMode(mode);\n    }\n  }\n\n  @Input()\n  set setBeaconSignals(signals: Signal[]) {\n    if (signals) {\n      this.mapBeacons.setBeaconSignals(signals);\n    }\n  }\n\n\n  @HostListener('window:keydown', ['$event'])\n  keyboardInput(event: KeyboardEvent) {\n    //console.log(\"KEYDOWN: \" + event.keyCode);\n\n    if (event.keyCode == 17 && !this.ctlPressed) {\n      this.ctlPressed = true;\n      this.mapNodes.ctlPressed();\n    }\n\n    if (event.keyCode == 16) {\n      this.mapRoute.shiftPressed();\n    }\n  }\n\n  /*\n    @HostListener('window:keypress', ['$event'])\n    keyboardKeyPress(event: KeyboardEvent) {\n      console.log(\"KEYPRESS: \" + event.keyCode);\n    }*/\n\n  @HostListener('window:keyup', ['$event'])\n  keyboardKeyUp(event: KeyboardEvent) {\n    //console.log(\"KEYUP: \" + event.keyCode);\n\n    if (event.keyCode == 17) {\n      this.ctlPressed = false;\n      this.mapNodes.ctlReleased();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES && event.keyCode == 46) //Entf Key\n    {\n      this.mapNodes.deleteSelectedNodes();\n      this.mapEdges.deleteSelectedEdges();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS && event.keyCode == 46) //Entf Key\n    {\n      this.mapPois.deleteSelectedPoi();\n    }\n\n    if (event.keyCode == 16) {\n      this.mapRoute.shiftReleased();\n    }\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES && event.keyCode == 88) { //x Key\n      this.mapRoute.clear();\n    }\n  }\n\n  public addOverlay(overlay: any) {\n    this.map.addOverlay(overlay);\n  }\n\n  mapMouseMoved(evt): void {\n    //if (evt.dragging) {\n    //  return;\n    //}\n    let pixel = this.map.getEventPixel(evt.originalEvent);\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.mapNodes.mouseMoved(pixel, evt.coordinate, this.map);\n    }\n  }\n\n  mapClicked(evt): void {\n    //console.log(\"mapClicked called\");\n\n    //let lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');\n    //console.log(\"Coord: \" + lonlat);\n    console.log(\"Coord Org: \" + evt.coordinate + \" strg: \" + evt.originalEvent.ctrlKey + \" shift: \" + evt.originalEvent.shiftKey);\n    let pixel = this.map.getEventPixel(evt.originalEvent);\n\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.mapNodes.mouseClicked(evt.coordinate, this.map);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS) {\n      this.mapPois.mouseClicked(evt.coordinate, pixel, evt.originalEvent.ctrlKey, evt.originalEvent.shiftKey, this.map);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_BEACONS) {\n      this.mapBeacons.mouseClicked(evt.coordinate, pixel, this.map);\n    }\n  }\n\n  private updateLayers() {\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      this.setLayerActive(this.mapEdges, true);\r\n      this.setLayerActive(this.mapEditEdges, true);\r\n      this.setLayerActive(this.mapNodes, true);\r\n      this.setLayerActive(this.mapRoute, true);\r\n\r\n      this.setLayerActive(this.mapPois, false);\r\n\r\n      this.setLayerActive(this.mapBeacons, false);\r\n    }\r\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_POIS) {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, true);\n\n      this.setLayerActive(this.mapBeacons, false);\n    }\n    else if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_BEACONS) {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, false);\n\n      this.setLayerActive(this.mapBeacons, true);\n    }\n    else {\n      this.setLayerActive(this.mapEdges, false);\n      this.setLayerActive(this.mapEditEdges, false);\n      this.setLayerActive(this.mapNodes, false);\n      this.setLayerActive(this.mapRoute, false);\n\n      this.setLayerActive(this.mapPois, false);\n\n      this.setLayerActive(this.mapBeacons, false);\n    }\n  }\n\n  private setLayerActive(layer: MapLayerBase, active: boolean) {\n    if (layer) {\n      layer.setActive(active);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/editablemap.component.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapDoors extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(212, 209, 203,1.0)'\r\n      })\r\n    }));\r\n    res.layer.set('maxResolution', 0.2);\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorId: number) {\r\n    console.log(\"MapDoors::showFloor - \" + floorId);\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyDoors()));\r\n\r\n    //TODO: fr AlLE!\r\n    //Observable\r\n\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getDoors(floorId).subscribe(\r\n        doors => this.showDoors(doors),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  private showDoors(features: any) {\r\n    console.log(\"MapDoors::showDoors\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private getDummyDoors(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [\r\n                [1722150.9832473625, 5955259.831606609],\r\n                [1722152.513480839, 5955262.780105258],\r\n                [1722153.8944232445, 5955262.406877581],\r\n                [1722152.924031284, 5955260.727353034],\r\n                [1722150.9832473625, 5955259.831606609]\r\n              ]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapDoors.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapNodesStyles } from './mapNodesStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapEdges extends MapLayerBase {\r\n  private highlightedFeature: any = null;\r\n  private highlightFeatureOverlay: any = null;\r\n\r\n  private selectFeature: any = null;\r\n  private selectFeatureOverlay: any = null;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      stroke: new ol.style.Stroke({\r\n        color: 'black',\r\n        width: 4,\r\n        lineDash: [4, 8]\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorId: number): any {\r\n    this.subscribeNewRequest(\r\n      this.mapService.getNavigationEdges(floorId).subscribe(\r\n        edges => this.showEdges(edges),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  public getHighlightedEdgeId(): any {\r\n    if (this.highlightedFeature) {\r\n      return this.highlightedFeature.getId();\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getEdgeForId(id: number): any {\r\n    return this.layerSource.getFeatureById(id);\r\n  }\r\n\r\n  public updateMouseMoved(position: any, map: any, allowHighlight: boolean) {\r\n    if (this.highlightFeatureOverlay === null) {\r\n      this.initHighlightFeatureOverlay(map);\r\n    }\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n\r\n    if (allowHighlight) {\r\n      feature = map.forEachFeatureAtPixel(position, function(feature) {\r\n        return feature;\r\n      }, options);\r\n    }\r\n\r\n    if (feature !== this.highlightedFeature) {\r\n      if (this.highlightedFeature) {\r\n        this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\r\n      }\r\n      if (feature) {\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\r\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\r\n        this.highlightFeatureOverlay.getSource().addFeature(feature);\r\n      }\r\n      this.highlightedFeature = feature;\r\n    }\r\n  }\r\n\r\n  public updateMouseClicked(map: any) {\r\n    //console.log(\"mapEdges::updateMouseClicked...\")\r\n    if (this.highlightedFeature) {\r\n      if (!this.selectFeatureOverlay) {\r\n        this.initSelectFeatureOverlay(map);\r\n      }\r\n\r\n      this.selectFeatureOverlay.getSource().clear();\r\n      this.selectFeature = this.highlightedFeature;\r\n      this.selectFeatureOverlay.getSource().addFeature(this.selectFeature);\r\n      console.log(\"mapEdges::updateMouseClicked Select Edge: \" + this.selectFeature.getId());\r\n    }\r\n    else {\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  public clearSelection() {\r\n    if (this.selectFeatureOverlay) {\r\n      console.log(\"mapEdges::clearSelection...\")\r\n      this.selectFeatureOverlay.getSource().clear();\r\n    }\r\n  }\r\n\r\n  public deleteSelectedEdges() {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    if (this.selectFeature)\r\n      this.mapService.deleteEdge(this.selectFeature.getId()).subscribe(\r\n        edge => this.edgeDeleted(edge),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  public deleteEdgeById(id: number) {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    this.mapService.deleteEdge(id).subscribe(\r\n      edge => this.edgeDeleted(edge),\r\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\r\n  }\r\n\r\n  public addNewEdge(start, end) {\r\n    console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\r\n\r\n    if (!start || !end) {\r\n      return;\r\n    }\r\n\r\n    let sourceId = start.getId();\r\n    let destinationId = end.getId();\r\n    if (sourceId == destinationId) {\r\n      return;\r\n    }\r\n\r\n    let p1 = start.getGeometry().getCoordinates();\r\n    let p2 = end.getGeometry().getCoordinates();\r\n    let line = new ol.geom.LineString([p1, p2]);\r\n    let distance = line.getLength();\r\n\r\n    let path = {\r\n      'type': 'LineString',\r\n      'coordinates': [\r\n        p1,\r\n        p2\r\n      ]\r\n    }\r\n\r\n    this.mapService.addEdge(sourceId, destinationId, distance, path).\r\n      subscribe(\r\n      edge => this.edgeAdded(edge),\r\n      error => console.log(\"ERROR: \" + <any>error));\r\n  }\r\n\r\n  public getEdgesForNode(nodeId: number): any[] {\r\n    return this.layerSource.getFeatures().filter(\r\n      feature => feature.get(\"source\") == nodeId || feature.get(\"destination\") == nodeId\r\n    )\r\n  }\r\n\r\n  public removeEdgesForNode(nodeId: number) {\r\n    console.log(\"MapEdges::removeEdgesForNode - \" + nodeId);\r\n    let edges = this.getEdgesForNode(nodeId);\r\n    for (let edge of edges) {\r\n      this.layerSource.removeFeature(edge);\r\n    }\r\n  }\r\n\r\n  private edgeDeleted(edge: any): void {\r\n    let feature = this.layerSource.getFeatureById(edge.id);\r\n    if (feature) {\r\n      this.layerSource.removeFeature(feature);\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  private edgeAdded(edge: any): void {\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n    this.highlightFeatureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'red',\r\n          width: 4\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  private initSelectFeatureOverlay(map: any) {\r\n    console.log(\"mapEdges::initSelectFeatureOverlay...\")\r\n    this.selectFeatureOverlay = new ol.layer.Vector({\r\n      source: new ol.source.Vector(),\r\n      map: map,\r\n      style: new ol.style.Style({\r\n        stroke: new ol.style.Stroke({\r\n          color: 'rgba(0,190,255,0.8)',\r\n          width: 6\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private showEdges(features: any): void {\r\n    console.log(\"MapEdges::showEdges\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapEdges.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\nimport { Point } from '../base/point'\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapNodesStyles } from './mapNodesStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapEditEdges extends MapLayerBase {\r\n\r\n  private multiLineFeature: any;\r\n  private multiLineString: any;\r\n  private lineAr: any[];\r\n\r\n  private startPositions: Point[] = null;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      stroke: new ol.style.Stroke({\r\n        color: 'gray',\r\n        width: 3\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n\r\n    this.lineAr = [];\r\n    this.multiLineString = new ol.geom.MultiLineString(this.lineAr);\r\n\r\n    this.multiLineFeature = new ol.Feature({\r\n      geometry: this.multiLineString,\r\n      name: 'Lines'\r\n    });\r\n\r\n    this.layerSource.addFeature(this.multiLineFeature);\r\n\r\n    //this.setNewLine([1722194.7183594021, 5955141.12279422], [1722055.5790813519, 5955315.494764996]);\r\n\r\n  }\r\n\r\n  public setNewStartPos(p: number[]) {\r\n    let point = new Point();\r\n    point.createFromAr(p);\r\n    this.startPositions = [point];\r\n  }\r\n\r\n  public setNewStartPositionsForEdgeFeatures(startnodeId: number, edges: any[]) {\r\n    this.startPositions = [];\r\n    for (let edge of edges) {\r\n      let pos = edge.getGeometry().getFirstCoordinate();\r\n      if (edge.get(\"source\") == startnodeId) {\r\n        pos = edge.getGeometry().getLastCoordinate();\r\n      }\r\n\r\n      let p = new Point();\r\n      p.createFromAr(pos);\r\n      this.startPositions.push(p);\r\n    }\r\n  }\r\n\r\n  public setNewEndPos(p: number[]) {\r\n    //console.log(\"MapEditEdges::setNewEndPos - \" + p[0] + \", \" + p[1]);\r\n    if (this.startPositions != null) {\r\n      this.lineAr = [];\r\n      for (let pos of this.startPositions) {\r\n        this.lineAr.push([pos.getAr(), p]);\r\n      }\r\n      this.multiLineString.setCoordinates(this.lineAr);\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    this.startPositions = null;\r\n    this.lineAr = [];\r\n    this.multiLineString.setCoordinates(this.lineAr);\r\n  }\r\n\r\n  public setNewLine(p1: number[], p2: number[]) {\r\n    console.log(\"MapEditEdges::setNewLine - \");\r\n\r\n    this.lineAr = [];\r\n    this.lineAr.push([p1, p2]);\r\n    this.multiLineString.setCoordinates(this.lineAr);\r\n  }\r\n\r\n  public updateEdges(edges: any[], updatedNode: any) {\r\n    let coord = updatedNode.getGeometry().getCoordinates();\r\n\r\n    for (let edge of edges) {\r\n      //console.log(\"Update Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n      let geo = edge.getGeometry().getCoordinates();\r\n      if (edge.get(\"source\") == updatedNode.getId()) {\r\n        geo[0] = coord;\r\n      }\r\n      else {\r\n        geo[geo.length - 1] = coord;\r\n      }\r\n      edge.getGeometry().setCoordinates(geo);\r\n      this.mapService.updateEdge(new ol.format.GeoJSON().writeFeature(edge), edge.getId()).\r\n        subscribe(\r\n        node => this.edgeUpdated(node),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n      //console.log(\"   New Edge: \" + JSON.stringify(new ol.format.GeoJSON().writeFeature(edge)));\r\n    }\r\n  }\r\n\r\n  private edgeUpdated(edge: any) {\r\n    //Nothing todo\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapEditEdges.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapFloor extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(64,64,64,1.0)'\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorid: number) {\r\n\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getFloors(floorid).subscribe(\r\n        buildings => this.showFloors(buildings),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(this.getDummyFloor()));\r\n  }\r\n\r\n  private showFloors(features: any) {\r\n    console.log(\"MapFloors::showFloors\");\r\n    this.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private getDummyFloor(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [\r\n                [1722127.851590177, 5955257.966158812],\r\n                [1722184.2836149659, 5955368.142969113],\r\n                [1722202.4971256119, 5955359.185504861],\r\n                [1722195.33115421, 5955345.450726341],\r\n                [1722198.914139911, 5955343.360651349],\r\n                [1722177.4162257058, 5955302.156315789],\r\n                [1722173.2360757214, 5955303.649226498],\r\n                [1722145.169354398, 5955249.307276702],\r\n                [1722127.851590177, 5955257.966158812]\r\n              ]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapFloor.ts","import { MapService } from '../mapservice/map.service';\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\nimport { ApplicationMode } from '../base/applicationmode';\nimport { ApplicationModeT } from '../base/applicationmode';\n\nimport { MapLayerBase } from './mapLayerBase';\nimport { MapEditEdges } from './mapeditedges';\nimport { MapEdges } from './mapedges';\nimport { MapRoute } from './maproute';\nimport { OpenlayersHelper } from './openlayershelper';\nimport { MapNodesStyles } from './mapNodesStyles';\n\ndeclare var ol: any;\n\nexport class MapNodes extends MapLayerBase {\n  private highlightedFeature: any;\n  private highlightFeatureOverlay: any = null;\n\n  private select: any;\n  private modify: any;\n\n  private displayEditLines: boolean = false;\n  private isModifying: boolean = false;\n  private lastMousePostion: number[] = [0, 0];\n\n  private currentFloorId: number = -1;\n  private ctrlPressed: boolean = false;\n  private lastSelectedNode: any = null;\n\n  constructor(private mapService: MapService,\n    private mapEditEdges: MapEditEdges,\n    private mapEdges: MapEdges,\n    private mapRoute: MapRoute) {\n    super();\n    this.Initialize();\n  }\n\n  private Initialize(): void {\n    let styleFunction = function(feature) {\n      if (feature.get('ctype') == 'node') {\n        return MapNodesStyles.VirtualNodeStyle;\n      }\n      if (feature.get('ctype') == 'point of interest instance') {\n        return MapNodesStyles.PoiNodeStyle;\n      }\n      return MapNodesStyles.DefaultNodeStyle;\n    };\n\n    let res = OpenlayersHelper.CreateBasicLayer(styleFunction);\n    this.layerSource = res.layerSource;\n    this.layer = res.layer;\n  }\n\n  public extendMap(map: any): void {\n    this.select = new ol.interaction.Select({\n      wrapX: false,\n      layers: (layer => this.testSelect(layer)),\n      toggleCondition: ol.events.condition.never\n    });\n\n    map.addInteraction(this.select);\n\n    this.modify = new ol.interaction.Modify({\n      features: this.select.getFeatures(),\n      condition: (evt => this.testModify(evt))\n    });\n\n    map.addInteraction(this.modify);\n\n    this.select.on('select', evt => this.featureSelected(evt));\n    this.modify.on('modifystart', evt => this.featureModifyStart(evt));\n    this.modify.on('modifyend', evt => this.featureModified(evt));\n  }\n\n  public updateData(floorId: number): any {\n    this.currentFloorId = floorId;\n    this.clear();\n    this.subscribeNewRequest(\n      this.mapService.getNavigationNodes(floorId).subscribe(nodes => this.showNodes(nodes)));\n  }\n\n  public mouseMoved(position: any, worldposition: any, map: any) {\n    this.lastMousePostion = worldposition;\n\n    if (this.highlightFeatureOverlay === null) {\n      this.initHighlightFeatureOverlay(map);\n    }\n\n    let options = {\n      layerFilter: (layer => this.testLayer(layer))\n    }\n\n    let feature = map.forEachFeatureAtPixel(position, function(feature) {\n      return feature;\n    }, options);\n\n    if (feature !== this.highlightedFeature) {\n      if (this.highlightedFeature) {\n        this.highlightFeatureOverlay.getSource().removeFeature(this.highlightedFeature);\n      }\n      if (feature) {\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\n        this.highlightFeatureOverlay.getSource().addFeature(feature);\n      }\n      this.highlightedFeature = feature;\n    }\n\n    this.mapEdges.updateMouseMoved(position, map, this.highlightedFeature == null);\n\n    if (this.displayEditLines || this.isModifying) {\n      this.mapEditEdges.setNewEndPos(worldposition);\n    }\n  }\n\n  public mouseClicked(position: any, map: any) {\n    if (this.displayEditLines) {\n\n      let selectedFeature = null;\n      let selectedFeatures = this.select.getFeatures().getArray();\n      if (selectedFeatures.length >= 1) {\n        selectedFeature = selectedFeatures[0];\n      }\n\n      if (this.highlightedFeature) {\n        //Add edge to existing Node\n        this.selectNewNode(this.highlightedFeature);\n        this.addNewEdge(selectedFeature, this.highlightedFeature);\n      }\n      else {\n        this.addNewNodeOnPos(selectedFeature, position);\n      }\n    }\n    else if (this.lastSelectedNode && this.highlightedFeature && this.ctrlPressed) {\n      this.selectNewNode(this.highlightedFeature);\n      this.addNewEdge(this.lastSelectedNode, this.highlightedFeature);\n    }\n    else if (!this.highlightedFeature) {\n      this.mapEdges.updateMouseClicked(map);\n    }\n    else {\n      this.mapEdges.clearSelection();\n    }\n  }\n\n  public ctlPressed() {\n    this.ctrlPressed = true;\n    let selectedFeatures = this.select.getFeatures().getArray();\n    if (selectedFeatures.length >= 1) {\n      this.displayEditLines = true;\n      let coord = selectedFeatures[0].getGeometry().getCoordinates();\n      console.log(\"Set Startpoint: \" + JSON.stringify(coord));\n      this.mapEditEdges.setNewStartPos(coord);\n      this.mapEditEdges.setNewEndPos(this.lastMousePostion);\n    }\n  }\n\n  public ctlReleased() {\n    this.ctrlPressed = false;\n    console.log(\"ctlReleased...\");\n    this.displayEditLines = false;\n    this.mapEditEdges.clear();\n  }\n\n  private updateAddNode(node: any, selectedStartNodeFeature: any,\n    edgeToSplitId: number) {\n    console.log(\"updateAddNode! - \" + JSON.stringify(node));\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(node));\n    let endNode = this.layerSource.getFeatureById(node.id);\n\n    this.selectNewNode(endNode);\n\n    if (selectedStartNodeFeature) {\n      this.addNewEdge(selectedStartNodeFeature, endNode);\n\n      console.log(\"Split Edge?\");\n      if (edgeToSplitId >= 0) {\n        let edgeToSplit = this.mapEdges.getEdgeForId(edgeToSplitId);\n        if (edgeToSplit) {\n          console.log(\"Split Edge: \" + edgeToSplit.getId());\n          let node1 = this.layerSource.getFeatureById(edgeToSplit.get(\"source\"));\n          let node2 = this.layerSource.getFeatureById(edgeToSplit.get(\"destination\"));\n          this.mapEdges.deleteEdgeById(edgeToSplit.getId());\n          if (node1) {\n            this.addNewEdge(node1, endNode);\n          }\n          if (node2) {\n            this.addNewEdge(node2, endNode);\n          }\n        }\n      }\n\n    }\n  }\n\n  private selectNewNode(node: any) {\n    let selectedFeatures = this.select.getFeatures();\n    selectedFeatures.clear();\n    selectedFeatures.push(node);\n    let coord = node.getGeometry().getCoordinates();\n    this.mapEditEdges.setNewStartPos(coord);\n    this.mapEditEdges.setNewEndPos(coord);\n  }\n\n  private addNewEdge(start, end) {\n    //console.log(\"addNewEdge! - \" + JSON.stringify(start.getId()) + \" to \" + end.getId());\n    this.mapEdges.addNewEdge(start, end);\n  }\n\n  public deleteSelectedNodes() {\n    if (!USEHTTPSERVICE) {\n      console.log(\"Offline mode, dont delete edge!\");\n      return;\n    }\n\n    for (let feature of this.select.getFeatures().getArray()) {\n      if (feature.get('ctype') == 'node') {\n        this.mapService.deleteNode(feature.getId()).subscribe(\n          edge => this.nodeDeleted(edge),\n          error => console.log(\"ERROR deleteNode: \" + <any>error));\n      }\n      else {\n        console.log(\"Not allowed to delete feature of type: \" + feature.get('ctype'));\n      }\n    }\n  }\n\n  private nodeDeleted(node: any): void {\n    console.log(\"edgeDeleted...\" + JSON.stringify(node));\n    this.mapEdges.removeEdgesForNode(node.id);\n    let feature = this.layerSource.getFeatureById(node.id);\n    if (feature) {\n      this.layerSource.removeFeature(feature);\n      let selected_collection = this.select.getFeatures();\n      selected_collection.clear();\n    }\n  }\n\n  private testLayer(layer: any) {\n    return this.layer === layer;\n  }\n\n  private testSelect(layer: any) {\n    if (this.testLayer(layer) &&\n      (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES)) {\n      return true;\n    }\n    return false;\n  }\n\n  private testModify(evt: any) {\n    if (OpenlayersHelper.CurrentApplicationMode.mode == ApplicationModeT.EDIT_NODES) {\n      let selectedFeatures = this.select.getFeatures().getArray();\n      if (selectedFeatures.length > 0 && selectedFeatures[0].get('ctype') == 'node') {\n        return true;\n      }\n      return false;\n    }\n    return false;\n  }\n\n  private addNewNodeOnPos(selectedFeature: any, position: number[]) {\n\n    if (this.currentFloorId < 0) {\n      return;\n    }\n\n    //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\n    let center = {\n      \"type\": \"Point\",\n      \"coordinates\": [position[0], position[1]]\n    };\n\n    //console.log(\"mouseClickedCtrl! - OBJ: \" + JSON.stringify(center));\n\n    let highlightedEdgeId = this.mapEdges.getHighlightedEdgeId();\n    console.log(\"mouseClicked Add new node: \" + JSON.stringify(center) +\n      \"   SplitEdgeID: \" + highlightedEdgeId);\n    //Add edge to new Node\n    this.mapService.addNode(this.currentFloorId, center).\n      subscribe(\n      node => this.updateAddNode(node, selectedFeature, highlightedEdgeId),\n      error => console.log(\"ERROR: \" + <any>error));\n  }\n\n  private initHighlightFeatureOverlay(map: any) {\n    this.highlightFeatureOverlay = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      map: map,\n      style: MapNodesStyles.higlightStyle\n    });\n  }\n\n  private showNodes(features: any): void {\n\n    this.clear();\n    //console.log(\"showNodes! - \" + JSON.stringify(features));\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\n  }\n\n  private featureSelected(evt: any) {\n    let features = evt.selected;\n    if (features.length > 0) {\n      console.log(\"Feature selected => \" + features[0].getId());\n      this.lastSelectedNode = features[0];\n      if (this.mapRoute.doShowRoute()) {\n        this.mapRoute.generateRoute(features[0].getId());\n      }\n      this.mapRoute.setNewStartPos(features[0].getId());\n    }\n  }\n\n  private featureModified(evt) {\n    console.log(\"MapNodes::featureModifyEnd...\");\n    this.isModifying = false;\n    this.mapEditEdges.clear();\n    let features = evt.features.getArray();\n    for (let feature of features) {\n      console.log(\"Feature \" + feature.getId() + \" modified!\");\n      this.mapService.updateNode((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\n        subscribe(\n        node => this.nodeUpdated(node),\n        error => console.log(\"ERROR: \" + <any>error));\n\n      let edges = this.mapEdges.getEdgesForNode(feature.getId());\n      this.mapEditEdges.updateEdges(edges, feature);\n    }\n  }\n\n  private featureModifyStart(evt) {\n    console.log(\"MapNodes::featureModifyStart...\");\n    let selFeatures = this.select.getFeatures().getArray();\n    console.log(\"Feature selected: \" + selFeatures.length);\n    if (selFeatures.length >= 1) {\n\n      let edges = this.mapEdges.getEdgesForNode(selFeatures[0].getId());\n      console.log(\"Feature selected: \" + selFeatures[0].getId() + \"  Edges: \" + edges.length);\n      this.mapEditEdges.setNewStartPositionsForEdgeFeatures(selFeatures[0].getId(), edges);\n    }\n\n    this.isModifying = true;\n  }\n\n  private nodeUpdated(node: any) {\n    console.log(\"node Updated! - \" + JSON.stringify(node));\n  }\n\n  public clearSelection() {\n    let selectedFeatures = this.select.getFeatures();\n    selectedFeatures.clear();\n    this.displayEditLines = false;\n    this.isModifying = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapNodes.ts","declare var ol: any;\r\n\r\nexport class MapNodesStyles {\r\n\r\n  private static higlightImage: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 3 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.higlightImage\r\n  })\r\n\r\n\r\n  public static DefaultNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'black', width: 2 })\r\n  });\r\n\r\n  public static DefaultNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.DefaultNodeImage\r\n  })\r\n\r\n\r\n  public static VirtualNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'green', width: 2 })\r\n  });\r\n\r\n  public static VirtualNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.VirtualNodeImage\r\n  })\r\n\r\n  public static PoiNodeImage = new ol.style.Circle({\r\n    radius: 5,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 2 })\r\n  });\r\n\r\n  public static PoiNodeStyle: any = new ol.style.Style({\r\n    image: MapNodesStyles.PoiNodeImage\r\n  })\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapNodesStyles.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { MapLayerBase } from './mapLayerBase';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapRoom extends MapLayerBase {\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n    let res = OpenlayersHelper.CreateBasicLayer(new ol.style.Style({\r\n      /*stroke: new ol.style.Stroke({\r\n        color: 'red',\r\n        width: 0\r\n      }),*/\r\n      fill: new ol.style.Fill({\r\n        color: 'rgba(96,96,255,1)'\r\n      })\r\n    }));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public updateData(floorid: number) {\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getRooms(floorid).subscribe(\r\n        rooms => this.showRooms(rooms),\r\n        error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n  }\r\n\r\n  private showRooms(features: any): void {\r\n    //console.log(\"MapRoom::showRooms\");\r\n    this.clear();\r\n\r\n    let olFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n    this.layerSource.addFeatures(olFeatures);\r\n  }\r\n\r\n  private getDummyRoom(): any {\r\n    return {\r\n      \"type\": \"FeatureCollection\",\r\n      \"features\": [\r\n        {\r\n          'type': 'Feature', \"id\": 12, 'geometry': {\r\n            \"type\": \"Polygon\",\r\n            \"coordinates\": [\r\n              [[1722195.294385298, 5955266.126823761], [1722204.811691066, 5955261.3495094925],\r\n                [1722202.1244517902, 5955255.975030941], [1722192.6071460224, 5955260.90163628],\r\n                [1722195.294385298, 5955266.126823761]]\r\n            ]\r\n          },\r\n          \"properties\": {\r\n          }\r\n        }]\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRoom.ts","import { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\nimport { Point } from '../base/point'\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapRouteStyles } from './mapRouteStyles';\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapRoute extends MapLayerBase {\r\n\r\n  private currentStartNodeId: number = -1;\r\n  private currentFloorId: number = -1;\r\n  private createRoute: boolean = false;\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    let styleFunction = function(feature, currentFloor) {\r\n      let style: any = null;\r\n      try {\r\n        let source = feature.get(\"source_node\").properties.level;\r\n        let destination = feature.get(\"destination_node\").properties.level;\r\n\r\n        if (source == currentFloor || destination == currentFloor) {\r\n          style = MapRouteStyles.routeCurrentFloor;\r\n        }\r\n      }\r\n      catch (e) {\r\n      }\r\n      if (style) {\r\n        return style;\r\n      }\r\n      else {\r\n        return MapRouteStyles.routeHiddenFloor;\r\n      }\r\n    };\r\n\r\n    let res = OpenlayersHelper.CreateBasicLayer(feature => styleFunction(feature, this.currentFloorId));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n  }\r\n\r\n  public setNewStartPos(nodeId: number) {\r\n    this.currentStartNodeId = nodeId;\r\n  }\r\n\r\n  public shiftPressed() {\r\n    this.createRoute = true;\r\n  }\r\n\r\n  public shiftReleased() {\r\n    this.createRoute = false;\r\n  }\r\n\r\n  public doShowRoute(): boolean {\r\n    return this.createRoute;\r\n  }\r\n\r\n  public generateRoute(destinationNode: number) {\r\n    if (this.currentStartNodeId >= 0 && destinationNode >= 0) {\r\n      console.log(\"MapRoute::generateRoute From: \" + this.currentStartNodeId + \" to \" + destinationNode);\r\n\r\n      this.subscribeNewRequest(\r\n        this.mapService.getRoute(this.currentStartNodeId, destinationNode).\r\n          subscribe(\r\n          route => this.updateRoute(route),\r\n          error => console.log(\"ERROR: \" + <any>error)));\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    this.layerSource.clear();\r\n  }\r\n\r\n  public setCurrentFloor(floor: number) {\r\n    this.currentFloorId = floor;\r\n    this.layerSource.refresh();\r\n  }\r\n\r\n  private updateRoute(route: any) {\r\n    console.log(\"MapRoute::update Route\");\r\n    this.layerSource.clear();\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRoute.ts","declare var ol: any;\r\n\r\nexport class MapRouteStyles {\r\n  public static routeCurrentFloor: any = new ol.style.Style({\r\n    stroke: new ol.style.Stroke({\r\n      color: 'green',\r\n      width: 5\r\n    })\r\n  });\r\n\r\n\r\n  public static routeHiddenFloor: any = new ol.style.Style({\r\n    stroke: new ol.style.Stroke({\r\n      color: 'green',\r\n      width: 5,\r\n      lineDash: [3, 7]\r\n    })\r\n  });\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapRouteStyles.ts","import { ViewChild, ElementRef, AfterViewInit, Input, Output } from '@angular/core';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { ApplicationMode } from '../base/applicationmode';\r\nimport { ApplicationModeT } from '../base/applicationmode';\r\nimport { BeacondialogComponent } from '../beacondialog/beacondialog.component';\r\nimport {MdDialog, MdDialogRef} from '@angular/material';\r\nimport { Signal } from '../base/signal';\r\n\r\nimport { BeaconEditMode, BeaconEditModes, BeaconEditModeT } from '../base/beaconeditmode';\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport { OpenlayersHelper } from './openlayershelper';\r\nimport { MapBeaconStyles } from './mapbeaconstyles';\r\nimport { EditablemapComponent } from './editablemap.component'\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapBeacons extends MapLayerBase {\r\n\r\n  private currentFloorId: number = -1;\r\n  private lastMouseClickPosition: number[] = null;\r\n\r\n  private editMode: BeaconEditMode = BeaconEditMode.CreateDefault();\r\n  private dialogRef: MdDialogRef<BeacondialogComponent> = null;\r\n\r\n  private currentSelectedBeacon: any = null;\r\n  private highlightFeaturePoint: any = null;\r\n  private highlightFeature: any = null;\r\n  private highlightFeatureAdded: boolean = false;\r\n\r\n  private beaconFeatures: Array<any> = [];\r\n\r\n  private lastOverlaysUsed = 0;\r\n  private beaconOverlays: any[] = null;\r\n  private beaconTextFields: any[] = null;\r\n\r\n  private static higlightObject: any = new ol.style.Circle({\r\n    radius: 8,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapBeacons.higlightObject\r\n  })\r\n\r\n  constructor(private dialog: MdDialog, private mapService: MapService, private beaconPopUpBaseElem: ElementRef, private mapComponent: EditablemapComponent) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    let styleFunction = function(feature) {\r\n      //let source = feature.get(\"source_node\").properties.level;\r\n\r\n\r\n      let style = MapBeaconStyles.GetStyle(feature.get(\"signal\"));\r\n      //console.log(\"MapBeacons::styleFunction   \" + feature.get(\"signal\") + \"###\" + JSON.stringify(style));\r\n      return style;\r\n    };\r\n\r\n    let res = OpenlayersHelper.CreateBasicLayer(feature => styleFunction(feature));\r\n    this.layerSource = res.layerSource;\r\n    this.layer = res.layer;\r\n\r\n    MapBeaconStyles.InitStyles();\r\n  }\r\n\r\n  public updateData(floorId: number): any {\r\n    this.currentFloorId = floorId;\r\n    this.clear();\r\n    this.subscribeNewRequest(\r\n      this.mapService.getBeacons(floorId).subscribe(beacons => this.showBeacons(beacons)));\r\n  }\r\n\r\n  public setBeaconEditMode(mode: BeaconEditMode) {\r\n    console.log(\"MapBeacons::setBeaconEditMode: \" + JSON.stringify(mode));\r\n    this.clearSelection();\r\n    this.editMode = mode;\r\n  }\r\n\r\n  public setBeaconSignals(signals: Signal[]) {\r\n\r\n    if (!this.beaconOverlays) {\r\n      this.initBeaconOverlays();\r\n    }\r\n\r\n    let hSignal: Signal = undefined;\r\n    if (signals.length > 0) {\r\n      hSignal = signals[0];\r\n    }\r\n    for (let i = 1; i < signals.length; i++) {\r\n      if (signals[i].value > hSignal.value) {\r\n        hSignal = signals[i];\r\n      }\r\n    }\r\n    if (this.dialogRef && this.dialogRef.componentInstance) {\r\n      this.dialogRef.componentInstance.setNearestSignal(hSignal);\r\n    }\r\n\r\n    this.resetBeaconOverlays();\r\n\r\n    if (this.editMode.mode == BeaconEditModeT.DEFAULT) {\r\n\r\n      for (let i = 0; i < this.beaconFeatures.length; i++) {\r\n        this.beaconFeatures[i].setProperties({ signal: undefined });\r\n        for (let j = 0; j < signals.length; j++) {\r\n          if (this.beaconFeatures[i].get(\"name\") == signals[j].name) {\r\n\r\n            this.beaconFeatures[i].setProperties({ signal: signals[j].value });\r\n            this.setBeaconOverlay(i, this.beaconFeatures[i].getGeometry().getCoordinates(), signals[j].name, signals[j].value, signals[j].origSignal);\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private setBeaconOverlay(index: number, position: number[], name: string, value: number, orgvalue: number) {\r\n\r\n    console.log(\"MapBeacons::setBeaconOverlay: \" + index + \"#\" + JSON.stringify(position));\r\n\r\n    if (index < this.beaconOverlays.length && this.isActive) {\r\n      this.beaconOverlays[index].setPosition(position);\r\n      this.beaconTextFields[index].innerHTML = name + \":\" + value.toFixed(2) + \"/\" + orgvalue.toFixed(0);\r\n      if (index > this.lastOverlaysUsed) {\r\n        this.lastOverlaysUsed = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  private resetBeaconOverlays() {\r\n    for (let i = 0; i < this.beaconOverlays.length && i <= this.lastOverlaysUsed; i++) {\r\n      this.beaconOverlays[i].setPosition(undefined);\r\n      this.beaconTextFields[i].innerHTML = \"\";\r\n    }\r\n    this.lastOverlaysUsed = 0;\r\n  }\r\n\r\n  private initBeaconOverlays() {\r\n\r\n    let base = this.beaconPopUpBaseElem.nativeElement;\r\n    //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(this.beaconPopUpBaseElem.nativeElement));\r\n    let childs = base.children;\r\n    let elemCount = childs.length;\r\n    console.log(\"MapBeacons::initBeaconOverlays: \" + elemCount);\r\n    this.beaconOverlays = new Array(elemCount);\r\n    this.beaconTextFields = new Array(elemCount);\r\n\r\n    let overlayDivs = [];\r\n\r\n    for (let i = 0; i < elemCount; i++) {\r\n\r\n      let OverlayDiv = childs[i].children[0];\r\n      overlayDivs.push(OverlayDiv);\r\n      //console.log(\"MapBeacons::initBeaconOverlays: NEW OVERLAY \" + i + \"#\" + OverlayDiv.className + \"#\");\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(OverlayDiv));\r\n      let innerDiv = OverlayDiv.children[0];\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + JSON.stringify(innerDiv));\r\n      let span = innerDiv.children[0];\r\n      //console.log(\"MapBeacons::initBeaconOverlays: \" + innerDiv.children.length);\r\n      this.beaconTextFields[i] = span;\r\n    }\r\n\r\n    for (let i = 0; i < overlayDivs.length; i++) {\r\n      //new ol.Overlay(/** @type {olx.OverlayOptions} */({\r\n      this.beaconOverlays[i] = new ol.Overlay(({\r\n        element: overlayDivs[i],\r\n        autoPan: false\r\n      }));\r\n\r\n      this.mapComponent.addOverlay(this.beaconOverlays[i]);\r\n    }\r\n  }\r\n\r\n  public mouseClicked(position: any, pixelPos: any, map: any) {\r\n\r\n    this.lastMouseClickPosition = null;\r\n\r\n    if (this.currentFloorId >= 0) {\r\n\r\n      //   this.clearSelection();\r\n\r\n      if (this.editMode.mode == BeaconEditModeT.ADD) {\r\n        this.CreateNewBeacon(position);\r\n      }\r\n      else {\r\n\r\n        let isSelected = this.selectBeacon(pixelPos, map, true);\r\n\r\n        if (isSelected) {\r\n          isSelected = this.selectBeacon(pixelPos, map, false);\r\n          if (isSelected) {\r\n            if (!this.highlightFeature) {\r\n              this.initHighlightFeatureOverlay(map);\r\n            }\r\n            this.highlightFeaturePoint.setCoordinates(this.currentSelectedBeacon.getGeometry().getCoordinates());\r\n            this.layerSource.addFeature(this.highlightFeature);\r\n            this.highlightFeatureAdded = true;\r\n            this.showSelectedBeaconInfo();\r\n          }\r\n        }\r\n        else if (this.editMode.mode == BeaconEditModeT.MOVE && this.currentSelectedBeacon) {\r\n          this.moveCurrentBeacon(position);\r\n        }\r\n        else {\r\n          this.clearSelection();\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  public clearSelection() {\r\n\r\n    if (this.highlightFeature && this.highlightFeatureAdded) {\r\n      this.layerSource.removeFeature(this.highlightFeature);\r\n      this.highlightFeatureAdded = false;\r\n    }\r\n\r\n    this.currentSelectedBeacon = null;\r\n  }\r\n\r\n  private selectBeacon(pixelPos: any, map: any, testOnly: boolean): boolean {\r\n\r\n    //console.log(\"MapBeacons::selectBeacon!\" + JSON.stringify(pixelPos));\r\n\r\n    if (!testOnly) {\r\n      this.clearSelection();\r\n    }\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n    feature = map.forEachFeatureAtPixel(pixelPos, function(feature) {\r\n      return feature;\r\n    }, options);\r\n\r\n    if (feature) {\r\n      console.log(\"MapBeacons::selectBeacon Beacon selected! - \" + feature.get(\"name\"));\r\n      if (!testOnly) {\r\n        this.currentSelectedBeacon = feature;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private showSelectedBeaconInfo() {\r\n    console.log(\"MapBeacons::showSelectedBeaconInfo!\");\r\n  }\r\n\r\n  private moveCurrentBeacon(position: any) {\r\n    console.log(\"MapBeacons::moveCurrentBeacon... \" + JSON.stringify(position));\r\n\r\n    if (this.currentSelectedBeacon) {\r\n      this.currentSelectedBeacon.getGeometry().setCoordinates(position);\r\n      this.highlightFeature.getGeometry().setCoordinates(position);\r\n\r\n      this.mapService.updateBeacon((new ol.format.GeoJSON()).writeFeature(this.currentSelectedBeacon), this.currentSelectedBeacon.getId()).\r\n        subscribe(\r\n        poi => this.beaconUpdated(poi),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n\r\n    this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n\r\n    this.highlightFeature = new ol.Feature({\r\n      geometry: this.highlightFeaturePoint,\r\n      name: 'SelectedPoi'\r\n    });\r\n\r\n    this.highlightFeature.setStyle(MapBeacons.higlightStyle);\r\n  }\r\n\r\n  private beaconUpdated(beacon: any) {\r\n    console.log(\"MapBeacons::beaconUpdated Beacon Updated! - \" + JSON.stringify(beacon));\r\n  }\r\n\r\n  private showBeacons(features: any): void {\r\n\r\n    this.clearSelection();\r\n    this.clear();\r\n    //console.log(\"showBeacons! - \" + JSON.stringify(features));\r\n\r\n    /*\r\n        let dummy: Object =\r\n          {\r\n            \"type\": \"FeatureCollection\", \"features\":\r\n            [{ \"id\": 1, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722109.0870171075, 5955257.0827844525] }, \"properties\": { \"mac\": \"00-00-00-00-00-01\", \"name\": \"N1\", \"deployed\": \"2017-06-29T10:18:46.040277Z\", \"seen\": \"2017-06-29T10:18:46.040319Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } },\r\n              { \"id\": 2, \"type\": \"Feature\", \"geometry\": { \"type\": \"Point\", \"coordinates\": [1722094.6153389667, 5955238.592188362] }, \"properties\": { \"mac\": \"00-00-00-00-00-02\", \"name\": \"namexyz\", \"deployed\": \"2017-06-29T10:22:07.677524Z\", \"seen\": \"2017-06-29T10:22:07.677560Z\", \"active\": false, \"charge\": \"0.00\", \"level\": 2 } }]\r\n          };\r\n    */\r\n    this.beaconFeatures = (new ol.format.GeoJSON()).readFeatures(features);\r\n\r\n    //this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n    this.layerSource.addFeatures(this.beaconFeatures);\r\n  }\r\n\r\n\r\n  private beaconDialogClosed(res: string) {\r\n    console.log(\"MapBeacons::beaconDialogClosed: \" + res);\r\n\r\n    if (res && res == \"Save\") {\r\n      console.log(\"MapBeacons::beaconDialogClosed: Save Beacon...\");\r\n      if (this.dialogRef && this.dialogRef.componentInstance) {\r\n        let dialogComp: BeacondialogComponent = this.dialogRef.componentInstance;\r\n        if (dialogComp.name && dialogComp.name.length > 0) {\r\n          console.log(\"MapBeacons::beaconDialogClosed: Save Beacon: \" + dialogComp.mac + \"/\" + dialogComp.name);\r\n          this.addOrUpdateBeacon(dialogComp.name);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private CreateNewBeacon(position: any) {\r\n    console.log(\"MapBeacons::CreateNewBeacon: Add new beacon\" + JSON.stringify(position));\r\n    this.lastMouseClickPosition = position;\r\n    this.dialogRef = this.dialog.open(BeacondialogComponent);\r\n    this.dialogRef.componentInstance.setMacAndName(\"\", \"\");\r\n    this.dialogRef.afterClosed().subscribe(res => this.beaconDialogClosed(res));\r\n  }\r\n\r\n  private addOrUpdateBeacon(name: string) {\r\n    if (this.currentFloorId < 0) {\r\n      return;\r\n    }\r\n\r\n    if (this.lastMouseClickPosition) {\r\n      //console.log(\"mouseClickedCtrl! - POS: \" + JSON.stringify(position));\r\n      let center = {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [this.lastMouseClickPosition[0], this.lastMouseClickPosition[1]]\r\n      };\r\n\r\n      console.log(\"MapBeacons ADD: #\" + name + \"#\" + this.currentFloorId + \"#\" + JSON.stringify(center));\r\n\r\n      this.mapService.addBeacon(this.currentFloorId, center, name).\r\n        subscribe(\r\n        beacon => this.updateAddBeacon(beacon),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private updateAddBeacon(beacon: any) {\r\n    console.log(\"updateAddBeacon! - \" + JSON.stringify(beacon));\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(beacon));\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapbeacons.ts","declare var ol: any;\r\n\r\nexport class MapBeaconStyles {\r\n\r\n  private static circle: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: new ol.style.Fill({\r\n      color: 'black'\r\n    }),\r\n    stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n  });\r\n\r\n  private static style: any = new ol.style.Style({\r\n    image: MapBeaconStyles.circle\r\n  });\r\n\r\n  private static maxSignalValue: number = -70;\r\n  private static minSignalValue: number = -90;\r\n\r\n\r\n  private static styles: any[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public static InitStyles() {\r\n    for (let i = 0; i <= MapBeaconStyles.getMaxIndex(); i++) {\r\n      let r = MapBeaconStyles.getRValue(i);\r\n      let g = MapBeaconStyles.getGValue(i);\r\n      let color = 'rgba(' + r + ',' + g + ',0,1)'\r\n      //console.log(\"MapBeaconStyles::InitStyles   \" + color);\r\n\r\n      let circle: any = new ol.style.Circle({\r\n        radius: 7,\r\n        fill: new ol.style.Fill({\r\n          color: color\r\n        }),\r\n        stroke: new ol.style.Stroke({ color: 'black', width: 1 })\r\n      });\r\n\r\n      let style: any = new ol.style.Style({\r\n        image: circle\r\n      });\r\n\r\n      MapBeaconStyles.styles.push(style);\r\n    }\r\n  }\r\n\r\n  public static GetStyle(signalValue: number) {\r\n\r\n    if (!signalValue) {\r\n      return MapBeaconStyles.style;\r\n    }\r\n\r\n    if (signalValue < MapBeaconStyles.minSignalValue) {\r\n      return MapBeaconStyles.style;\r\n    }\r\n    if (signalValue > MapBeaconStyles.maxSignalValue) {\r\n      signalValue = MapBeaconStyles.maxSignalValue\r\n    }\r\n\r\n    let index = MapBeaconStyles.getIndex(signalValue);\r\n    //console.log(\"MapBeaconStyles::GetStyle   \" + index);\r\n    return MapBeaconStyles.styles[index];\r\n  }\r\n\r\n  private static getIndex(value) {\r\n    return Math.floor(value - MapBeaconStyles.minSignalValue);\r\n  }\r\n\r\n  private static getMaxIndex() {\r\n    return (MapBeaconStyles.maxSignalValue - MapBeaconStyles.minSignalValue);\r\n  }\r\n\r\n  private static getHalfIndex() {\r\n    return MapBeaconStyles.getMaxIndex() / 2.0;\r\n  }\r\n\r\n  private static getRValue(index) {\r\n    if (index <= MapBeaconStyles.getHalfIndex()) {\r\n      return 255;\r\n    }\r\n    let val = MapBeaconStyles.getMaxIndex() - index;\r\n    return Math.floor((val / MapBeaconStyles.getHalfIndex()) * 255);\r\n  }\r\n\r\n  private static getGValue(index) {\r\n    if (index >= MapBeaconStyles.getHalfIndex()) {\r\n      return 255;\r\n    }\r\n    return Math.floor((index / MapBeaconStyles.getHalfIndex()) * 255);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mapbeaconstyles.ts","import { OpenlayersHelper } from './openlayershelper';\r\nimport { MapService } from '../mapservice/map.service';\r\nimport { USEHTTPSERVICE } from '../base/globalconstants';\r\n\r\nimport { MapLayerBase } from './mapLayerBase';\r\nimport {PoiType} from '../base/poitype'\r\nimport {Poi} from '../base/poi'\r\n\r\n\r\ndeclare var ol: any;\r\n\r\nexport class MapPois extends MapLayerBase {\r\n\r\n  private poitypes: PoiType[] = null;\r\n  private currentPoiType: PoiType = null;\r\n  private currentFloor: number = -1;\r\n\r\n  private iconStyleMap: { [id: number]: any } = null;\r\n\r\n  private currentSelectedPoi: any = null;\r\n  private highlightFeaturePoint: any = null;\r\n  private highlightFeature: any = null;\r\n  private featureAdded: boolean = false;\r\n\r\n\r\n  private static higlightObject: any = new ol.style.Circle({\r\n    radius: 7,\r\n    fill: null,\r\n    stroke: new ol.style.Stroke({ color: 'red', width: 6 })\r\n  });\r\n\r\n  public static higlightStyle: any = new ol.style.Style({\r\n    image: MapPois.higlightObject\r\n  })\r\n\r\n\r\n  constructor(private mapService: MapService) {\r\n    super();\r\n    this.Initialize();\r\n  }\r\n\r\n  private Initialize(): void {\r\n\r\n    this.layerSource = new ol.source.Vector({\r\n      features: []\r\n    });\r\n\r\n    this.layer = new ol.layer.Vector({\r\n      source: this.layerSource\r\n    });\r\n  }\r\n\r\n  public updateData(currentFloor: number): any {\r\n    if (this.iconStyleMap) {\r\n      this.clear();\r\n      this.subscribeNewRequest(\r\n        this.mapService.getPoiInstances(currentFloor).subscribe(\r\n          buildings => this.showPois(buildings),\r\n          error => console.log(\"ERROR deleteNode: \" + <any>error)));\r\n    }\r\n  }\r\n\r\n  public setPoiTypes(poiTypes: PoiType[]) {\r\n    this.poitypes = poiTypes;\r\n    this.iconStyleMap = {};\r\n\r\n    for (let i = 0; i < poiTypes.length; i++) {\r\n      let iconStyle = new ol.style.Style({\r\n        image: new ol.style.Icon(/** @type {olx.style.IconOptions} */({\r\n          anchor: [0.5, 1],\r\n          anchorXUnits: 'fraction',\r\n          anchorYUnits: 'fraction',\r\n          src: poiTypes[i].iconurl\r\n        }))\r\n      });\r\n\r\n      this.iconStyleMap[poiTypes[i].id] = iconStyle;\r\n    }\r\n\r\n    if (this.currentFloor >= 0) {\r\n      this.updateData(this.currentFloor);\r\n    }\r\n  }\r\n\r\n  public setCurrentSelectedPoiType(poiType: PoiType) {\r\n    this.currentPoiType = poiType;\r\n  }\r\n\r\n  public setCurrentFloor(layer: number) {\r\n    console.log(\"MapPois::setCurrentFloor\");\r\n    this.currentFloor = layer;\r\n  }\r\n\r\n  public mouseClicked(position: any, pixelPos: any, strgPressed: boolean, shiftPressed: boolean, map: any) {\r\n    console.log(\"MapPois::mouseClicked\");\r\n\r\n    if (strgPressed && this.currentPoiType && this.currentFloor >= 0) {\r\n      this.clearSelection();\r\n      this.createNewPoi(position);\r\n    }\r\n    else if (this.currentFloor >= 0) {\r\n      if (this.currentSelectedPoi && shiftPressed) {\r\n        console.log(\"MapPois::mouseClicked Move: \" + this.currentSelectedPoi.getId());\r\n        this.moveCurrentPoi(position);\r\n      }\r\n      else if (this.selectPoi(pixelPos, map)) {\r\n        if (!this.highlightFeature) {\r\n          this.initHighlightFeatureOverlay(map);\r\n        }\r\n        this.highlightFeaturePoint.setCoordinates(this.currentSelectedPoi.getGeometry().getCoordinates());\r\n        this.layerSource.addFeature(this.highlightFeature);\r\n        this.featureAdded = true;\r\n        console.log(\"MapPois::mouseClicked Select: \" + this.currentSelectedPoi.getId());\r\n      }\r\n      else {\r\n        this.clearSelection();\r\n      }\r\n    }\r\n  }\r\n\r\n  public deleteSelectedPoi() {\r\n    if (!USEHTTPSERVICE) {\r\n      console.log(\"Offline mode, dont delete edge!\");\r\n      return;\r\n    }\r\n\r\n    if (this.currentSelectedPoi) {\r\n      this.mapService.deletePoi(this.currentSelectedPoi.getId()).subscribe(\r\n        edge => this.poiDeleted(edge),\r\n        error => console.log(\"ERROR deletePoi: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private poiDeleted(poi: any): void {\r\n    console.log(\"poiDeleted...\" + JSON.stringify(poi));\r\n    let feature = this.layerSource.getFeatureById(poi.id);\r\n    if (feature) {\r\n      this.layerSource.removeFeature(feature);\r\n      this.clearSelection();\r\n    }\r\n  }\r\n\r\n  private moveCurrentPoi(position: any) {\r\n    console.log(\"MapPois::movePoi... \" + JSON.stringify(position));\r\n\r\n    if (this.currentSelectedPoi) {\r\n      this.currentSelectedPoi.getGeometry().setCoordinates(position);\r\n      this.highlightFeature.getGeometry().setCoordinates(position);\r\n      this.mapService.updatePoi((new ol.format.GeoJSON()).writeFeature(this.currentSelectedPoi), this.currentSelectedPoi.getId()).\r\n        subscribe(\r\n        poi => this.poiUpdated(poi),\r\n        error => console.log(\"ERROR: \" + <any>error));\r\n    }\r\n  }\r\n\r\n  private poiUpdated(poi: any) {\r\n    console.log(\"Poi Updated! - \" + JSON.stringify(poi));\r\n  }\r\n\r\n\r\n  private selectPoi(pixelPos: any, map: any): boolean {\r\n    this.clearSelection();\r\n\r\n    let options = {\r\n      layerFilter: (layer => this.testLayer(layer))\r\n    }\r\n\r\n    let feature = null;\r\n    feature = map.forEachFeatureAtPixel(pixelPos, function(feature) {\r\n      return feature;\r\n    }, options);\r\n\r\n    if (feature) {\r\n      this.currentSelectedPoi = feature;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private testLayer(layer: any) {\r\n    return this.layer === layer;\r\n  }\r\n\r\n  private createNewPoi(position: any) {\r\n    let center = {\r\n      \"type\": \"Point\",\r\n      \"coordinates\": [position[0], position[1]]\r\n    };\r\n\r\n    this.mapService.addPoiInstance(this.currentFloor, center, this.currentPoiType.id).\r\n      subscribe(\r\n      node => this.updateAddPoi(node),\r\n      error => console.log(\"ERROR: \" + <any>error));\r\n  }\r\n\r\n  private showPois(features: any) {\r\n    console.log(\"MapPois::showPois\");\r\n    this.clear();\r\n\r\n    this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(features));\r\n\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(features));\r\n  }\r\n\r\n  private showPoisWithStyles(olFeatures: any) {\r\n    for (let i = 0; i < olFeatures.length; i++) {\r\n      let id = olFeatures[i].getId();\r\n      let poiTypeId = olFeatures[i].get(\"name\");\r\n      console.log(\"MapPois::showPoisWithStyles: \" + id + \"#\" + poiTypeId);\r\n      olFeatures[i].setStyle(this.iconStyleMap[poiTypeId]);\r\n    }\r\n\r\n    this.layerSource.addFeatures(olFeatures);\r\n  }\r\n\r\n  private updateAddPoi(poi: any) {\r\n    console.log(\"MapPois::updateAddNode! - \" + JSON.stringify(poi));\r\n\r\n    this.showPoisWithStyles((new ol.format.GeoJSON()).readFeatures(poi));\r\n\r\n    this.layerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(poi));\r\n  }\r\n\r\n  public clearSelection() {\r\n\r\n    if (this.featureAdded && this.highlightFeature) {\r\n      this.layerSource.removeFeature(this.highlightFeature);\r\n      this.featureAdded = false;\r\n    }\r\n\r\n    this.currentSelectedPoi = null;\r\n  }\r\n\r\n  private initHighlightFeatureOverlay(map: any) {\r\n\r\n    this.highlightFeaturePoint = new ol.geom.Point([0, 0]);\r\n\r\n    this.highlightFeature = new ol.Feature({\r\n      geometry: this.highlightFeaturePoint,\r\n      name: 'SelectedPoi'\r\n    });\r\n\r\n    this.highlightFeature.setStyle(MapPois.higlightStyle);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/editablemap/mappois.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { Floor } from '../base/floor';\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\n@Component({\n  selector: 'app-floorselector',\n  templateUrl: './floorselector.component.html',\n  styleUrls: ['./floorselector.component.css']\n})\nexport class FloorselectorComponent implements OnInit {\n\n  floorList: Floor[] = [];\n  selectedFloor: Floor = null;\n\n  @Output() currentFloorEvt = new EventEmitter<Floor>();\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.updateData();\n  }\n\n  public updateData(): any {\n\n    this.mapService.getFloorNames().subscribe(\n      floors => this.updateFloors(floors),\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\n  }\n\n  onSelect(floor: Floor): void {\n    this.selectFloor(floor);\n    //console.log(\"Floor: \" + JSON.stringify(floor));\n  }\n\n  updateFloors(floors: Floor[]) {\n    this.floorList = floors;\n\n    for (let floor of this.floorList) {\n      if (floor.name.startsWith('EG')) {\n        this.selectFloor(floor);\n        //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(floor));\n        return;\n      }\n    }\n\n    if (this.floorList.length > 0) {\n      this.selectFloor(this.floorList[0]);\n      //console.log(\"FloorselectorComponent::updateFloors Select Floor: \" + JSON.stringify(this.selectedFloor));\n    }\n  }\n\n  private selectFloor(floor: Floor) {\n    this.selectedFloor = floor;\n    this.currentFloorEvt.emit(this.selectedFloor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/floorselector/floorselector.component.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class MapcontrollerserviceService {\n\n  constructor() { }\n\n\n  showRoute(route: Object)\n  {\n  }\n\n  hideRoute()\n  {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapcontrollerservice/mapcontrollerservice.service.ts","\nexport const BASEMAP_1: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722148.7179484894, 5955311.036092768],\n          [1722146.0740319043, 5955305.806638332]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722145.4393780732, 5955304.280772133],\n          [1722144.3102046154, 5955302.047357817]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722156.5486399394, 5955306.256258198],\n          [1722151.3915498806, 5955308.863588676],\n          [1722127.931174513, 5955262.460852391]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.866233931, 5955310.209756394],\n          [1722112.6978673185, 5955256.472911546],\n          [1722122.082911084, 5955251.728004948],\n          [1722126.076234266, 5955259.626477143]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722143.3116983555, 5955300.0385739],\n          [1722142.058591478, 5955297.560029245]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722141.0532015797, 5955295.537624686],\n          [1722140.1856665525, 5955293.821710152]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.173541809, 5955291.819808783],\n          [1722138.5469889154, 5955290.580537533]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722137.9410912285, 5955289.382120622],\n          [1722137.6381423848, 5955288.782912167]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722137.0186251472, 5955287.591381051],\n          [1722135.9514194895, 5955285.480534063]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722134.9747857354, 5955283.785578792],\n          [1722133.7629903613, 5955281.38874497]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722133.1843296185, 5955280.176557558],\n          [1722132.4613843076, 5955278.7466298565]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature',\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722139.9914304577, 5955310.161206596],\n          [1722140.1936529577, 5955310.058966596],\n          [1722140.4127388278, 5955310.492300833],\n          [1722145.1408928542, 5955308.101832573]\n        ]\r\n      }\r\n    }\n  ]\r\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-basemap01.ts","\nexport const BASEMAP: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722148.7179484894, 5955311.036092768],\n    [1722146.0740319043, 5955305.806638332]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722145.4393780732, 5955304.280772133],\n    [1722144.3102046154, 5955302.047357817]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722156.5486399394, 5955306.256258198],\n    [1722151.3915498806, 5955308.863588676],\n    [1722127.931174513, 5955262.460852391]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722139.866233931, 5955310.209756394],\n    [1722112.6978673185, 5955256.472911546],\n    [1722122.082911084, 5955251.728004948],\n    [1722126.076234266, 5955259.626477143]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722143.3116983555, 5955300.0385739],\n    [1722142.058591478, 5955297.560029245]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722141.0532015797, 5955295.537624686],\n    [1722140.1856665525, 5955293.821710152]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722139.173541809, 5955291.819808783],\n    [1722138.5469889154, 5955290.580537533]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722137.9410912285, 5955289.382120622],\n    [1722137.6381423848, 5955288.782912167]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722137.0186251472, 5955287.591381051],\n    [1722135.9514194895, 5955285.480534063]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722134.9747857354, 5955283.785578792],\n    [1722133.7629903613, 5955281.38874497]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722133.1843296185, 5955280.176557558],\n    [1722132.4613843076, 5955278.7466298565]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722139.9914304577, 5955310.161206596],\n    [1722140.1936529577, 5955310.058966596],\n    [1722140.4127388278, 5955310.492300833],\n    [1722145.1408928542, 5955308.101832573]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722138.038594267, 5955306.179079759],\n    [1722144.6830496874, 5955302.819764539]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722135.7410594842, 5955301.730400836],\n    [1722142.4240331678, 5955298.351611486]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722133.8325794842, 5955297.955580836],\n    [1722140.6118477474, 5955294.528106706]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722132.0015660073, 5955294.238323232],\n    [1722138.703797744, 5955290.849797362]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722129.6365151408, 5955289.799595839],\n    [1722136.415785561, 5955286.372120619]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722133.3726029575, 5955287.862334096],\n    [1722134.7650136072, 5955290.616410413],\n    [1722137.846498397, 5955289.058468022]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722125.925588397, 5955282.220528022],\n    [1722132.5507836072, 5955278.870950413]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722130.610817744, 5955278.860292363],\n    [1722131.0295153542, 5955279.688442573]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722129.8911294772, 5955277.628127148],\n    [1722129.3945353474, 5955276.645903885]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722129.6667453507, 5955277.088653229],\n    [1722124.6400720875, 5955279.630047359]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722128.7129353473, 5955275.297753885],\n    [1722127.9437012174, 5955273.776270622]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722128.4004860038, 5955274.488433889],\n    [1722123.3738127407, 5955277.0298280185]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722127.1545618705, 5955272.119756282],\n    [1722123.4154994807, 5955264.724191493],\n    [1722118.4273444808, 5955267.246111493]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722122.9784653473, 5955261.946553886],\n    [1722122.3942370876, 5955260.790997359]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722121.7710594772, 5955259.558402149],\n    [1722121.6055288278, 5955259.230995833],\n    [1722115.7507053544, 5955262.191087573]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722127.1905355575, 5955262.863966276],\n    [1722132.5831355576, 5955260.137566276]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722130.9798149837, 5955257.121846492],\n    [1722129.8506415258, 5955254.888432178],\n    [1722147.2821563147, 5955246.075376894],\n    [1722148.5490336933, 5955248.581158493]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722132.440085313, 5955260.145429773],\n    [1722155.9048458226, 5955306.556839516]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722157.3645080356, 5955309.443934019],\n    [1722183.225318291, 5955360.594537519],\n    [1722200.6542708513, 5955351.758591575],\n    [1722199.753565157, 5955349.929230013]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722198.3537092782, 5955347.160432989],\n    [1722149.8819030395, 5955251.287097337]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722149.8819030395, 5955251.287097337],\n    [1722157.9541226493, 5955247.205930637],\n    [1722176.3699033493, 5955283.6308642505],\n    [1722193.5491868227, 5955274.94533251],\n    [1722186.3826503032, 5955260.770499457],\n    [1722191.3130268299, 5955258.277791197],\n    [1722196.2594950895, 5955268.061507724],\n    [1722205.8120998794, 5955263.2318853345],\n    [1722168.4604198795, 5955189.353265335],\n    [1722158.9078150897, 5955194.182887725],\n    [1722162.8026726998, 5955201.886602934],\n    [1722157.3330361731, 5955204.651951194],\n    [1722157.3330361731, 5955204.651951194],\n    [1722141.2322726997, 5955212.792202935],\n    [1722157.16223857, 5955244.300394671]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722148.5398468156, 5955248.562987588],\n    [1722157.1232892193, 5955244.223355988]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722190.0277233494, 5955255.7355642505],\n    [1722185.405495086, 5955258.07247838],\n    [1722175.3567644365, 5955238.196897064],\n    [1722179.9789926999, 5955235.859982935]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722174.0333716231, 5955235.770658151],\n    [1722159.5055540127, 5955207.035802942],\n    [1722164.2048209596, 5955204.659939461],\n    [1722178.73263857, 5955233.394794671]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722178.73263857, 5955233.394794671],\n    [1722174.0333716231, 5955235.770658151]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722140.357013393, 5955310.382080402],\n    [1722137.3386845773, 5955311.908092286],\n    [1722149.897288901, 5955336.748001939],\n    [1722162.2627709177, 5955330.496240233],\n    [1722152.788735943, 5955311.757360757],\n    [1722157.3645080356, 5955309.443934019]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722149.8477756688, 5955313.381052751],\n    [1722152.8438179474, 5955311.866308534]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722130.9622755072, 5955257.087154819],\n    [1722126.0484391632, 5955259.571500665]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722207.7633137836, 5955345.9158264045],\n    [1722221.7069020541, 5955373.495122952],\n    [1722239.1943337908, 5955364.653797083],\n    [1722221.04429965, 5955328.754488798],\n    [1722203.5568679133, 5955337.595814668],\n    [1722206.3222161732, 5955343.065451194]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722207.7209011305, 5955345.927597744],\n    [1722199.706457837, 5955349.9795537945]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722206.2832679134, 5955342.988414668],\n    [1722198.2880848302, 5955347.030633107]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722049.4669066695, 5955131.340529937],\n    [1722049.1639491015, 5955130.741304225],\n    [1722061.3660094535, 5955124.572165527],\n    [1722075.6788024392, 5955152.881719317],\n    [1722072.9488957562, 5955154.261910242],\n    [1722091.4299879135, 5955190.816024668]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722093.0649668297, 5955193.858561198],\n    [1722105.4895609596, 5955218.433409461],\n    [1722095.9369561698, 5955223.263031851],\n    [1722080.8249113904, 5955193.372622271],\n    [1722078.1671296537, 5955194.7163481405],\n    [1722075.5186261733, 5955189.477821194]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722074.0775296537, 5955186.627448141],\n    [1722068.3910335512, 5955175.380016039],\n    [1722071.0488152879, 5955174.03629017],\n    [1722051.0292526896, 5955134.439204904]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722051.0292526896, 5955134.439204904],\n    [1722042.863314006, 5955138.567754255]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722049.4669066695, 5955131.340529937],\n    [1722041.220516865, 5955135.509753904]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722075.5186261733, 5955189.477821194],\n    [1722069.927088845, 5955192.304800271]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722074.0775296537, 5955186.627448141],\n    [1722068.4587553814, 5955189.468197719]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722097.6015840345, 5955191.372955843],\n    [1722107.1307010136, 5955210.220783096],\n    [1722124.72563531, 5955201.325105896],\n    [1722115.2516003351, 5955182.5862264205]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722096.2266244434, 5955188.632755751],\n    [1722079.9461231441, 5955156.431233118],\n    [1722097.587630091, 5955147.512009638],\n    [1722113.90707965, 5955179.790568798]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722093.0649668297, 5955193.858561198],\n    [1722097.6788840177, 5955191.525848996]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722096.2266244434, 5955188.632755751],\n    [1722091.5080994435, 5955191.018355751],\n    [1722091.4107277032, 5955190.825762278]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722123.1670161732, 5955178.591151194],\n    [1722130.7035644331, 5955193.49783772],\n    [1722148.229514433, 5955184.6370377205],\n    [1722138.005514433, 5955164.414787721],\n    [1722120.479564433, 5955173.275587721],\n    [1722121.6674961732, 5955175.625221194]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722115.2543441842, 5955182.591653532],\n    [1722123.1670161732, 5955178.591151194]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722113.90707965, 5955179.790568798],\n    [1722121.84190444, 5955175.778866407]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722204.85786097, 5955261.344477491],\n    [1722195.3052561802, 5955266.174099881]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722194.6203413904, 5955259.749362271],\n    [1722202.13146097, 5955255.951877492]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722193.0157085734, 5955254.853634014],\n    [1722199.8334951, 5955251.406685755]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722191.0691403067, 5955251.194798801],\n    [1722197.9639633598, 5955247.708902282]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722188.829597917, 5955246.765164011],\n    [1722195.72442097, 5955243.279267492]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722186.3771279065, 5955242.20135598],\n    [1722193.3875057495, 5955238.657037071]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722184.2730444332, 5955237.848327721],\n    [1722191.2063857496, 5955234.342957071]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722179.3642344433, 5955227.85211575],\n    [1722181.370085093, 5955231.819527067],\n    [1722188.1878716196, 5955228.372578808]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722178.2355861766, 5955225.811060538],\n    [1722176.9892320468, 5955223.345872275]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722176.034130963, 5955221.2654388035],\n    [1722175.1383144434, 5955219.49358575]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722174.125650963, 5955217.490618804],\n    [1722172.918245093, 5955215.102467068]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722171.8480203066, 5955213.176968801],\n    [1722170.9132544366, 5955211.328077064]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722169.9200661767, 5955209.363630538],\n    [1722168.6347626965, 5955206.821403591]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722167.6610485665, 5955204.895475327],\n    [1722166.8041803066, 5955203.200658801]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722165.7915179168, 5955201.197694011],\n    [1722165.3630826965, 5955200.350283591],\n    [1722172.2579057496, 5955196.864387072]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722163.9768455203, 5955201.147870534],\n    [1722162.7442503101, 5955201.771048144]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722167.2326144367, 5955204.048067064],\n    [1722174.1274374898, 5955200.562170545]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722169.5695285664, 5955208.670295327],\n    [1722176.4643516196, 5955205.184398808]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722171.4390603066, 5955212.368078801],\n    [1722178.3338833598, 5955208.882182281]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722173.7945885733, 5955216.8358040145],\n    [1722180.6123751, 5955213.388855755]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722175.6251709631, 5955220.4565488035],\n    [1722182.4429574898, 5955217.009600544]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722177.8655744365, 5955225.079207064],\n    [1722184.7603974896, 5955221.593310544]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722182.6026803032, 5955231.196349458],\n    [1722182.9921661732, 5955231.966721195]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722183.5954385665, 5955233.064285328],\n    [1722184.4328326965, 5955234.720583591]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722187.6806144365, 5955244.492567064],\n    [1722189.105800963, 5955243.772018804],\n    [1722187.9178692228, 5955241.42238533]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722188.9066344434, 5955246.726215751],\n    [1722189.099227917, 5955246.628844012]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722190.3083527067, 5955249.403041622],\n    [1722191.5352327067, 5955251.829711622]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722189.2376968332, 5955247.381030541],\n    [1722188.867685093, 5955246.649177067]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722192.5102379168, 5955254.045174011],\n    [1722193.3671061767, 5955255.739990538]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722194.456805093, 5955257.704007067],\n    [1722195.3136744434, 5955259.398825751]\n    ]    }  },\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n    [1722160.40733618, 5955197.1488198815],\n    [1722169.95994097, 5955192.319197492]\n    ]    }  }\n    \n\n]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-basemap02.ts","import { Floor } from '../base/floor';\n\n\nexport const FLOORS: Floor[] = [\n  new Floor({\n    \"id\": 1,\n    \"name\": \"OG3\",\n    \"building\": 1\n  }),\n  new Floor({\n    \"id\": 2,\n    \"name\": \"EG\",\n    \"building\": 1\n  })\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-floors.ts","\nexport const NAVIGATIONEDGES_DEMO: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n      'type': 'Feature', \"id\": 1,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722198.6534343925, 5955261.05092735]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 2,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722197.1605236838, 5955255.82573987]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 3,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722193.428246912, 5955247.465439901]\n        ]\r\n      }\r\n    },\n    {\n      'type': 'Feature', \"id\": 4,\n      'geometry': {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722191.9353362035, 5955242.389543491]\n        ]\r\n      }\r\n    },\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-navigationedges.ts","import { Room } from '../base/room';\n\nexport const ROOMS: Room[] = [\n  { id: 11, name: 'Hrsaal 1', floor: -1 },\n  { id: 12, name: 'Hrsaal 2', floor: -1 },\n  { id: 13, name: 'Hrsaal 3', floor: 0 },\n  { id: 14, name: 'WC', floor: 1 },\n  { id: 15, name: 'Besprechungsraum A1', floor: -1 },\n  { id: 16, name: 'Besprechungsraum A2', floor: -1 },\n  { id: 17, name: 'Besprechungsraum A3', floor: 5 },\n  { id: 18, name: 'Besprechungsraum A4', floor: -1 },\n  { id: 19, name: 'Besprechungsraum B1', floor: -1 },\n  { id: 20, name: 'Besprechungsraum B2', floor: -1 }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-rooms.ts","\n/*export const DEMOROUTE: Object = {\n  'type': 'FeatureCollection',\n  'crs': {\n    'type': 'name',\n    'properties': {\n      'name': 'EPSG:3857'\n    }\n  },\n  'features': [\n    {\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': [\n            [1722152.223911352,5955326.29112532],\n            [1722145.0579399504,5955313.899966438],\n            [1722166.107980943,5955304.046755761],\n            [1722139.0862971158,5955254.482120233],\n            [1722166.8544362977,5955241.643088137],\n            [1722173.7218255575,5955263.887457697],\n            [1722191.9353362035,5955256.721486296],\n            [1722188.053768361,5955249.256932751],\n            [1722193.1296647706,5955247.1668577595]\n    ]    }  }\n  ]};\n*/\n  export const DEMOROUTE: Object[] = [\n    {\n      'layer': 0,\n      'geojson' : {\n        'type': 'FeatureCollection',\n        'crs': {\n          'type': 'name',\n          'properties': {\n            'name': 'EPSG:3857'\n          }\n        },\n        'features': [\n          {\n              'type': 'Feature',\n              'geometry': {\n                'type': 'LineString',\n                'coordinates': [\n                  [1722152.223911352,5955326.29112532],\n                  [1722145.0579399504,5955313.899966438],\n                  [1722166.107980943,5955304.046755761],\n                  [1722139.0862971158,5955254.482120233]\n          ]    }  }\n      ]}\n    },\n    {\n      'layer': 1,\n      'geojson' : {\n        'type': 'FeatureCollection',\n        'crs': {\n          'type': 'name',\n          'properties': {\n            'name': 'EPSG:3857'\n          }\n        },\n        'features': [\n          {\n              'type': 'Feature',\n              'geometry': {\n                'type': 'LineString',\n                'coordinates': [\n                  [1722139.0862971158,5955254.482120233],\n                  [1722166.8544362977,5955241.643088137],\n                  [1722173.7218255575,5955263.887457697],\n                  [1722191.9353362035,5955256.721486296],\n                  [1722188.053768361,5955249.256932751],\n                  [1722193.1296647706,5955247.1668577595]\n          ]    }  }\n      ]}\n    }\n\n  ];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mapservice/mock-route.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\n\nimport { ApplicationMode, ApplicationModes } from '../base/applicationmode';\n\n@Component({\n  selector: 'app-modeselector',\n  templateUrl: './modeselector.component.html',\n  styleUrls: ['./modeselector.component.css']\n})\nexport class ModeselectorComponent implements OnInit {\n\n  modes = ApplicationModes;\n\n  currentAppMode: ApplicationMode = ApplicationMode.CreateDefault();\n  @Output() currentAppModeEvt = new EventEmitter<ApplicationMode>();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  modechanged(mode: ApplicationMode): void {\n    console.log(\"ModeselectorComponent Mode changed: \" + mode.name);\n    this.currentAppMode = mode;\n    this.currentAppModeEvt.emit(this.currentAppMode);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/modeselector/modeselector.component.ts","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { PoiType } from '../base/poitype';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\n@Component({\n  selector: 'app-poiselector',\n  templateUrl: './poiselector.component.html',\n  styleUrls: ['./poiselector.component.css']\n})\nexport class PoiselectorComponent implements OnInit {\n\n  pois: PoiType[] = null;\n  showControl: boolean = false;\n  selectedPoiType: PoiType = null;\n\n  @Output() currentSelectedPoiEvt = new EventEmitter<PoiType>();\n  @Output() poiTypeReceivedEvt = new EventEmitter<PoiType[]>();\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.updateData();\n  }\n\n  public updateData(): any {\n\n    this.mapService.getPoiTypes().subscribe(\n      poiTypes => this.updatePois(poiTypes),\n      error => console.log(\"ERROR deleteNode: \" + <any>error));\n  }\n\n  onSelect(poi: PoiType): void {\n    this.selectPoi(poi);\n  }\n\n  updatePois(poilist: PoiType[]) {\n    this.pois = poilist;\n    if (this.pois.length > 0) {\n      this.showControl = true;\n      this.selectPoi(this.pois[0]);\n    }\n\n    this.poiTypeReceivedEvt.emit(this.pois);\n  }\n\n  private selectPoi(poi: PoiType) {\n    this.selectedPoiType = poi;\n    this.currentSelectedPoiEvt.emit(this.selectedPoiType);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/poiselector/poiselector.component.ts","import { Component, OnInit } from '@angular/core';\nimport { Observable }        from 'rxjs/Observable';\nimport { Subject }           from 'rxjs/Subject';\n\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { Room } from '../base/room';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\n@Component({\n  selector: 'app-roomsearch',\n  templateUrl: './roomsearch.component.html',\n  styleUrls: ['./roomsearch.component.css']\n})\nexport class RoomsearchComponent implements OnInit {\n\n  rooms: Observable<Room[]>;\n  private searchTerms = new Subject<string>();\n\n  currentSearchTerm = \"\";\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.rooms = this.searchTerms\n      .debounceTime(300)        // wait for 300ms pause in events\n      .distinctUntilChanged()   // ignore if next search term is same as previous\n      .switchMap(term => term   // switch to new observable each time\n        // return the http search observable\n        ? this.mapService.searchRoom(term)\n        // or the observable of empty rooms if no search term\n        : Observable.of<Room[]>([]))\n      .catch(error => {\n        // TODO: real error handling\n        console.log(error);\n        return Observable.of<Room[]>([]);\n      });\n  }\n\n  search(term: string): void {\n    this.searchTerms.next(term);\n  }\n\n  selectRoom(room: Room): void {\n    console.log('Select Room: ' + room.id + '#' + room.name);\n\n    this.currentSearchTerm = \"\";\n    this.searchTerms.next(this.currentSearchTerm);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/roomsearch/roomsearch.component.ts","import { Component, OnInit, ViewChild} from '@angular/core';\nimport { FormControl }       from '@angular/forms';\nimport { Observable }        from 'rxjs/Observable';\nimport { Subject }           from 'rxjs/Subject';\n\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\nimport { Room } from '../base/room';\n\n\n@Component({\n  selector: 'app-roomsearchmd',\n  templateUrl: './roomsearchmd.component.html',\n  styleUrls: ['./roomsearchmd.component.css']\n})\nexport class RoomsearchmdComponent implements OnInit {\n\n  rooms: Room[];\n  showsuggestions: boolean = false;\n  private searchTerms = new Subject<string>();\n\n  currentSearchTerm = \"\";\n  term = new FormControl();\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n\n    this.term.valueChanges\n      .debounceTime(400)\n      .distinctUntilChanged()\n      .flatMap(term => this.mapService.searchRoom(term))\n      .subscribe(items => this.searchResults(items));\n  }\n\n  searchResults(items: Room[]) {\n    console.log('searchResults: ');\n    this.rooms = items;\n\n    this.showsuggestions = this.rooms.length > 0;\n    console.log('Showsuggestions: ' + this.showsuggestions);\n  }\n\n  log(logstring: string) {\n    console.log('log: ' + logstring);\n  }\n\n  selectRoom(room: Room): void {\n    console.log('Select Room: ' + room.id + '#' + room.name);\n\n    this.currentSearchTerm = \"\";\n    this.searchTerms.next(this.currentSearchTerm);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/roomsearchmd/roomsearchmd.component.ts","import { Component, OnInit, Input } from '@angular/core';\nimport { MapService } from '../mapservice/map.service';\nimport { MapHttpService } from '../mapservicehttp/mapservicehttp.service';\n\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\nimport { TestmapComponent} from '../testmap/testmap.component';\n\n@Component({\n  selector: 'app-routetest',\n  templateUrl: './routetest.component.html',\n  styleUrls: ['./routetest.component.css']\n})\nexport class RoutetestComponent implements OnInit {\n\n  @Input()\n  mapComponentRef: TestmapComponent;\n\n  routeVisible: boolean = false;\n\n\n  constructor(private mapServiceHttp: MapHttpService,\n    private mapService: MapService) { }\n\n  ngOnInit() {\n    if (USEHTTPSERVICE) {\n      this.mapService = this.mapServiceHttp;\n    }\n  }\n\n  toogleroute(): void {\n    console.log('Toogle Route');\n\n    if (this.routeVisible) {\n      this.mapComponentRef.hideRoute();\n      this.routeVisible = false;\n    }\n    else {\n      //this.mapService.getRoute().then(route => this.showRoute(route));\n\n\n      this.mapService.addEdge(14, 16, 1.123, {\n        'type': 'LineString',\n        'coordinates': [\n          [1722178.9470130377, 5955230.595548892],\n          [1722198.6534343925, 5955261.05092735]\n        ]\r\n      }).\n        subscribe(\n        edge => this.edgeAdded(edge),\n        error => console.log(\"ERROR: \" + <any>error));\n\n      /*\n             this.mapService.deleteEdge(6).subscribe(\n                                  edge => this.edgeDeleted(edge),\n                                  error =>  console.log(\"ERROR deleteEdge: \" + <any>error ));\n      */\n\n    }\n  }\n\n  edgeAdded(edge: any): void {\n    console.log(\"edgeAdded... \" + JSON.stringify(edge));\n\n    edge.properties.destination = 19;\n    this.mapService.updateEdge(edge, edge.id).\n      subscribe(\n      edge => this.edgeUpdated(edge),\n      error => console.log(\"ERROR: \" + <any>error));\n  }\n\n  edgeDeleted(edge: any): void {\n    console.log(\"edgeDeleted... \" + JSON.stringify(edge));\n  }\n\n  edgeUpdated(edge: any): void {\n    console.log(\"edgeUpdated... \" + JSON.stringify(edge));\n  }\n\n\n  showRoute(route: Object[]): void {\n    this.mapComponentRef.showRoute(route);\n    this.routeVisible = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/routetest/routetest.component.ts","import { MapService } from '../mapservice/map.service';\nimport { USEHTTPSERVICE } from '../base/globalconstants';\n\ndeclare var ol: any;\n\nexport class NavigationMap {\n  private isActive: boolean = false;\n\n  private edgeLayer: any;\n  private edgeLayerSource: any;\n\n  private edgePathLayer: any;\n  private edgePathLayerSource: any;\n\n  select: any;\n\n  constructor(private mapService: MapService) { }\n\n  public Initialize(select: any): void {\n    this.select = select;\n    let geojsonObject = {\n      'type': 'FeatureCollection',\n      'crs': {\n        'type': 'name',\n        'properties': {\n          'name': 'EPSG:3857'\n        }\n      },\n      'features': [{\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': []\n        }\n      }]\n    };\n\n    this.edgeLayerSource = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    this.edgePathLayerSource = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    let styleFunction = function(feature) {\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'green',\n          width: 1\n        })\n      })\n    };\n\n    let styleFunctionPath = function(feature) {\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'green',\n          lineDash: [5],\n          width: 3\n        })\n      })\n    };\n\n    this.edgeLayer = new ol.layer.Vector({\n      source: this.edgeLayerSource,\n      style: styleFunction\n    });\n\n    this.edgePathLayer = new ol.layer.Vector({\n      source: this.edgePathLayerSource,\n      style: styleFunctionPath,\n      zIndex: 10\n    });\n\n    this.edgePathLayer.set('isSelectable', true);\n  }\n\n  public getEdgeLayer(): any {\n    return this.edgeLayer;\n  }\n\n  public getEdgePathLayer(): any {\n    return this.edgePathLayer;\n  }\n\n  public addEdge(source: number, destination: number, length: number, path: any) {\n\n    if (!USEHTTPSERVICE) {\n      console.log(\"Offline mode, dont add edge!\");\n      return;\n    }\n\n    this.mapService.addEdge(source, destination, length, path).\n      subscribe(\n      edge => this.updateAddEdge(edge)/*,\n      error => console.log(\"ERROR: \" + <any>error)*/);\n  }\n\n  public deleteSelectedEdge() {\n    //console.log(\"deleteSelectedEdges...\" + this.select.getFeatures().getArray().length);\n    for (let feature of this.select.getFeatures().getArray()) {\n      //console.log(\"deleteSelectedEdge: \" + JSON.stringify(feature.getId()));\n\n      if (!USEHTTPSERVICE) {\n        console.log(\"Offline mode, dont delete edge!\");\n        return;\n      }\n\n      this.mapService.deleteEdge(feature.getId()).subscribe(\n        edge => this.edgeDeleted(edge),\n        error => console.log(\"ERROR deleteEdge: \" + <any>error));\n    }\n  }\n\n  private edgeDeleted(edge: any): void {\n    console.log(\"edgeDeleted...\" + JSON.stringify(edge));\n    let feature = this.edgeLayerSource.getFeatureById(edge.id);\n    if (feature) {\n      this.edgeLayerSource.removeFeature(feature);\n    }\n    feature = this.edgePathLayerSource.getFeatureById(edge.id);\n    if (feature) {\n      this.edgePathLayerSource.removeFeature(feature);\n    }\n  }\n\n  public updateEdges(featureArray: any[]) {\n    console.log(\"updateEdges... \");\n\n    if (!USEHTTPSERVICE) {\n      console.log(\"Offline mode, dont update edge!\");\n      return;\n    }\n\n    for (let feature of featureArray) {\n      console.log(\"updateEdge: \" + JSON.stringify(feature.getId()));\n\n      this.mapService.updateEdge((new ol.format.GeoJSON()).writeFeature(feature), feature.getId()).\n        subscribe(\n        edge => this.edgeUpdated(edge),\n        error => console.log(\"ERROR: \" + <any>error));\n    }\n  }\n\n  private edgeUpdated(edge: any): void {\n    console.log(\"edgeUpdated... \" + JSON.stringify(edge));\n  }\n\n  public showEdges(edges: Object): void {\n    console.log(\"showRoute called\");\n\n    this.edgeLayerSource.clear();\n    this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\n\n    this.edgePathLayerSource.clear();\n    this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edges));\n  }\n\n  private updateAddEdge(edge: any) {\n    console.log(\"updateAddEdge! - \" + JSON.stringify(edge));\n\n    this.edgeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\n    this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(edge));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/navigationedges.ts","import { NavigationMap } from \"./navigationedges\";\n\ndeclare var ol: any;\n\nexport class RoomMap {\n  private isActive: boolean = false;\n\n  private roomLayer: any;\n\n  private roomLayerSource: any;\n\n\n  private highlight: any;\n  private featureOverlay: any = null;\n\n  private selectedRoomOverlay: any = null;\n\n  private selectedRoom: any = null;\n\n  private navigationMap: NavigationMap = null;\n\n  constructor() {\n  }\n\n  public Initialize(navigationMap: NavigationMap): void {\n\n    this.navigationMap = navigationMap;\n\n    let geojsonObject = {\n      'type': 'FeatureCollection',\n      'crs': {\n        'type': 'name',\n        'properties': {\n          'name': 'EPSG:3857'\n        }\n      },\n      'features': [{\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': []\n        }\n      }]\n    };\n\n    console.log('Create Room LAYER SOURCE!!!');\n    this.roomLayerSource = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    var styleFunction = function(feature) {\n      return new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(128,0,255,0.5)'\n        })\n      })\n    };\n\n    this.roomLayer = new ol.layer.Vector({\n      source: this.roomLayerSource,\n      style: styleFunction\n    });\n\n  }\n\n  public getRoomLayer(): any {\n    return this.roomLayer;\n  }\n\n  public showRooms(rooms: Object): void {\n    //console.log(\"showRoom called\");\n    //console.log(\"Show Room!\" + JSON.stringify(rooms));\n\n    this.roomLayerSource.clear();\n    this.roomLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(rooms));\n  }\n\n  public mouseMoved(position: any, map: any) {\n    if (this.featureOverlay === null) {\n      this.initFeatureOverlay(map);\n    }\n\n    let feature = map.forEachFeatureAtPixel(position, function(feature) {\n      return feature;\n    });\n\n    if (feature !== this.highlight) {\n      if (this.highlight) {\n        this.featureOverlay.getSource().removeFeature(this.highlight);\n      }\n      if (feature) {\n        //console.log('Highlight feature: ' + JSON.stringify(feature.getKeys()));\n        //console.log('Highlight feature: ' + JSON.stringify(feature.get('id')));\n        this.featureOverlay.getSource().addFeature(feature);\n      }\n      this.highlight = feature;\n    }\n  }\n\n  public mouseClicked(position: any, map: any) {\n    if (this.highlight != null) {\n      //console.log('Select Room: ' + this.highlight.getId() + \"::\" + this.highlight.get('floor'));\n\n      if (this.selectedRoomOverlay == null) {\n        this.initSelectedRoomOverlay(map);\n      }\n\n      this.selectedRoom = this.highlight;\n      this.selectedRoomOverlay.getSource().clear();\n      this.selectedRoomOverlay.getSource().addFeature(this.highlight);\n    }\n  }\n\n  public mouseClickedCtrl(position: any, map: any) {\n    if (this.selectedRoom != null && this.highlight != null) {\n      console.log('Add Edge: ' + this.selectedRoom.getId() + \"/\" + this.highlight.getId());\n      this.addEdge(this.selectedRoom, this.highlight);\n    }\n  }\n\n  private addEdge(source: any, destination: any) {\n    let sourceId = source.getId();\n    let destinationId = destination.getId();\n    if (sourceId == destinationId) {\n      return;\n    }\n\n    let p1 = source.getGeometry().getInteriorPoint().B;\n    let p2 = destination.getGeometry().getInteriorPoint().B;\n    let line = new ol.geom.LineString([p1, p2]);\n    let distance = line.getLength();\n\n    console.log(\"RoomMap::addEdge \" + sourceId + \"/\" + destinationId + \"#\" + JSON.stringify(p1) + \"/ \" + JSON.stringify(p2) + \"--\" + distance);\n\n    let path = {\n      'type': 'LineString',\n      'coordinates': [\n        p1,\n        p2\n      ]\n    }\n\n    this.navigationMap.addEdge(sourceId, destinationId, distance, path);\n  }\n\n  public Clear(): void {\n    if (this.selectedRoomOverlay) {\n      this.selectedRoomOverlay.getSource().clear();\n    }\n    if (this.featureOverlay) {\n      this.featureOverlay.getSource().clear();\n    }\n    this.selectedRoom = null;\n    this.highlight = null;\n  }\n\n  private initFeatureOverlay(map: any) {\n    //console.log(\"Create Room Featureoverlay\");\n    this.featureOverlay = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      map: map,\n      style: new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: '#f00',\n          width: 1\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255,0,0,0.8)'\n        })\n      })\n    });\n  }\n\n  private initSelectedRoomOverlay(map: any) {\n    //console.log(\"Create SelectedRoom Featureoverlay\");\n    this.selectedRoomOverlay = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      map: map,\n      style: new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: '#f00',\n          width: 1\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(0,128,255,0.8)'\n        })\n      })\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/roommap.ts","declare var ol: any;\n\nexport class RouteMap {\n  private isActive: boolean = false;\n\n  private routeLayer: any;\n  private routeLayerHidden: any;\n\n  private routeLayerSource: any;\n  private routeLayerSourceHidden: any;\n\n  constructor() {\n  }\n\n  public Initialize(): void {\n    let geojsonObject = {\n      'type': 'FeatureCollection',\n      'crs': {\n        'type': 'name',\n        'properties': {\n          'name': 'EPSG:3857'\n        }\n      },\n      'features': [{\n        'type': 'Feature',\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': []\n        }\n      }]\n    };\n\n    console.log('Create Route LAYER SOURCE!!!');\n    this.routeLayerSource = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    this.routeLayerSourceHidden = new ol.source.Vector({\n      features: (new ol.format.GeoJSON()).readFeatures(geojsonObject)\n    });\n\n    let styleFunction = function(feature) {\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'blue',\n          lineDash: [5],\n          width: 2\n        })\n      })\n    };\n\n    let styleFunctionHidden = function(feature) {\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'blue',\n          width: 2\n        })\n      })\n    };\n\n    this.routeLayer = new ol.layer.Vector({\n      source: this.routeLayerSource,\n      style: styleFunction\n    });\n\n    this.routeLayerHidden = new ol.layer.Vector({\n      source: this.routeLayerSourceHidden,\n      style: styleFunctionHidden\n    });\n\n  }\n\n  public getRouteLayer(): any {\n    return this.routeLayer;\n  }\n\n  public getHiddenRouteLayer(): any {\n    return this.routeLayerHidden;\n  }\n\n  public showRoute(route: Object[]): void {\n    console.log(\"showRoute called\");\n\n    this.routeLayerSource.clear();\n    this.routeLayerSourceHidden.clear();\n\n    for (let i = 0; i < route.length; i++) {\n      if (route[i][\"layer\"] == 0) {\n        this.routeLayerSource.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\n      }\n      else {\n        this.routeLayerSourceHidden.addFeatures((new ol.format.GeoJSON()).readFeatures(route[i][\"geojson\"]));\n      }\n    }\n  }\n\n  public hideRoute(): void {\n    console.log(\"hideRoute called\");\n\n    this.routeLayerSource.clear();\n    this.routeLayerSourceHidden.clear();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/testmap/routemap.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.prod.ts","\r\nexport enum ApplicationModeT {\r\n  DEFAULT,\r\n  EDIT_NODES,\r\n  EDIT_POIS,\r\n  EDIT_BACKGROUND,\r\n  EDIT_BEACONS\r\n}\r\n\r\nexport class ApplicationMode {\r\n\r\n  constructor(\r\n    public mode: ApplicationModeT,\r\n    public name: string\r\n  )\r\n  { }\r\n\r\n  static CreateDefault(): ApplicationMode {\r\n    //return new ApplicationMode(ApplicationModeT.DEFAULT, \"Default\", true);\r\n    return new ApplicationMode(ApplicationModeT.EDIT_NODES, \"Navigationsmesh\");\r\n  }\r\n\r\n}\r\n\r\nexport const ApplicationModes = [\r\n  ApplicationMode.CreateDefault(),\r\n  new ApplicationMode(ApplicationModeT.EDIT_POIS, \"Points of Interest\"),\r\n  new ApplicationMode(ApplicationModeT.EDIT_BEACONS, \"Beacons\")//,\r\n  //new ApplicationMode(ApplicationModeT.EDIT_BACKGROUND, \"Hintergrund\")\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/base/applicationmode.ts","module.exports = \"\\n\\n.app-toolbar-filler{\\n  -webkit-box-flex:1;\\n      -ms-flex:1 1 auto;\\n          flex:1 1 auto;\\n  height:3em;\\n}\\n\\n.header-toolbar{\\n  position:absolute;\\n  top:0em;\\n  bottom:0;\\n  right:0;\\n  left:0;\\n  background-color:#51ae32;\\n  color:#ffffff;\\n  height:3em;\\n  margin:0;\\n  z-index:1;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 869\n// module chunks = 0","module.exports = \".positionindicator{\\r\\n  position:fixed;\\r\\n  bottom:3.5em;\\r\\n  right:0.5em;\\r\\n}\\r\\n\\r\\n.positionbutton{\\r\\n  background-color:white;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconconnector/beaconconnector.component.css\n// module id = 870\n// module chunks = 0","module.exports = \".dialogDiv{\\r\\n  position:relative;\\r\\n  width:12em;\\r\\n}\\r\\n\\r\\n.closeDialogButton{\\r\\n  position:absolute;\\r\\n  top:-42px;\\r\\n  right:-22px;\\r\\n  padding:0 0;\\r\\n  min-width:3em;\\r\\n  color:#51AE32;\\r\\n}\\r\\n\\r\\n.NavigateButton{\\r\\n  padding:0 0;\\r\\n  min-width:5em;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.idInput{\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.nameInput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.batteryOutput{\\r\\n  margin-top:1em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.controlButtonTable{\\r\\n  padding:0px;\\r\\n  margin:0px;\\r\\n  border:0px;\\r\\n  border-spacing:0;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.ScanButton{\\r\\n  padding:0 0;\\r\\n  width:100%;\\r\\n  color:#51AE32;\\r\\n  background-color:lightgreen;\\r\\n}\\r\\n\\r\\n.ControlButtonSpacer{\\r\\n  min-width:3em;\\r\\n  width:100%;\\r\\n}\\r\\n\\r\\n.navigateDiv{\\r\\n  padding-top:1em;\\r\\n  padding-bottom:1em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beacondialog/beacondialog.component.css\n// module id = 871\n// module chunks = 0","module.exports = \".modecontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.modecontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  padding-left:0.5em;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.modecontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconmodeselector/beaconmodeselector.component.css\n// module id = 872\n// module chunks = 0","module.exports = \".map{\\r\\n  position:absolute; //top:3.5em;\\r\\n  top:0;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n  left:0;\\r\\n  z-index:0;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup{\\r\\n  position:absolute;\\r\\n  background-color:#ffffff;\\r\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  filter:drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\\r\\n  padding:0.2em;\\r\\n  border-radius:10px;\\r\\n  border:1px solid #cccccc;\\r\\n  bottom:12px;\\r\\n  left:-50px;\\r\\n  min-width:4em;\\r\\n  max-width:8em;\\r\\n  padding-right:0.2em;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after, .beacon-ol-popup:before{\\r\\n  top:100%;\\r\\n  border:solid transparent;\\r\\n  content:\\\" \\\";\\r\\n  height:0;\\r\\n  width:0;\\r\\n  position:absolute;\\r\\n  pointer-events:none;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:after{\\r\\n  border-top-color:white;\\r\\n  border-width:10px;\\r\\n  left:48px;\\r\\n  margin-left:-10px;\\r\\n}\\r\\n\\r\\n.beacon-ol-popup:before{\\r\\n  border-top-color:#cccccc;\\r\\n  border-width:11px;\\r\\n  left:48px;\\r\\n  margin-left:-11px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editablemap/editablemap.component.css\n// module id = 873\n// module chunks = 0","module.exports = \".floorselector{\\r\\n  position:absolute;\\r\\n  bottom:1.0em;\\r\\n  left:1.0em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n}\\r\\n\\r\\n.floormenutext{\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.floormenuIcon{\\r\\n  color:#51AE32;\\r\\n  margin-right:0.2em;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/floorselector/floorselector.component.css\n// module id = 874\n// module chunks = 0","module.exports = \".modeselector{\\r\\n  position:absolute;\\r\\n  top:1.0em;\\r\\n  left:0.7em;\\r\\n  z-index:1;\\r\\n  background-color:#FFFFFF80;\\r\\n  border-radius:0.5em;\\r\\n}\\r\\n\\r\\n.modeselectormenu{\\r\\n  background-color:#FFFFFFFF;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modeselector/modeselector.component.css\n// module id = 875\n// module chunks = 0","module.exports = \".poicontrol{\\r\\n  position:absolute;\\r\\n  top:4.0em;\\r\\n  left:0.7em;\\r\\n  z-index:10;\\r\\n  background-color:#FFFFFF80;\\r\\n  font-size:medium;\\r\\n}\\r\\n\\r\\n.poicontrolmenubutton{\\r\\n  background-color:#FFFFFFFF;\\r\\n  border:medium medium;\\r\\n  box-shadow:1px 1px 1px rgba(0, 0, 0, 0.2);\\r\\n  min-width:6em;\\r\\n  padding:0;\\r\\n  vertical-align:middle;\\r\\n}\\r\\n\\r\\n.poicontrolmenutext{\\r\\n  font-size:medium;\\r\\n  margin-right:0.5em;\\r\\n}\\r\\n\\r\\n.poicontrolmenuIcon{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  margin-right:0.2em;\\r\\n  float:left;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/poiselector/poiselector.component.css\n// module id = 876\n// module chunks = 0","module.exports = \".roomsearch{\\n  position:absolute;\\n  top:0.7em;\\n  left:4.7em;\\n  z-index:1;\\n  background-color:#FFFFFF80;\\n  border-radius:0.5em;\\n}\\n\\n.search-result{\\n  border-bottom:1px solid gray;\\n  border-left:1px solid gray;\\n  border-right:1px solid gray;\\n  width:195px;\\n  height:20px;\\n  padding:5px;\\n  background-color:white;\\n  cursor:pointer;\\n}\\n#search-box{\\n  width:200px;\\n  height:20px;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearch/roomsearch.component.css\n// module id = 877\n// module chunks = 0","module.exports = \".placeholder-white{\\n  color:#ffffff;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearchmd/roomsearchmd.component.css\n// module id = 878\n// module chunks = 0","module.exports = \".routetest{\\n  position:absolute;\\n  top:8.0em;\\n  left:0.7em;\\n  z-index:1;\\n  background-color:#FFFFFF80;\\n  border-radius:0.5em;\\n}\\n\\n.routetestbutton{\\n  background-color:#FFFFFFFF;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routetest/routetest.component.css\n// module id = 879\n// module chunks = 0","module.exports = \".map{\\n  position:absolute;\\n  top:3.5em;\\n  bottom:0;\\n  right:0;\\n  left:0;\\n  z-index:0;\\n}\\n\\n.ol-popup{\\n  position:absolute;\\n  background-color:white;\\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\n  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\\n  padding:15px;\\n  border-radius:10px;\\n  border:1px solid #cccccc;\\n  bottom:12px;\\n  left:-50px;\\n}\\n.ol-popup:after, .ol-popup:before{\\n  top:100%;\\n  border:solid transparent;\\n  content:\\\" \\\";\\n  height:0;\\n  width:0;\\n  position:absolute;\\n  pointer-events:none;\\n}\\n.ol-popup:after{\\n  border-top-color:white;\\n  border-width:10px;\\n  left:48px;\\n  margin-left:-10px;\\n}\\n.ol-popup:before{\\n  border-top-color:#cccccc;\\n  border-width:11px;\\n  left:48px;\\n  margin-left:-11px;\\n}\\n.ol-popup-closer{\\n  text-decoration:none;\\n  position:absolute;\\n  top:2px;\\n  right:8px;\\n}\\n.ol-popup-closer:after{\\n  content:\\\"\\\";\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/testmap/testmap.component.css\n// module id = 880\n// module chunks = 0","module.exports = \"<!--<app-testmap #mapComp [applicationMode]=\\\"currentAppMode\\\"></app-testmap>\\r\\n<app-routetest [mapComponentRef] = mapComp *ngIf=\\\"currentAppMode && currentAppMode.showDemoRoute\\\"></app-routetest>\\r\\n-->\\r\\n\\r\\n\\r\\n<app-editablemap #mapComp\\r\\n  [applicationMode]=\\\"currentAppMode\\\"\\r\\n  [currentFloor]=\\\"currentFloor\\\"\\r\\n  [poiTypes]=\\\"poiTypes\\\"\\r\\n  [currentPoiType]=\\\"currentPoiType\\\"\\r\\n  [beaconEditMode]=\\\"beaconEditMode\\\"\\r\\n  [setBeaconSignals]=\\\"beaconSignals\\\">\\r\\n</app-editablemap>\\r\\n<app-floorselector (currentFloorEvt)=\\\"floorChanged($event)\\\"></app-floorselector>\\r\\n<app-modeselector (currentAppModeEvt)=\\\"appModeChanged($event)\\\"></app-modeselector>\\r\\n<app-poiselector (currentSelectedPoiEvt)=\\\"currentPoiTypeChanged($event)\\\"\\r\\n                  (poiTypeReceivedEvt)=\\\"PoiTypesReceived($event)\\\"\\r\\n                  *ngIf=\\\"showPoiSelector\\\"></app-poiselector>\\r\\n<app-beaconmodeselector (currentSelectedModeEvt)=\\\"beaconEditModeChanged($event)\\\"\\r\\n                  *ngIf=\\\"showBeaconEditModeSelector\\\"></app-beaconmodeselector>\\r\\n<app-beaconconnector (updateSignalsEvent)=\\\"beaconSignalsChanged($event)\\\">\\r\\n  </app-beaconconnector>\\r\\n<!--\\r\\n<md-toolbar class = \\\"header-toolbar\\\">\\r\\n  <span>Medcampus</span>\\r\\n\\r\\n  <span class=\\\"app-toolbar-filler\\\"></span>\\r\\n\\r\\n  <app-roomsearchmd></app-roomsearchmd>\\r\\n\\r\\n</md-toolbar>\\r\\n-->\\r\\n<!--\\r\\n<md-toolbar>\\r\\n  TestToolbar\\r\\n</md-toolbar>\\r\\n\\r\\n\\r\\n\\r\\n<md-card>\\r\\n  <p>Last dialog result: {{lastDialogResult}}</p>\\r\\n  <button md-icon-button (click)=\\\"openDialog()\\\">\\r\\n     <md-icon>navigation</md-icon>\\r\\n  </button>\\r\\n</md-card>\\r\\n-->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 882\n// module chunks = 0","module.exports = \"<div class=\\\"positionindicator\\\" *ngIf=\\\"isActive\\\" >\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 0\\\" ><md-icon>location_disabled</md-icon></button>\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 1\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>location_searching</md-icon></button>\\n  <button md-mini-fab class=\\\"positionbutton\\\" *ngIf=\\\"positionStatus == 2\\\" (click)=\\\"scanButtonClickedPosition()\\\"><md-icon>gps_fixed</md-icon></button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconconnector/beaconconnector.component.html\n// module id = 883\n// module chunks = 0","module.exports = \"<div class=\\\"dialogDiv\\\">\\n  <input type=\\\"hidden\\\" tabindex=\\\"0\\\" autofocus/>\\n\\n  <div>\\n    <h2>\\n      Beacon\\n    </h2>\\n    <input class=\\\"idInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Id...\\\" mdInput [formControl]=\\\"macInputVal\\\" readonly>\\n\\n    <input class=\\\"nameInput\\\" autocomplete=\\\"off\\\" placeholder=\\\"Name...\\\" mdInput [formControl]=\\\"nameInputVal\\\" readonly>\\n\\n    <input class=\\\"batteryOutput\\\" autocomplete=\\\"off\\\" placeholder=\\\"battery...\\\" mdInput [formControl]=\\\"batteryOutputVal\\\" readonly>\\n\\n  </div>\\n\\n  <div class='navigateDiv'>\\n    <button class='ScanButton' (click)=\\\"scan()\\\" md-button>\\n      <span>Scan...</span>\\n    </button>\\n  </div>\\n\\n  <table class=\\\"controlButtonTable\\\">\\n    <tr>\\n      <td>\\n        <button class='NavigateButton' (click)=\\\"closeDialog()\\\" md-button>\\n          <span>Cancel</span>\\n        </button>\\n      </td>\\n      <td >\\n        <div class='ControlButtonSpacer'>\\n        </div>\\n      </td>\\n      <td>\\n        <button class='NavigateButton' (click)=\\\"save()\\\" [disabled]=\\\"okButtonDisabled\\\" md-button>\\n          <span>Ok</span>\\n        </button>\\n      </td>\\n    </tr>\\n  </table>\\n\\n  <button class='closeDialogButton' (click)=\\\"closeDialog()\\\" md-button>\\n    <md-icon>close</md-icon>\\n  </button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beacondialog/beacondialog.component.html\n// module id = 884\n// module chunks = 0","module.exports = \"<div class=\\\"modecontrol\\\" *ngIf=\\\"showControl\\\">\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"modecontrolmenubutton\\\">\\n     <span class=\\\"modecontrolmenutext\\\">{{selectedMode.name}}</span>\\n  </button>\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\n    <button md-menu-item *ngFor=\\\"let mode of modes\\\" (click)=\\\"onSelect(mode)\\\" class=\\\"modecontrolmenubutton\\\">\\n      <span class=\\\"modecontrolmenutext\\\">{{mode.name}}</span>\\n    </button>\\n  </md-menu>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/beaconmodeselector/beaconmodeselector.component.html\n// module id = 885\n// module chunks = 0","module.exports = \"<div id=\\\"map\\\" class=\\\"map\\\">\\n\\n  <div #beaconPopups>\\n    <div *ngFor=\\\"let overlay of beaconOverlays\\\">\\n      <div  class=\\\"beacon-ol-popup\\\">\\n        <div class=\\\"beacon-popup-content\\\"><span class=\\\"beacon-popup-content-span\\\"></span></div>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\\n<!--\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">-->\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\n<!--    <div id=\\\"popup-content\\\">Hi!..........</div>\\n</div> -->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/editablemap/editablemap.component.html\n// module id = 886\n// module chunks = 0","module.exports = \"<div class=\\\"floorselector\\\" *ngIf=\\\"selectedFloor\\\">\\r\\n\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menufloors\\\" class=\\\"floormenu\\\">\\r\\n     <md-icon class=\\\"floormenuIcon\\\">layers</md-icon><span>{{selectedFloor.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menufloors=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let floor of floorList\\\" (click)=\\\"onSelect(floor)\\\" class=\\\"floormenutext\\\">{{floor.name}}</button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/floorselector/floorselector.component.html\n// module id = 887\n// module chunks = 0","module.exports = \"<div class=\\\"modeselector\\\">\\n  <!--\\n  <md-button-toggle-group #group=\\\"mdButtonToggleGroup\\\" (change)=\\\"modechanged()\\\">\\n    <table>\\n      <tr *ngFor=\\\"let mode of modes\\\">\\n        <td>\\n          <md-button-toggle (change)=\\\"modechanged(mode)\\\">\\n            {{mode.name}}\\n          </md-button-toggle>\\n        </td>\\n      </tr>\\n  </table>\\n</md-button-toggle-group>\\n-->\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuApplicationmodes\\\" class=\\\"modemenu\\\">\\n     <md-icon>more_vert</md-icon><span>{{currentAppMode.name}}</span>\\n  </button>\\n  <md-menu #menuApplicationmodes=\\\"mdMenu\\\">\\n       <button md-menu-item  *ngFor=\\\"let mode of modes\\\" (click)=\\\"modechanged(mode)\\\">{{mode.name}}</button>\\n  </md-menu>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/modeselector/modeselector.component.html\n// module id = 888\n// module chunks = 0","module.exports = \"<div class=\\\"poicontrol\\\" *ngIf=\\\"showControl\\\">\\r\\n  <button md-raised-button [mdMenuTriggerFor]=\\\"menuselectcontrol\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n     <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{selectedPoiType.iconurl}}\\\" alt=\\\"{{selectedPoiType.name}}\\\"><span class=\\\"poicontrolmenutext\\\">{{selectedPoiType.name}}</span>\\r\\n  </button>\\r\\n  <md-menu #menuselectcontrol=\\\"mdMenu\\\">\\r\\n    <button md-menu-item *ngFor=\\\"let poi of pois\\\" (click)=\\\"onSelect(poi)\\\" class=\\\"poicontrolmenubutton\\\">\\r\\n      <img class=\\\"poicontrolmenuIcon\\\" src=\\\"{{poi.iconurl}}\\\" alt=\\\"{{poi.name}}\\\">\\r\\n      <span class=\\\"poicontrolmenutext\\\">{{poi.name}}</span>\\r\\n    </button>\\r\\n  </md-menu>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/poiselector/poiselector.component.html\n// module id = 889\n// module chunks = 0","module.exports = \"\\n<div class=\\\"roomsearch\\\">\\n  <input #searchBox id=\\\"search-box\\\" (keyup)=\\\"search(searchBox.value)\\\"\\n    placeholder=\\\"Suche Raum...\\\" [(ngModel)] = \\\"currentSearchTerm\\\" />\\n  <div>\\n    <div *ngFor=\\\"let room of rooms | async\\\"\\n         (click)=\\\"selectRoom(room)\\\" class=\\\"search-result\\\" >\\n      {{room.name}}\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearch/roomsearch.component.html\n// module id = 890\n// module chunks = 0","module.exports = \"\\n<table>\\n  <tr>\\n    <td>\\n      <i class=\\\"material-icons app-input-icon\\\">search</i>\\n    </td>\\n    <td>\\n      <md-input-container>\\n        <input type=\\\"text\\\" mdInput [formControl]=\\\"term\\\" [mdAutocomplete]=\\\"auto\\\">\\n      </md-input-container>\\n    </td>\\n  </tr>\\n</table>\\n\\n<md-autocomplete #auto=\\\"mdAutocomplete\\\">\\n   <md-option *ngFor=\\\"let room of rooms\\\" [value]=\\\"room.name\\\" (click)=\\\"selectRoom(room)\\\">\\n      {{ room.name }}\\n   </md-option>\\n</md-autocomplete>\\n\\n\\n<!--\\n<i class=\\\"material-icons app-input-icon\\\">search</i>\\n\\n<md-input-container>\\n  <input mdInput #searchBox  placeholder=\\\"Raumsuche\\\" class=\\\"placeholder-white\\\" floatingPlaceholder=true [formControl]=\\\"term\\\">\\n</md-input-container>\\n\\n<div [hidden]=\\\"!showsuggestions\\\">\\n  <div [hidden]=\\\"true\\\">\\n    <button md-raised-button [mdMenuTriggerFor]=\\\"menusearch\\\" class=\\\"floormenu\\\">\\n    </button>\\n  </div>\\n\\n  <md-menu #menusearch=\\\"mdMenu\\\" [hidden]=\\\"!showsuggestions\\\">\\n       <button md-menu-item *ngFor=\\\"let room of rooms\\\" (click)=\\\"selectRoom(room)\\\">{{room.name}}</button>\\n  </md-menu>\\n</div>\\n-->\\n\\n\\n<!--\\n<div class=\\\"suggestions\\\" *ngIf=\\\"rooms.length > 0\\\">\\n    <ul>\\n        <li *ngFor=\\\"let room of rooms\\\">\\n            <a (click)=\\\"selectRoom(room)\\\">{{room.name}}</a>\\n        </li>\\n    </ul>\\n</div>\\n-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/roomsearchmd/roomsearchmd.component.html\n// module id = 891\n// module chunks = 0","module.exports = \"<div class=\\\"routetest\\\">\\n  <button md-raised-button (click)=\\\"toogleroute()\\\" class=\\\"routetestbutton\\\">\\n     <md-icon>directions</md-icon><span></span>\\n  </button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routetest/routetest.component.html\n// module id = 892\n// module chunks = 0","module.exports = \"<!--<p>\\n  testmap works!\\n</p>-->\\n<div id=\\\"map\\\" class=\\\"map\\\">\\n</div>\\n<div id=\\\"roomPopup\\\" #roomPopup class=\\\"ol-popup\\\">\\n    <!--<a href=\\\"#\\\" id=\\\"popup-closer\\\" class=\\\"ol-popup-closer\\\"></a>-->\\n    <div id=\\\"popup-content\\\">Hi!..........</div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/testmap/testmap.component.html\n// module id = 893\n// module chunks = 0"],"sourceRoot":""}