webpackJsonp([0,3],{1110:function(e,t,o){e.exports=o(521)},123:function(e,t,o){"use strict";var n=o(0),r=o(119),i=o(1),a=(o.n(i),o(292)),s=(o.n(a),o(100)),c=(o.n(s),o(82));o.d(t,"a",function(){return d});var p=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},u=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function t(t){e.call(this),this.http=t,this.roomUrl="/geo/rooms/",this.edgeUrl="/geo/edges/"}return p(t,e),t.prototype.getRoomMap=function(e){return this.http.get(this.roomUrl).map(this.extractData).catch(this.handleError)},t.prototype.addEdge=function(e,t,o,n){var i=new r.c({"Content-Type":"application/json"}),a=new r.d({headers:i}),s={source:e,destination:t,path:JSON.stringify(n),length:o};return console.log("Send Edge: "+JSON.stringify(s)),this.http.post(this.edgeUrl,s,a).map(this.extractDataAdd).catch(this.handleError)},t.prototype.deleteEdge=function(e){var t=new r.c({"Content-Type":"application/json"}),o=new r.d({headers:t});return this.http.delete(this.edgeUrl+e+"/",o)},t.prototype.updateEdge=function(e){var t=new r.c({"Content-Type":"application/json"}),o=new r.d({headers:t});return console.log("Update Edge: "+JSON.stringify(e)),this.http.put(this.edgeUrl+e.id+"/",e,o).map(this.extractDataAdd).catch(this.handleError)},t.prototype.extractData=function(e){var t=e.json();return console.log("RESPONSE DATA: "+JSON.stringify(t)),t.results||{}},t.prototype.extractDataAdd=function(e){var t=e.json();return console.log("RESPONSE DATA: "+JSON.stringify(t)),t||{}},t.prototype.handleError=function(e){var t;if(e instanceof r.e){var o=e.json()||"",n=o.error||JSON.stringify(o);t=e.status+" - "+(e.statusText||"")+" "+n}else t=e.message?e.message:e.toString();return console.error("handleError: "+t),i.Observable.throw(t)},t=u([o.i(n.R)(),l("design:paramtypes",["function"==typeof(a="undefined"!=typeof r.a&&r.a)&&a||Object])],t);var a}(c.a)},179:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return i});var n;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EDIT_EDGES=1]="EDIT_EDGES",e[e.EDIT_PATHS=2]="EDIT_PATHS"}(n||(n={}));var r=function(){function e(e,t,o){this.mode=e,this.name=t,this.showDemoRoute=o}return e.CreateDefault=function(){return new e(n.DEFAULT,"Default",!0)},e}(),i=[r.CreateDefault(),new r(n.EDIT_EDGES,"EditEdges",!1),new r(n.EDIT_PATHS,"EditPaths",!1)]},180:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=!1},442:function(e,t,o){"use strict";var n=o(0),r=o(82),i=o(123),a=o(180),s=o(179),c=o(681),p=o(680),u=o(679);o.d(t,"a",function(){return y});var l=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(e,t){this.mapServiceHttp=e,this.mapService=t,this._applicationMode=s.a.CreateDefault(),this.testString="Hi"}return e.prototype.ngAfterViewInit=function(){var e=this;console.log("INIT!!!"),a.a&&(this.mapService=this.mapServiceHttp),this.testString+=".................",this.loadPOIs(),this.loadBaseMap(),this.createOverlay(),this.routemap=new c.a,this.routemap.Initialize(),this.roommap=new p.a,this.roommap.Initialize(this.navigationmap),this.navigationmap=new u.a(this.mapService),this.navigationmap.Initialize(),this.select=new ol.interaction.Select({wrapX:!1,layers:function(t){return e.allowOLSelection(t)}}),this.modify=new ol.interaction.Modify({features:this.select.getFeatures()});var t=[0,0,51200,25600];new ol.proj.Projection({code:"static-image",units:"pixels",imageExtent:t});this.map=new ol.Map({controls:ol.control.defaults({attributionOptions:{collapsible:!0},zoom:!1}),interactions:ol.interaction.defaults().extend([this.select,this.modify]),layers:[new ol.layer.Tile({source:new ol.source.OSM}),this.poiLayer,this.baseMapLayer,this.routemap.getRouteLayer(),this.routemap.getHiddenRouteLayer(),this.roommap.getRoomLayer(),this.navigationmap.getEdgeLayer(),this.navigationmap.getEdgePathLayer()],overlays:[this.roomOverlay],target:"map",view:new ol.View({projection:"EPSG:900913",center:ol.proj.fromLonLat([15.47,47.0805]),zoom:18,maxZoom:22,minZoom:1})}),this.map.on("click",function(t){return e.mapClicked(t)}),this.map.on("pointermove",function(t){return e.mapMouseMoved(t)}),this.mapService.getRoomMap(0).subscribe(function(t){return e.showRooms(t)}),this.mapService.getNavigationEdges(0).subscribe(function(t){return e.showNavigationEdges(t)})},e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"applicationMode",{set:function(e){if(this._applicationMode=e,this.select){var t=this.select.getFeatures();t.clear()}console.log("TestmapComponent::Set applicationMode - New App Mode: "+this._applicationMode.name)},enumerable:!0,configurable:!0}),e.prototype.allowOLSelection=function(e){return!(!e.get("isSelectable")||this._applicationMode.mode!=s.b.EDIT_PATHS)},e.prototype.loadPOIs=function(){var e=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([15.470230579376215,47.0812626175388])),name:"Test Point",description:"dummy description"}),t=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"assets/testicon.png"})});e.setStyle(t);var o=new ol.source.Vector({features:[e]});this.poiLayer=new ol.layer.Vector({source:o})},e.prototype.loadBaseMap=function(){var e=this,t={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722183.8736183767,5955368.127460353],[1722202.0871290227,5955358.871413959],[1722195.2197397628,5955345.435217581]]]}}]};this.baseMapVectorSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(t)});var o=function(e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"red",width:1}),fill:new ol.style.Fill({color:"rgba(255,0,0,0.1)"})})};this.baseMapLayer=new ol.layer.Vector({source:this.baseMapVectorSource,style:o}),this.mapService.getBaseMap(0).then(function(t){return e.updateBaseMap(t)})},e.prototype.updateBaseMap=function(e){this.baseMapVectorSource.clear(),this.baseMapVectorSource.addFeatures((new ol.format.GeoJSON).readFeatures(e))},e.prototype.createOverlay=function(){this.roomPopup=document.getElementById("roomPopup"),console.log(this.roomPopup),this.roomOverlay=new ol.Overlay({element:this.roomPopup,autoPan:!0,autoPanAnimation:{duration:250}})},e.prototype.showRoute=function(e){this.routemap.showRoute(e)},e.prototype.hideRoute=function(){this.routemap.hideRoute()},e.prototype.showRooms=function(e){this.roommap.showRooms(e)},e.prototype.showNavigationEdges=function(e){this.navigationmap.showEdges(e)},e.prototype.mapMouseMoved=function(e){if(!e.dragging){var t=this.map.getEventPixel(e.originalEvent);this.roommap.mouseMoved(t,this.map)}},e.prototype.mapClicked=function(e){ol.proj.transform(e.coordinate,"EPSG:3857","EPSG:4326");console.log("Coord Org: "+e.coordinate+" strg: "+e.originalEvent.ctrlKey),e.originalEvent.ctrlKey?this.roommap.mouseClickedCtrl(e.coordinate,this.map):e.originalEvent.altKey?this.roommap.mouseClickedAlt(e.coordinate,this.map):this.roommap.mouseClicked(e.coordinate,this.map);e.coordinate},l([o.i(n.B)(),d("design:type","function"==typeof(t="undefined"!=typeof s.a&&s.a)&&t||Object),d("design:paramtypes",["function"==typeof(y="undefined"!=typeof s.a&&s.a)&&y||Object])],e.prototype,"applicationMode",null),e=l([o.i(n.G)({selector:"app-testmap",template:o(849),styles:[o(842)]}),o.i(n.R)(),d("design:paramtypes",["function"==typeof(f="undefined"!=typeof i.a&&i.a)&&f||Object,"function"==typeof(g="undefined"!=typeof r.a&&r.a)&&g||Object])],e);var t,y,f,g}()},520:function(e,t){function o(e){throw new Error("Cannot find module '"+e+"'.")}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=520},521:function(e,t,o){"use strict";var n=o(683),r=(o.n(n),o(645)),i=o(0),a=o(682),s=o(666);a.a.production&&o.i(i._37)(),o.i(r.a)().bootstrapModule(s.a)},665:function(e,t,o){"use strict";var n=o(0),r=o(256),i=o(179);o.d(t,"a",function(){return p}),o.d(t,"b",function(){return u});var a=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},p=function(){function e(e){this._dialog=e,this.currentAppMode=i.a.CreateDefault()}return e.prototype.ngOnInit=function(){},e.prototype.openDialog=function(){var e=this,t=this._dialog.open(u);t.afterClosed().subscribe(function(t){e.lastDialogResult=t})},e.prototype.sayHi=function(){console.info("Hi")},e.prototype.appModeChanged=function(e){console.log("AppComponent --- appModeChanged: "+e.name),this.currentAppMode=e},e=a([o.i(n.G)({selector:"app-root",template:o(843),styles:[o(836)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.a&&r.a)&&t||Object])],e);var t}(),u=function(){function e(e){this.dialogRef=e}return e=a([o.i(n.G)({template:'\n    <p>This is a dialog</p>\n    <p>\n      <label>\n        This is a text box inside of a dialog.\n        <input #dialogInput>\n      </label>\n    </p>\n    <p> <button md-button (click)="dialogRef.close(dialogInput.value)">CLOSE</button> </p>\n  '}),c(0,o.i(n.x)()),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.b&&r.b)&&t||Object])],e);var t}()},666:function(e,t,o){"use strict";var n=o(67),r=o(0),i=o(34),a=o(119),s=o(256),c=o(82),p=o(123),u=o(668),l=o(665),d=o(442),y=o(676),f=o(667),g=o(677),m=o(678),h=o(675);o.d(t,"a",function(){return b});var S=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function e(){}return e=S([o.i(r.I)({declarations:[l.a,l.b,d.a,y.a,f.a,g.a,m.a,h.a],imports:[n.e,i.b,a.b,i.e,s.d.forRoot()],providers:[c.a,u.a,p.a],entryComponents:[l.b],bootstrap:[l.a]}),v("design:paramtypes",[])],e)}()},667:function(e,t,o){"use strict";var n=o(0),r=o(82);o.d(t,"a",function(){return s});var i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.mapService=e,this.floorList=[]}return e.prototype.ngOnInit=function(){var e=this;this.mapService.getFloors().then(function(t){return e.updateFloors(t)})},e.prototype.onSelect=function(e){this.selectedFloor=e,console.log("Floor: "+e)},e.prototype.updateFloors=function(e){this.floorList=e,this.floorList.length>0&&(this.selectedFloor=this.floorList[0])},e=i([o.i(n.G)({selector:"app-floorselector",template:o(844),styles:[o(837)]}),a("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.a&&r.a)&&t||Object])],e);var t}()},668:function(e,t,o){"use strict";var n=o(0);o.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){}return e.prototype.showRoute=function(e){},e.prototype.hideRoute=function(){},e=r([o.i(n.R)(),i("design:paramtypes",[])],e)}()},669:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[1722148.7179484894,5955311.036092768],[1722146.0740319043,5955305.806638332]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722145.4393780732,5955304.280772133],[1722144.3102046154,5955302.047357817]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722156.5486399394,5955306.256258198],[1722151.3915498806,5955308.863588676],[1722127.931174513,5955262.460852391]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722139.866233931,5955310.209756394],[1722112.6978673185,5955256.472911546],[1722122.082911084,5955251.728004948],[1722126.076234266,5955259.626477143]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722143.3116983555,5955300.0385739],[1722142.058591478,5955297.560029245]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722141.0532015797,5955295.537624686],[1722140.1856665525,5955293.821710152]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722139.173541809,5955291.819808783],[1722138.5469889154,5955290.580537533]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722137.9410912285,5955289.382120622],[1722137.6381423848,5955288.782912167]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722137.0186251472,5955287.591381051],[1722135.9514194895,5955285.480534063]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722134.9747857354,5955283.785578792],[1722133.7629903613,5955281.38874497]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722133.1843296185,5955280.176557558],[1722132.4613843076,5955278.7466298565]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722139.9914304577,5955310.161206596],[1722140.1936529577,5955310.058966596],[1722140.4127388278,5955310.492300833],[1722145.1408928542,5955308.101832573]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722138.038594267,5955306.179079759],[1722144.6830496874,5955302.819764539]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722135.7410594842,5955301.730400836],[1722142.4240331678,5955298.351611486]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722133.8325794842,5955297.955580836],[1722140.6118477474,5955294.528106706]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722132.0015660073,5955294.238323232],[1722138.703797744,5955290.849797362]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722129.6365151408,5955289.799595839],[1722136.415785561,5955286.372120619]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722133.3726029575,5955287.862334096],[1722134.7650136072,5955290.616410413],[1722137.846498397,5955289.058468022]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722125.925588397,5955282.220528022],[1722132.5507836072,5955278.870950413]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722130.610817744,5955278.860292363],[1722131.0295153542,5955279.688442573]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722129.8911294772,5955277.628127148],[1722129.3945353474,5955276.645903885]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722129.6667453507,5955277.088653229],[1722124.6400720875,5955279.630047359]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722128.7129353473,5955275.297753885],[1722127.9437012174,5955273.776270622]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722128.4004860038,5955274.488433889],[1722123.3738127407,5955277.0298280185]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722127.1545618705,5955272.119756282],[1722123.4154994807,5955264.724191493],[1722118.4273444808,5955267.246111493]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722122.9784653473,5955261.946553886],[1722122.3942370876,5955260.790997359]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722121.7710594772,5955259.558402149],[1722121.6055288278,5955259.230995833],[1722115.7507053544,5955262.191087573]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722127.1905355575,5955262.863966276],[1722132.5831355576,5955260.137566276]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722130.9798149837,5955257.121846492],[1722129.8506415258,5955254.888432178],[1722147.2821563147,5955246.075376894],[1722148.5490336933,5955248.581158493]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722132.440085313,5955260.145429773],[1722155.9048458226,5955306.556839516]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722157.3645080356,5955309.443934019],[1722183.225318291,5955360.594537519],[1722200.6542708513,5955351.758591575],[1722199.753565157,5955349.929230013]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722198.3537092782,5955347.160432989],[1722149.8819030395,5955251.287097337]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722149.8819030395,5955251.287097337],[1722157.9541226493,5955247.205930637],[1722176.3699033493,5955283.6308642505],[1722193.5491868227,5955274.94533251],[1722186.3826503032,5955260.770499457],[1722191.3130268299,5955258.277791197],[1722196.2594950895,5955268.061507724],[1722205.8120998794,5955263.2318853345],[1722168.4604198795,5955189.353265335],[1722158.9078150897,5955194.182887725],[1722162.8026726998,5955201.886602934],[1722157.3330361731,5955204.651951194],[1722157.3330361731,5955204.651951194],[1722141.2322726997,5955212.792202935],[1722157.16223857,5955244.300394671]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722148.5398468156,5955248.562987588],[1722157.1232892193,5955244.223355988]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722190.0277233494,5955255.7355642505],[1722185.405495086,5955258.07247838],[1722175.3567644365,5955238.196897064],[1722179.9789926999,5955235.859982935]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722174.0333716231,5955235.770658151],[1722159.5055540127,5955207.035802942],[1722164.2048209596,5955204.659939461],[1722178.73263857,5955233.394794671]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.73263857,5955233.394794671],[1722174.0333716231,5955235.770658151]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722140.357013393,5955310.382080402],[1722137.3386845773,5955311.908092286],[1722149.897288901,5955336.748001939],[1722162.2627709177,5955330.496240233],[1722152.788735943,5955311.757360757],[1722157.3645080356,5955309.443934019]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722149.8477756688,5955313.381052751],[1722152.8438179474,5955311.866308534]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722130.9622755072,5955257.087154819],[1722126.0484391632,5955259.571500665]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722207.7633137836,5955345.9158264045],[1722221.7069020541,5955373.495122952],[1722239.1943337908,5955364.653797083],[1722221.04429965,5955328.754488798],[1722203.5568679133,5955337.595814668],[1722206.3222161732,5955343.065451194]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722207.7209011305,5955345.927597744],[1722199.706457837,5955349.9795537945]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722206.2832679134,5955342.988414668],[1722198.2880848302,5955347.030633107]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722049.4669066695,5955131.340529937],[1722049.1639491015,5955130.741304225],[1722061.3660094535,5955124.572165527],[1722075.6788024392,5955152.881719317],[1722072.9488957562,5955154.261910242],[1722091.4299879135,5955190.816024668]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722093.0649668297,5955193.858561198],[1722105.4895609596,5955218.433409461],[1722095.9369561698,5955223.263031851],[1722080.8249113904,5955193.372622271],[1722078.1671296537,5955194.7163481405],[1722075.5186261733,5955189.477821194]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722074.0775296537,5955186.627448141],[1722068.3910335512,5955175.380016039],[1722071.0488152879,5955174.03629017],[1722051.0292526896,5955134.439204904]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722051.0292526896,5955134.439204904],[1722042.863314006,5955138.567754255]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722049.4669066695,5955131.340529937],[1722041.220516865,5955135.509753904]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722075.5186261733,5955189.477821194],[1722069.927088845,5955192.304800271]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722074.0775296537,5955186.627448141],[1722068.4587553814,5955189.468197719]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722097.6015840345,5955191.372955843],[1722107.1307010136,5955210.220783096],[1722124.72563531,5955201.325105896],[1722115.2516003351,5955182.5862264205]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722096.2266244434,5955188.632755751],[1722079.9461231441,5955156.431233118],[1722097.587630091,5955147.512009638],[1722113.90707965,5955179.790568798]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722093.0649668297,5955193.858561198],[1722097.6788840177,5955191.525848996]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722096.2266244434,5955188.632755751],[1722091.5080994435,5955191.018355751],[1722091.4107277032,5955190.825762278]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722123.1670161732,5955178.591151194],[1722130.7035644331,5955193.49783772],[1722148.229514433,5955184.6370377205],[1722138.005514433,5955164.414787721],[1722120.479564433,5955173.275587721],[1722121.6674961732,5955175.625221194]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722115.2543441842,5955182.591653532],[1722123.1670161732,5955178.591151194]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722113.90707965,5955179.790568798],[1722121.84190444,5955175.778866407]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722204.85786097,5955261.344477491],[1722195.3052561802,5955266.174099881]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722194.6203413904,5955259.749362271],[1722202.13146097,5955255.951877492]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722193.0157085734,5955254.853634014],[1722199.8334951,5955251.406685755]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722191.0691403067,5955251.194798801],[1722197.9639633598,5955247.708902282]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722188.829597917,5955246.765164011],[1722195.72442097,5955243.279267492]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722186.3771279065,5955242.20135598],[1722193.3875057495,5955238.657037071]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722184.2730444332,5955237.848327721],[1722191.2063857496,5955234.342957071]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722179.3642344433,5955227.85211575],[1722181.370085093,5955231.819527067],[1722188.1878716196,5955228.372578808]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.2355861766,5955225.811060538],[1722176.9892320468,5955223.345872275]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722176.034130963,5955221.2654388035],[1722175.1383144434,5955219.49358575]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722174.125650963,5955217.490618804],[1722172.918245093,5955215.102467068]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722171.8480203066,5955213.176968801],[1722170.9132544366,5955211.328077064]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722169.9200661767,5955209.363630538],[1722168.6347626965,5955206.821403591]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722167.6610485665,5955204.895475327],[1722166.8041803066,5955203.200658801]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722165.7915179168,5955201.197694011],[1722165.3630826965,5955200.350283591],[1722172.2579057496,5955196.864387072]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722163.9768455203,5955201.147870534],[1722162.7442503101,5955201.771048144]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722167.2326144367,5955204.048067064],[1722174.1274374898,5955200.562170545]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722169.5695285664,5955208.670295327],[1722176.4643516196,5955205.184398808]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722171.4390603066,5955212.368078801],[1722178.3338833598,5955208.882182281]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722173.7945885733,5955216.8358040145],[1722180.6123751,5955213.388855755]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722175.6251709631,5955220.4565488035],[1722182.4429574898,5955217.009600544]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722177.8655744365,5955225.079207064],[1722184.7603974896,5955221.593310544]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722182.6026803032,5955231.196349458],[1722182.9921661732,5955231.966721195]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722183.5954385665,5955233.064285328],[1722184.4328326965,5955234.720583591]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722187.6806144365,5955244.492567064],[1722189.105800963,5955243.772018804],[1722187.9178692228,5955241.42238533]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722188.9066344434,5955246.726215751],[1722189.099227917,5955246.628844012]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722190.3083527067,5955249.403041622],[1722191.5352327067,5955251.829711622]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722189.2376968332,5955247.381030541],[1722188.867685093,5955246.649177067]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722192.5102379168,5955254.045174011],[1722193.3671061767,5955255.739990538]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722194.456805093,5955257.704007067],[1722195.3136744434,5955259.398825751]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722160.40733618,5955197.1488198815],[1722169.95994097,5955192.319197492]]}}]}},670:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=["UG1","EG","OG1","OG2","OG3","OG4","OG5"]},671:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.9470130377,5955230.595548892],[1722198.6534343925,5955261.05092735]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.9470130377,5955230.595548892],[1722197.1605236838,5955255.82573987]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.9470130377,5955230.595548892],[1722193.428246912,5955247.465439901]]}},{type:"Feature",geometry:{type:"LineString",coordinates:[[1722178.9470130377,5955230.595548892],[1722191.9353362035,5955242.389543491]]}}]}},672:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722195.294385298,5955266.126823761],[1722204.811691066,5955261.3495094925],[1722202.1244517902,5955255.975030941],[1722192.6071460224,5955260.90163628]]]},properties:{id:12}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722192.6071460224,5955260.789667975],[1722195.294385298,5955259.40872557],[1722165.3988483562,5955200.401429811],[1722162.7116090807,5955201.782372216]]]},properties:{id:13}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722195.3317080657,5955259.371402803],[1722202.1244517902,5955255.975030941],[1722199.8104401918,5955251.421653279],[1722192.9430509317,5955254.892670677]]]},properties:{id:14}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722192.9430509321,5955254.85534791],[1722199.810440192,5955251.42165328],[1722198.0189473415,5955247.764022043],[1722191.226203617,5955251.123071138]]]},properties:{id:53}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722191.188880849,5955251.197716672],[1722197.9443018057,5955247.726699274],[1722195.667612975,5955243.322612683],[1722188.9121920182,5955246.718984546]]]},properties:{id:198}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[1722188.9121920182,5955246.756307315],[1722195.7049357428,5955243.285289917],[1722193.3909241443,5955238.694589488],[1722187.9418000574,5955241.4191515315],[1722189.1361286244,5955243.807808666],[1722187.6432179157,5955244.516941252]]]},properties:{id:289}}]}},673:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=[{id:11,name:"Hörsaal 1",floor:-1},{id:12,name:"Hörsaal 2",floor:-1},{id:13,name:"Hörsaal 3",floor:0},{id:14,name:"WC",floor:1},{id:15,name:"Besprechungsraum A1",floor:-1},{id:16,name:"Besprechungsraum A2",floor:-1},{id:17,name:"Besprechungsraum A3",floor:5},{id:18,name:"Besprechungsraum A4",floor:-1},{id:19,name:"Besprechungsraum B1",floor:-1},{id:20,name:"Besprechungsraum B2",floor:-1}]},674:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=[{layer:0,geojson:{type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[1722152.223911352,5955326.29112532],[1722145.0579399504,5955313.899966438],[1722166.107980943,5955304.046755761],[1722139.0862971158,5955254.482120233]]}}]}},{layer:1,geojson:{type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[1722139.0862971158,5955254.482120233],[1722166.8544362977,5955241.643088137],[1722173.7218255575,5955263.887457697],[1722191.9353362035,5955256.721486296],[1722188.053768361,5955249.256932751],[1722193.1296647706,5955247.1668577595]]}}]}}]},675:function(e,t,o){"use strict";var n=o(0),r=o(179);o.d(t,"a",function(){return s});var i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),
a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.modes=r.c,this.currentAppMode=r.a.CreateDefault(),this.currentAppModeEvt=new n._20}return e.prototype.ngOnInit=function(){},e.prototype.modechanged=function(e){this.currentAppMode=e,this.currentAppModeEvt.emit(this.currentAppMode)},i([o.i(n.C)(),a("design:type",Object)],e.prototype,"currentAppModeEvt",void 0),e=i([o.i(n.G)({selector:"app-modeselector",template:o(845),styles:[o(838)]}),a("design:paramtypes",[])],e)}()},676:function(e,t,o){"use strict";var n=o(0),r=o(1),i=(o.n(r),o(7)),a=(o.n(i),o(82)),s=o(123),c=o(180);o.d(t,"a",function(){return l});var p=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.mapServiceHttp=e,this.mapService=t,this.searchTerms=new i.Subject,this.currentSearchTerm=""}return e.prototype.ngOnInit=function(){var e=this;c.a&&(this.mapService=this.mapServiceHttp),this.rooms=this.searchTerms.debounceTime(300).distinctUntilChanged().switchMap(function(t){return t?e.mapService.searchRoom(t):r.Observable.of([])}).catch(function(e){return console.log(e),r.Observable.of([])})},e.prototype.search=function(e){this.searchTerms.next(e)},e.prototype.selectRoom=function(e){console.log("Select Room: "+e.id+"#"+e.name),this.currentSearchTerm="",this.searchTerms.next(this.currentSearchTerm)},e=p([o.i(n.G)({selector:"app-roomsearch",template:o(846),styles:[o(839)]}),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.a&&s.a)&&t||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],e);var t,l}()},677:function(e,t,o){"use strict";var n=o(0),r=o(34),i=o(7),a=(o.n(i),o(256)),s=o(82),c=o(123),p=o(180);o.d(t,"a",function(){return d});var u=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){this.mapServiceHttp=e,this.mapService=t,this.showsuggestions=!1,this.searchTerms=new i.Subject,this.currentSearchTerm="",this.term=new r.d}return e.prototype.ngOnInit=function(){var e=this;p.a&&(this.mapService=this.mapServiceHttp),this.term.valueChanges.debounceTime(400).distinctUntilChanged().flatMap(function(t){return e.mapService.searchRoom(t)}).subscribe(function(t){return e.searchResults(t)})},e.prototype.searchResults=function(e){console.log("searchResults: "),this.rooms=e,this.showsuggestions=this.rooms.length>0,console.log("Showsuggestions: "+this.showsuggestions),this.rooms.length>0&&this.trigger.openMenu()},e.prototype.log=function(e){console.log("log: "+e)},e.prototype.selectRoom=function(e){console.log("Select Room: "+e.id+"#"+e.name),this.currentSearchTerm="",this.searchTerms.next(this.currentSearchTerm)},u([o.i(n._1)(a.c),l("design:type","function"==typeof(t="undefined"!=typeof a.c&&a.c)&&t||Object)],e.prototype,"trigger",void 0),e=u([o.i(n.G)({selector:"app-roomsearchmd",template:o(847),styles:[o(840)]}),l("design:paramtypes",["function"==typeof(d="undefined"!=typeof c.a&&c.a)&&d||Object,"function"==typeof(y="undefined"!=typeof s.a&&s.a)&&y||Object])],e);var t,d,y}()},678:function(e,t,o){"use strict";var n=o(0),r=o(82),i=o(123),a=o(180),s=o(442);o.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t){this.mapServiceHttp=e,this.mapService=t,this.routeVisible=!1}return e.prototype.ngOnInit=function(){a.a&&(this.mapService=this.mapServiceHttp)},e.prototype.toogleroute=function(){var e=this;console.log("Toogle Route"),this.routeVisible?(this.mapComponentRef.hideRoute(),this.routeVisible=!1):(this.mapService.getRoute().then(function(t){return e.showRoute(t)}),this.mapService.addEdge(14,16,1.123,{type:"LineString",coordinates:[[1722178.9470130377,5955230.595548892],[1722198.6534343925,5955261.05092735]]}).subscribe(function(t){return e.edgeAdded(t)},function(e){return console.log("ERROR: "+e)}))},e.prototype.edgeAdded=function(e){var t=this;console.log("edgeAdded... "+JSON.stringify(e)),e.properties.destination=19,this.mapService.updateEdge(e).subscribe(function(e){return t.edgeUpdated(e)},function(e){return console.log("ERROR: "+e)})},e.prototype.edgeDeleted=function(e){console.log("edgeDeleted... "+JSON.stringify(e))},e.prototype.edgeUpdated=function(e){console.log("edgeUpdated... "+JSON.stringify(e))},e.prototype.showRoute=function(e){this.mapComponentRef.showRoute(e),this.routeVisible=!0},c([o.i(n.B)(),p("design:type","function"==typeof(t="undefined"!=typeof s.a&&s.a)&&t||Object)],e.prototype,"mapComponentRef",void 0),e=c([o.i(n.G)({selector:"app-routetest",template:o(848),styles:[o(841)]}),p("design:paramtypes",["function"==typeof(u="undefined"!=typeof i.a&&i.a)&&u||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object])],e);var t,u,l}()},679:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=function(){function e(e){this.mapService=e,this.isActive=!1,this.selectedRoom=null}return e.prototype.Initialize=function(){var e={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]}}]};this.edgeLayerSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(e)}),this.edgePathLayerSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(e)});var t=function(e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"green",width:1})})},o=function(e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"green",lineDash:[5],width:3})})};this.edgeLayer=new ol.layer.Vector({source:this.edgeLayerSource,style:t}),this.edgePathLayer=new ol.layer.Vector({source:this.edgePathLayerSource,style:o,zIndex:10}),this.edgePathLayer.set("isSelectable",!0)},e.prototype.getEdgeLayer=function(){return this.edgeLayer},e.prototype.getEdgePathLayer=function(){return this.edgePathLayer},e.prototype.addEdge=function(e,t,o,n){var r=this;this.mapService.addEdge(e,t,o,n).subscribe(function(e){return r.updateAddEdge(e)},function(e){return console.log("ERROR: "+e)})},e.prototype.showEdges=function(e){console.log("showRoute called"),this.edgeLayerSource.clear(),this.edgeLayerSource.addFeatures((new ol.format.GeoJSON).readFeatures(e)),this.edgePathLayerSource.clear(),this.edgePathLayerSource.addFeatures((new ol.format.GeoJSON).readFeatures(e))},e.prototype.updateAddEdge=function(e){this.edgeLayerSource.addFeatures(e)},e}()},680:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=function(){function e(){this.isActive=!1,this.featureOverlay=null,this.selectedRoomOverlay=null,this.selectedRoom=null,this.navigationMap=null}return e.prototype.Initialize=function(e){this.navigationMap=e;var t={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]}}]};console.log("Create Room LAYER SOURCE!!!"),this.roomLayerSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(t)});var o=function(e){return new ol.style.Style({fill:new ol.style.Fill({color:"rgba(128,0,255,0.5)"})})};this.roomLayer=new ol.layer.Vector({source:this.roomLayerSource,style:o})},e.prototype.getRoomLayer=function(){return this.roomLayer},e.prototype.showRooms=function(e){this.roomLayerSource.clear(),this.roomLayerSource.addFeatures((new ol.format.GeoJSON).readFeatures(e))},e.prototype.mouseMoved=function(e,t){null===this.featureOverlay&&this.initFeatureOverlay(t);var o=t.forEachFeatureAtPixel(e,function(e){return e});o!==this.highlight&&(this.highlight&&this.featureOverlay.getSource().removeFeature(this.highlight),o&&this.featureOverlay.getSource().addFeature(o),this.highlight=o)},e.prototype.mouseClicked=function(e,t){null!=this.highlight&&(console.log("Select Room: "+this.highlight.getId()+"::"+this.highlight.get("floor")),null==this.selectedRoomOverlay&&this.initSelectedRoomOverlay(t),this.selectedRoom=this.highlight,this.selectedRoomOverlay.getSource().clear(),this.selectedRoomOverlay.getSource().addFeature(this.highlight))},e.prototype.mouseClickedCtrl=function(e,t){null!=this.selectedRoom&&null!=this.highlight&&(console.log("Add Edge: "+this.selectedRoom.getId()+"/"+this.highlight.getId()),this.addEdge(this.selectedRoom,this.highlight))},e.prototype.mouseClickedAlt=function(e,t){},e.prototype.addEdge=function(e,t){var o=e.getId(),n=t.getId();if(o!=n){var r=e.getGeometry().getInteriorPoint().v,i=t.getGeometry().getInteriorPoint().v;console.log("RoomMap::addEdge "+JSON.stringify(r)+"/"+JSON.stringify(i))}},e.prototype.initFeatureOverlay=function(e){console.log("Create Room Featureoverlay"),this.featureOverlay=new ol.layer.Vector({source:new ol.source.Vector,map:e,style:new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:1}),fill:new ol.style.Fill({color:"rgba(255,0,0,0.8)"})})})},e.prototype.initSelectedRoomOverlay=function(e){this.selectedRoomOverlay=new ol.layer.Vector({source:new ol.source.Vector,map:e,style:new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:1}),fill:new ol.style.Fill({color:"rgba(0,128,255,0.8)"})})})},e}()},681:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=function(){function e(){this.isActive=!1}return e.prototype.Initialize=function(){var e={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:3857"}},features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]}}]};console.log("Create Route LAYER SOURCE!!!"),this.routeLayerSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(e)}),this.routeLayerSourceHidden=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(e)});var t=function(e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"blue",lineDash:[5],width:2})})},o=function(e){return new ol.style.Style({stroke:new ol.style.Stroke({color:"blue",width:2})})};this.routeLayer=new ol.layer.Vector({source:this.routeLayerSource,style:t}),this.routeLayerHidden=new ol.layer.Vector({source:this.routeLayerSourceHidden,style:o})},e.prototype.getRouteLayer=function(){return this.routeLayer},e.prototype.getHiddenRouteLayer=function(){return this.routeLayerHidden},e.prototype.showRoute=function(e){console.log("showRoute called"),this.routeLayerSource.clear(),this.routeLayerSourceHidden.clear();for(var t=0;t<e.length;t++)0==e[t].layer?this.routeLayerSource.addFeatures((new ol.format.GeoJSON).readFeatures(e[t].geojson)):this.routeLayerSourceHidden.addFeatures((new ol.format.GeoJSON).readFeatures(e[t].geojson))},e.prototype.hideRoute=function(){console.log("hideRoute called"),this.routeLayerSource.clear(),this.routeLayerSourceHidden.clear()},e}()},682:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={production:!0}},683:function(e,t,o){"use strict";var n=o(697),r=(o.n(n),o(690)),i=(o.n(r),o(686)),a=(o.n(i),o(692)),s=(o.n(a),o(691)),c=(o.n(s),o(689)),p=(o.n(c),o(688)),u=(o.n(p),o(696)),l=(o.n(u),o(685)),d=(o.n(l),o(684)),y=(o.n(d),o(694)),f=(o.n(y),o(687)),g=(o.n(f),o(695)),m=(o.n(g),o(693)),h=(o.n(m),o(698)),S=(o.n(h),o(1109));o.n(S)},82:function(e,t,o){"use strict";var n=o(0),r=o(669),i=o(670),a=o(673),s=o(674),c=o(672),p=o(671),u=o(851);o.n(u);o.d(t,"a",function(){return y});var l=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(){}return e.prototype.getBaseMapIntern=function(e){return 0==e?Promise.resolve(r.a):Promise.resolve(r.a)},e.prototype.getBaseMap=function(e){var t=this;return new Promise(function(e){return setTimeout(e,1e3)}).then(function(){return t.getBaseMapIntern(e)})},e.prototype.getFloors=function(){return new Promise(function(e){return setTimeout(e,500)}).then(function(){return Promise.resolve(i.a.reverse())})},e.prototype.getRoomMap=function(e){return this.getRoomMapIntern(e)},e.prototype.getRoomMapIntern=function(e){return 0==e?u.Observable.of(c.a):u.Observable.of(c.a)},e.prototype.getNavigationEdges=function(e){return this.getNavigationEdgesIntern(e)},e.prototype.getNavigationEdgesIntern=function(e){return u.Observable.of(p.a)},e.prototype.getRoute=function(){return new Promise(function(e){return setTimeout(e,300)}).then(function(){return Promise.resolve(s.a)})},e.prototype.searchRoom=function(e){var t=[];if(console.log("searchRoom..."),0==e.length)return u.Observable.of(t);for(var o=0;o<a.a.length;o++)a.a[o].name.startsWith(e)&&t.push(a.a[o]);return u.Observable.of(t)},e.prototype.addEdge=function(e,t,o,n){return null},e.prototype.deleteEdge=function(e){return null},e.prototype.updateEdge=function(e){return null},e=l([o.i(n.R)(),d("design:paramtypes",[])],e)}()},836:function(e,t){e.exports="\n\n.app-toolbar-filler{\n  -webkit-box-flex:1;\n      -ms-flex:1 1 auto;\n          flex:1 1 auto;\n  height:3em;\n}\n\n.header-toolbar{\n  position:absolute;\n  top:0em;\n  bottom:0;\n  right:0;\n  left:0;\n  background-color:#51ae32;\n  color:#ffffff;\n  height:3em;\n  margin:0;\n  z-index:1;\n}\n"},837:function(e,t){e.exports=".floorselector{\n  position:absolute;\n  top:5.0em;\n  left:0.7em;\n  z-index:1;\n  background-color:#FFFFFF80;\n  border-radius:0.5em;\n}\n\n.floormenu{\n  background-color:#FFFFFFFF;\n}\n"},838:function(e,t){e.exports=".modeselector{\r\n  position:absolute;\r\n  top:11.0em;\r\n  left:0.7em;\r\n  z-index:1;\r\n  background-color:#FFFFFF80;\r\n  border-radius:0.5em;\r\n}\r\n"},839:function(e,t){e.exports=".roomsearch{\n  position:absolute;\n  top:0.7em;\n  left:4.7em;\n  z-index:1;\n  background-color:#FFFFFF80;\n  border-radius:0.5em;\n}\n\n.search-result{\n  border-bottom:1px solid gray;\n  border-left:1px solid gray;\n  border-right:1px solid gray;\n  width:195px;\n  height:20px;\n  padding:5px;\n  background-color:white;\n  cursor:pointer;\n}\n#search-box{\n  width:200px;\n  height:20px;\n}\n"},840:function(e,t){e.exports=".placeholder-white{\n  color:#ffffff;\n}\n"},841:function(e,t){e.exports=".routetest{\n  position:absolute;\n  top:8.0em;\n  left:0.7em;\n  z-index:1;\n  background-color:#FFFFFF80;\n  border-radius:0.5em;\n}\n\n.routetestbutton{\n  background-color:#FFFFFFFF;\n}\n"},842:function(e,t){e.exports='.map{\n  position:absolute;\n  top:4em;\n  bottom:0;\n  right:0;\n  left:0;\n  z-index:0;\n}\n\n.ol-popup{\n  position:absolute;\n  background-color:white;\n  -webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\n  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.2));\n  padding:15px;\n  border-radius:10px;\n  border:1px solid #cccccc;\n  bottom:12px;\n  left:-50px;\n}\n.ol-popup:after, .ol-popup:before{\n  top:100%;\n  border:solid transparent;\n  content:" ";\n  height:0;\n  width:0;\n  position:absolute;\n  pointer-events:none;\n}\n.ol-popup:after{\n  border-top-color:white;\n  border-width:10px;\n  left:48px;\n  margin-left:-10px;\n}\n.ol-popup:before{\n  border-top-color:#cccccc;\n  border-width:11px;\n  left:48px;\n  margin-left:-11px;\n}\n.ol-popup-closer{\n  text-decoration:none;\n  position:absolute;\n  top:2px;\n  right:8px;\n}\n.ol-popup-closer:after{\n  content:"✖";\n}\n'},843:function(e,t){e.exports='<app-testmap #mapComp [applicationMode]="currentAppMode"></app-testmap>\n<app-floorselector></app-floorselector>\n\n\n<app-routetest [mapComponentRef] = mapComp *ngIf="currentAppMode && currentAppMode.showDemoRoute"></app-routetest>\n\n<app-modeselector (currentAppModeEvt)="appModeChanged($event)"></app-modeselector>\n<!---->\n\n<md-toolbar class = "header-toolbar">\n  <span>Medcampus</span>\n\n  <span class="app-toolbar-filler"></span>\n\n  <app-roomsearchmd></app-roomsearchmd>\n\n</md-toolbar>\n\n<!--\n<md-toolbar>\n  TestToolbar\n</md-toolbar>\n\n\n\n<md-card>\n  <p>Last dialog result: {{lastDialogResult}}</p>\n  <button md-icon-button (click)="openDialog()">\n     <md-icon>navigation</md-icon>\n  </button>\n</md-card>\n-->\n'},844:function(e,t){e.exports='<div class="floorselector">\n  <button md-raised-button [mdMenuTriggerFor]="menufloors" class="floormenu">\n     <md-icon>more_vert</md-icon><span>{{selectedFloor}}</span>\n  </button>\n  <md-menu #menufloors="mdMenu">\n       <button md-menu-item  *ngFor="let floor of floorList" (click)="onSelect(floor)">{{floor}}</button>\n  </md-menu>\n</div>\n'},845:function(e,t){e.exports='<div class="modeselector">\n  <md-button-toggle-group #group="mdButtonToggleGroup" (change)="modechanged()">\n    <table>\n      <tr *ngFor="let mode of modes">\n        <td>\n          <md-button-toggle (change)="modechanged(mode)">\n            {{mode.name}}\n          </md-button-toggle>\n        </td>\n      </tr>\n  </table>\n</md-button-toggle-group>\n\n</div>\n'},846:function(e,t){e.exports='\n<div class="roomsearch">\n  <input #searchBox id="search-box" (keyup)="search(searchBox.value)"\n    placeholder="Suche Raum..." [(ngModel)] = "currentSearchTerm" />\n  <div>\n    <div *ngFor="let room of rooms | async"\n         (click)="selectRoom(room)" class="search-result" >\n      {{room.name}}\n    </div>\n  </div>\n</div>\n'},847:function(e,t){e.exports='\n\n<i class="material-icons app-input-icon">search</i>\n\n<md-input-container>\n  <input mdInput #searchBox  placeholder="Raumsuche" class="placeholder-white" floatingPlaceholder=true [formControl]="term">\n</md-input-container>\n\n<div [hidden]="!showsuggestions">\n  <div [hidden]="true">\n    <button md-raised-button [mdMenuTriggerFor]="menusearch" class="floormenu">\n    </button>\n  </div>\n\n  <md-menu #menusearch="mdMenu" [hidden]="!showsuggestions">\n       <button md-menu-item *ngFor="let room of rooms" (click)="selectRoom(room)">{{room.name}}</button>\n  </md-menu>\n</div>\n\n<!--\n<div class="suggestions" *ngIf="rooms.length > 0">\n    <ul>\n        <li *ngFor="let room of rooms">\n            <a (click)="selectRoom(room)">{{room.name}}</a>\n        </li>\n    </ul>\n</div>\n-->\n'},848:function(e,t){e.exports='<div class="routetest">\n  <button md-raised-button (click)="toogleroute()" class="routetestbutton">\n     <md-icon>directions</md-icon><span></span>\n  </button>\n</div>\n'},849:function(e,t){e.exports='<!--<p>\n  testmap works!\n</p>-->\n<div id="map" class="map">\n</div>\n<div id="roomPopup" #roomPopup class="ol-popup">\n    <!--<a href="#" id="popup-closer" class="ol-popup-closer"></a>-->\n    <div id="popup-content">Hi!..........</div>\n</div>\n'}},[1110]);
//# sourceMappingURL=main.b36248ed3f25e47d074c.bundle.map